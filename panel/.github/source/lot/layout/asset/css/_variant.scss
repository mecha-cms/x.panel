$variant: 'default' !default;

$base: #fff !default;
$mix: #000 !default;

$ring: 0 0 0 3px rgba(0, 0, 0, .025) !default;
$ring-error: 0 0 0 3px rgba(255, 0, 0, .15) !default;

$body: sans-serif !default;
$code: monospace !default;

@function variant($percent: 0%) {
  @return mix($mix, $base, $percent);
}

.is\:#{$variant} {
  background: variant(0%);
  border-color: variant(5%);
  font-family: $body;
  color: variant(60%);
  a {
    &[href] {
      color: variant(40%);
      &:focus,
      &:active {
        color: variant(50%);
      }
    }
    &.not\:active {
      color: variant(20%);
    }
  }
  blockquote,
  caption,
  figcaption,
  .description {
    color: variant(50%);
  }
  code, .code {
    font-family: $code;
  }
  fieldset, hr,
  .table td,
  .table th {
    border-color: variant(5%);
  }
  pre {
    > code {
      background: variant(5%);
      color: inherit;
    }
    &.is\:text {
      > code {
        background: none;
        border-color: variant(5%);
      }
    }
  }
  .alert {
    p {
      background: variant(1%);
    }
  }
  .button {
    &,
    &[href] {
      background: variant(30%);
      color: variant(95%);
      &:not(.not\:active) {
        &:focus {
          background: lighten(variant(30%), 5%);
          color: variant(95%);
          box-shadow: $ring;
        }
        &:active {
          background: darken(variant(30%), 5%);
          color: variant(95%);
        }
      }
    }
  }
  .input,
  .select,
  .textarea {
    background: variant(5%);
    border-color: variant(10%);
    color: variant(70%);
    &:not(.not\:active) {
      &:focus {
        border-color: variant(15%);
        box-shadow: $ring;
        &:invalid {
          border-color: mix(red, variant(15%), 50%);
          color: mix(red, variant(70%), 50%);
          box-shadow: $ring-error;
        }
      }
    }
    &.is\:locked {
      background: none;
      border-style: solid;
    }
  }
  .input {
    &[type='color'],
    &[type='file'],
    &[type='image'],
    &[type='range'] {
      background: none;
    }
  }
  .select {
    optgroup,
    option {
      background: variant(5%);
      color: inherit;
    }
  }
  .lot\:field {
    .lot\:f {
      > .button,
      > .fix,
      > .options > .button {
        background: variant(4%);
        border-color: variant(10%);
        &:focus {
          background: variant(0%);
          border-color: variant(15%);
        }
      }
    }
  }
  .lot\:field.type\:toggle {
    .input {
      &[type='checkbox'] {
        &::before {
          background: variant(90%);
        }
        &:checked {
          &::before {
            background: variant(90%);
          }
        }
      }
    }
  }
  .lot\:bar {
    .lot\:links {
      > ul {
        > li {
          > a {
            &:focus,
            &:hover {
              background: variant(1%);
            }
          }
          &.is\:separator {
            background: variant(5%);
          }
        }
      }
    }
    .lot\:field {
      .input {
        &:focus {
          box-shadow: none;
        }
      }
    }
    .not\:active {
      opacity: 1;
      color: variant(20%);
      > a {
        color: inherit;
      }
      &.is\:current {
        color: variant(25%);
      }
    }
  }
  .lot\:fields {
    > .description {
      border-bottom-color: variant(5%);
    }
    .option-picker,
    .tag-picker {
      background: variant(5%);
      border-color: variant(10%);
      color: variant(70%);
      &--focus:not(.not\:active) {
        border-color: variant(15%);
        box-shadow: $ring;
      }
    }
    .option-picker {
      &::after {
        border-top-color: variant(70%);
      }
      &--open {
        &::after {
          border-bottom-color: variant(70%);
        }
      }
      &__option {
        &:hover {
          background: variant(10%);
          color: inherit;
        }
        &--active {
          background: variant(10%);
          color: variant(95%);
          &:hover {
            color: variant(95%);
          }
        }
        &--lock {
          color: variant(25%);
          &:hover {
            background: none;
            color: variant(25%);
          }
        }
      }
      &__options {
        background: inherit;
        border-color: inherit;
        color: inherit;
      }
      &__value {
        background: none !important;
      }
    }
    .tag-picker {
      &__tag {
        background: variant(15%);
        color: inherit;
        &--focus {
          background: variant(20%);
        }
      }
      &__text {
        background: none;
        &--focus {
          background: none;
        }
      }
      &.is\:locked {
        background: none;
        border-style: solid;
      }
      &.not\:active {
        .tag-picker__tag {
          background: variant(15%);
        }
        .tag-picker__text {
          background: none;
          &--focus {
            background: none;
          }
        }
      }
    }
  }
  .lot\:menu {
    background: variant(0%);
    color: variant(60%);
    a {
      &:focus,
      &:hover {
        background: variant(1%);
      }
    }
    li {
      &:focus,
      &:hover {
        > a {
          background: variant(1%);
        }
      }
      &.is\:current {
        > a {
          background: variant(2%);
          &:focus,
          &:hover {
            background: variant(3%);
          }
        }
      }
      &.is\:separator {
        background: variant(5%);
      }
      .title {
        small {
          background: variant(5%);
          color: variant(65%);
        }
      }
    }
    .not\:active {
      opacity: 1;
      color: variant(20%);
      > a {
        color: inherit;
      }
      &.is\:current {
        color: variant(25%);
      }
    }
  }
  .is\:file {
    &::before {
      background: variant(0%);
      border-color: variant(30%);
    }
    &::after {
      border-bottom-color: variant(30%);
      border-left-color: variant(30%);
    }
  }
  .is\:folder {
    &::before {
      background: variant(40%);
    }
    &::after {
      background: darken(variant(40%), 15%);
    }
  }
  .lot\:file,
  .lot\:folder,
  .lot\:page {
    border-color: variant(0%);
    &:hover {
      background: variant(1%);
      border-color: variant(1%);
    }
    &.is\:current {
      background: variant(2%);
      border-color: variant(2%);
      &:hover {
        background: variant(3%);
        border-color: variant(3%);
      }
    }
  }
  .lot\:files,
  .lot\:folders,
  .lot\:pages {
    .lot\:tasks {
      gap: 0;
      > * {
        .title {
          span {
            display: none;
          }
        }
      }
    }
  }
  .lot\:pager {
    > span {
      > a {
        background: variant(30%);
        color: variant(95%);
        &:focus {
          background: variant(40%);
          color: variant(95%);
        }
        &:active {
          background: variant(20%);
          color: variant(95%);
        }
      }
      > b,
      > span {
        background: none;
        color: inherit;
      }
    }
  }
  .lot\:tabs {
    .lot\:links {
      li {
        border-color: variant(5%);
        a:not(.has\:link) {
          &:not(.not\:active) {
            &:focus {
              color: variant(70%);
            }
          }
        }
        &.is\:current {
          &::before,
          &::after {
            border-color: variant(5%);
          }
        }
        @media (min-width: 720px) {
          &:not(.is\:current) {
            background: variant(1%);
            color: variant(60%);
          }
        }
        &.not\:active {
          color: variant(20%);
        }
      }
    }
  }
  .input {
    &[type='checkbox'],
    &[type='radio'] {
      background: variant(30%);
      &:not(.not\:active):focus {
        background: lighten(variant(30%), 5%);
      }
      &:not(.not\:active):active {
        background: darken(variant(30%), 5%);
      }
      &::before {
        background: variant(0%);
      }
      &:checked {
        &::before {
          background: none;
        }
      }
    }
    &[type='checkbox'] {
      &:checked {
        &::before {
          border-right-color: variant(95%);
          border-bottom-color: variant(95%);
        }
      }
    }
    &[type='radio'] {
      &:checked {
        &::before {
          border-color: variant(0%);
        }
      }
    }
    &[type='range'] {
      &::-webkit-slider-runnable-track {
        background: variant(10%);
      }
      &::-webkit-slider-thumb {
        background: variant(30%);
      }
      &::-moz-range-track {
        background: variant(10%);
      }
      &::-moz-range-thumb {
        background: variant(30%);
      }
      &:not(.not\:active) {
        &:focus {
          box-shadow: none;
          &::-webkit-slider-runnable-track {
            background: variant(15%);
          }
          &::-webkit-slider-thumb {
            background: lighten(variant(30%), 5%);
            box-shadow: $ring;
          }
          &::-moz-range-track {
            background: variant(15%);
          }
          &::-moz-range-thumb {
            background: lighten(variant(30%), 5%);
            box-shadow: $ring;
          }
        }
        &:active {
          &::-webkit-slider-thumb {
            background: darken(variant(30%), 5%);
          }
          &::-moz-range-thumb {
            background: darken(variant(30%), 5%);
          }
        }
      }
    }
  }
}