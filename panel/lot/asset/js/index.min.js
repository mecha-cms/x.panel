!function(){"use strict";var e=function(e){return function(e){return void 0!==e}(e)&&!function(e){return null===e}(e)},n=document,t=window,r=n.body,u=n.documentElement,o=function(e,n){return n?e.closest(n)||null:e.parentNode||null},l=function(e){return e&&e.preventDefault()},c=function(e,n,t,r){void 0===r&&(r=!1),n.addEventListener(e,t,r)};function i(n){void 0===n&&(n={});var t=this;return t.commands={},t.fire=function(n){var r,u,o=t.source;if("function"==typeof n)r=n.call(o),u=!0;else if(function(e){return"string"==typeof e}(n)&&(n=t.commands[n]))r=n.call(o),u=!0;else if(function(e){return Array.isArray(e)}(n)){var l=n[1]||[];(n=t.commands[n[0]])&&(r=n.apply(o,l),u=!0)}return u?!e(r)||r:null},t.key=null,t.keys={},t.pull=function(n){return t.key=null,e(n)?(delete t.queue[n],t):(t.queue={},t)},t.push=function(e){return t.queue[t.key=e]=1,t},t.queue={},t.source=n,t.test=function(){var n=t.keys[t.toString()];return!!e(n)&&n},t.toString=function(){return(e=t.queue,Object.keys(e)).join("-");var e},t}let f=new i(t);c("blur",t,(e=>f.pull())),c("keydown",t,(e=>{f.push(e.key);let n=f.test();if(n){let t=f.fire(n);!1===t?l(e):null===t&&console.error("Unknown command:",n)}})),c("keyup",t,(e=>f.pull(e.key)));const s={commands:f.commands,keys:f.keys},{fire:a,hooks:d,off:y,on:k}=function(n){var t={};return n.hooks=t,n.fire=function(r,u){return e(t[r])?(t[r].forEach((function(e){return e.apply(n,u)})),n):n},n.off=function(r,u){if(!e(r))return t={},n;if(e(t[r]))if(e(u)){for(var o=0,l=t[r].length;o<l;++o)if(u===t[r][o]){t[r].splice(o,1);break}0===j&&delete t[r]}else delete t[r];return n},n.on=function(r,u){return e(t[r])||(t[r]=[]),e(u)&&t[r].push(u),n},n}(s);t.K=i,t._=s,c("beforeload",n,(()=>a("let"))),c("load",n,(()=>a("get"))),c("DOMContentLoaded",n,(()=>a("set")));const p=(v="get",n.forms[v]||null);var v;const m=p&&p.q;m&&c("keydown",m,(function(e){if(e.defaultPrevented)return;let n,t=e.key,r=e.altKey,o=e.ctrlKey,c=e.shiftKey;!(o&&"f"===t||"Escape"===t)||r||c||(u.focus(),n=!0),n&&l(e)})),c("keydown",t,(function(e){if(e.defaultPrevented)return;let c,i,f=e.target,s=e.key,a=e.altKey,d=e.ctrlKey,y=e.shiftKey,k=(p=".lot\\:bar a:any-link",(v||n).querySelector(p));var p,v,h;!m||"F3"!==s||a||d||y?!k||"F10"!==s||a||d||y?r!==f&&u!==f&&t!==f&&"Escape"===s&&(c=o(o(f),"[tabindex]:not(.not\\:active)"))&&(c.focus(),i=!0):(k.focus(),(c=o(k))&&(h="has:menu",c.classList.contains(h)&&k.click()),i=!0):(m.focus(),i=!0),i&&l(e)}))}();