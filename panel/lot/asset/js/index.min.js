!function(){"use strict";var e=function(e){return function(e){return void 0!==e}(e)&&!function(e){return null===e}(e)},n=document,t=window,r=function(e,n,t,r){void 0===r&&(r=!1),n.addEventListener(e,t,r)};function u(n){void 0===n&&(n={});var t=this;return t.commands={},t.fire=function(n){var r,u,o=t.source;if("function"==typeof n)r=n.call(o),u=!0;else if(function(e){return"string"==typeof e}(n)&&(n=t.commands[n]))r=n.call(o),u=!0;else if(function(e){return Array.isArray(e)}(n)){var i=n[1]||[];(n=t.commands[n[0]])&&(r=n.apply(o,i),u=!0)}return u?!e(r)||r:null},t.key=null,t.keys={},t.pull=function(n){return t.key=null,e(n)?(delete t.queue[n],t):(t.queue={},t)},t.push=function(e){return t.queue[t.key=e]=1,t},t.queue={},t.source=n,t.test=function(){var n=t.keys[t.toString()];return!!e(n)&&n},t.toString=function(){return(e=t.queue,Object.keys(e)).join("-");var e},t}let o=new u(t);r("blur",t,(e=>o.pull())),r("keydown",t,(e=>{o.push(e.key);let n=o.test();if(n){let t=o.fire(n);!1===t?function(e){e&&e.preventDefault()}(e):null===t&&console.error("Unknown command:",n)}})),r("keyup",t,(e=>o.pull(e.key)));const i={commands:o.commands,keys:o.keys},{fire:f,hooks:l,off:c,on:s}=function(n){var t={};return n.hooks=t,n.fire=function(r,u){return e(t[r])?(t[r].forEach((function(e){return e.apply(n,u)})),n):n},n.off=function(r,u){if(!e(r))return t={},n;if(e(t[r]))if(e(u)){for(var o=0,i=t[r].length;o<i;++o)if(u===t[r][o]){t[r].splice(o,1);break}0===j&&delete t[r]}else delete t[r];return n},n.on=function(r,u){return e(t[r])||(t[r]=[]),e(u)&&t[r].push(u),n},n}(i);t.K=u,t._=i,r("beforeload",n,(()=>f("let"))),r("load",n,(()=>f("get"))),r("DOMContentLoaded",n,(()=>f("set")))}();