!function(){"use strict";var n=function(n){return Array.isArray(n)},t=function(n,t){return void 0===t&&(t=!0),"object"==typeof n&&(!t||function(n,t){return n&&r(t)&&n instanceof t}(n,Object))},r=function(n){return function(n){return void 0!==n}(n)&&!function(n){return null===n}(n)},e=function(n){return"string"==typeof n},i=function r(e){if(n(e))return e.map((function(n){return r(n)}));if(function(n){return/^-?(?:\d*.)?\d+$/.test(n+"")}(e))return function(n,t){return void 0===t&&(t=10),t?parseInt(n,t):parseFloat(n)}(e);if(t(e)){for(var i in e)e[i]=r(e[i]);return e}return"false"!==e&&("null"===e?null:"true"===e||e)},u=function r(e){if(n(e))return e.map((function(n){return r(e)}));if(t(e)){for(var i in e)e[i]=r(e[i]);return e}return!1===e?"false":null===e?"null":!0===e?"true":""+e},c=document,o=window,l=function(n){return n.firstElementChild||null},f=function(n,t,r){void 0===r&&(r=!0);var e=function(n,t,r){if(void 0===r&&(r=!0),!p(n,t))return null;var e=n.getAttribute(t);return r?i(e):e}(n,"data-"+t,r),u=(e+"").trim();return r&&u&&("["===u[0]&&"]"===u.slice(-1)||"{"===u[0]&&"}"===u.slice(-1))&&null!==(u=function(n){var t=null;try{t=JSON.parse(n)}catch(n){}return t}(e))?u:e},a=function(n,t){return(t||c).querySelector(n)},s=function(n,t){return(t||c).querySelectorAll(n)},d=function(n){return n.nextElementSibling||null},v=function(n,t){return t?n.closest(t)||null:n.parentNode||null},g=function(n){return n.previousElementSibling||null},p=function(n,t){return n.hasAttribute(t)},k=function(n,t){return n.classList.contains(t)},h=function(n,t){return n.removeAttribute(t),n},w=function(n,t){return n.classList.remove(t),n},y=function(n,t,r){return!0===r&&(r=t),n.setAttribute(t,u(r)),n},A=function(n,t){return n.classList.add(t),n},m=function(n,r,i){return n=e(n)?c.createElement(n):n,t(r)&&(i=r,r=!1),e(r)&&E(n,r),t(i)&&function(n,t){var r;for(var e in t)(r=t[e])||""===r||0===r?y(n,e,r):h(n,e)}(n,i),n},E=function(n,t,r){if(void 0===r&&(r=!0),null===t)return n;var e="innerHTML";return function(n,t){return t in n}(n,e)&&(n[e]=r?t.trim():t),n},b=function(n,t,r){return n.classList.toggle(t,r),n},L={},P=function(n,t,e,i){t.dispatchEvent(function(n,t,e){return e&&r(L[n])?L[n]:L[n]=new Event(n,t)}(n,e,i))},D=function(n){return n&&n.preventDefault()},K=function(n){return n&&n.stopPropagation()},S=function(n,t,r,e){void 0===e&&(e=!1),t.addEventListener(n,r,e)};const U='a[target^="stack:"]:not(.not\\:active)';function x(n){n&&"function"==typeof n.focus&&n.focus()}function H(){let n=s(".lot\\:stacks[tabindex]");n&&n.length&&n.forEach((n=>{let t,r,e=[].slice.call((c=n.children,"number"==typeof u?c[u]||null:c||[])),i=m("input");var u,c;function l(n){let u,c=this,l=v(v(c)),s=v(l,".lot\\:stacks");k(l,"has:link")||(e.forEach((n=>{n!==l&&(w(n,"is:current"),w(a('a[target^="stack:"]',n),"is:current"))})),k(l,"can:toggle")?(b(c,"is:current"),b(l,"is:current")):(A(c,"is:current"),A(l,"is:current")),u=k(c,"is:current"),i.value=r=u?f(l,"value"):null,b(s,"has:current",u),o._.fire.call(l,"change.stack",[r,t])),D(n)}i.type="hidden",i.name=t=f(n,"name"),function(n,t){n.append(t)}(n,i),e.forEach((n=>{let t=a(U,n);S("click",t,l),S("keydown",t,R)}));let s=e.find(((n,t)=>0!==t&&k(n,"is:current")));s&&(i.value=f(s,"value")),S("keydown",n,j)}))}function R(n){if(n.defaultPrevented)return;let t,r,e,i,u,c,o=this,f=n.key,p=n.altKey,h=n.ctrlKey;if(!p&&!h)if("ArrowDown"===f||"ArrowRight"===f||"PageDown"===f){if(i=v(v(o)))for(e=d(i);e&&k(e,"not:active");)e=d(e);(r=e&&l(e))&&("ArrowRight"===f&&k(v(r),"can:toggle")||P("click",l(r)),x(l(r))),c=!0}else if("ArrowUp"===f||"ArrowLeft"===f||"PageUp"===f){if(i=v(v(o)))for(u=g(i);u&&k(u,"not:active");)u=g(u);(r=u&&l(u))&&("ArrowLeft"===f&&k(v(r),"can:toggle")||P("click",l(r)),x(l(r))),c=!0}else" "===f||"Enter"===f?(k(v(v(o)),"can:toggle")&&(P("click",o),x(o)),c=!0):"End"===f?((i=v(o,".lot\\:stacks[tabindex]"))&&(t=[].slice.call(s(U,i)),(r=t.pop())&&(P("click",r),x(r))),c=!0):"Home"===f&&((i=v(o,".lot\\:stacks[tabindex]"))&&(r=a(U,i))&&(P("click",r),x(r)),c=!0);c&&(D(n),K(n))}function j(n){if(n.defaultPrevented)return;let t,r,e,i,u,c=this,o=n.key,l=n.altKey,f=n.ctrlKey,p=n.shiftKey;if(l&&f&&!p)r=a(U+".is\\:current",c),r=r&&v(v(r)),"PageDown"===o?(e=r&&d(r),(r=e&&a(U,e))&&(P("click",r),x(r)),u=!0):"PageUp"===o&&(i=r&&g(r),(r=i&&a(U,i))&&(P("click",r),x(r)),u=!0);else if(!l&&!f&&!p){if(c!==n.target)return;"ArrowDown"===o||"ArrowRight"===o||"Home"===o||"PageDown"===o?((r=a(U,c))&&(P("click",r),x(r)),u=!0):"ArrowUp"!==o&&"ArrowLeft"!==o&&"End"!==o&&"PageUp"!==o||(t=[].slice.call(s(U,c)),(r=t.pop())&&(P("click",r),x(r)),u=!0)}u&&(D(n),K(n))}H(),o._.on("change",H)}();