!function(){"use strict";var n=function(n){return Array.isArray(n)},t=function(n){return"function"==typeof n},r=function(n,t){return void 0===t&&(t=!0),"object"==typeof n&&(!t||function(n,t){return n&&e(t)&&n instanceof t}(n,Object))},e=function(n){return function(n){return void 0!==n}(n)&&!function(n){return null===n}(n)},u=function(n){return"string"==typeof n},i=function t(e){if(n(e))return e.map((function(n){return t(n)}));if(function(n){return/^-?(?:\d*.)?\d+$/.test(n+"")}(e))return function(n,t){return void 0===t&&(t=10),t?parseInt(n,t):parseFloat(n)}(e);if(r(e)){for(var u in e)e[u]=t(e[u]);return e}return"false"!==e&&("null"===e?null:"true"===e||e)},c=function t(e){if(n(e))return e.map((function(n){return t(e)}));if(r(e)){for(var u in e)e[u]=t(e[u]);return e}return!1===e?"false":null===e?"null":!0===e?"true":""+e},o=document,l=window,f=function(n,t,r){void 0===r&&(r=!0);var e=function(n,t,r){if(void 0===r&&(r=!0),!d(n,t))return null;var e=n.getAttribute(t);return r?i(e):e}(n,"data-"+t,r),u=(e+"").trim();return r&&u&&("["===u[0]&&"]"===u.slice(-1)||"{"===u[0]&&"}"===u.slice(-1))&&null!==(u=function(n){var t=null;try{t=JSON.parse(n)}catch(n){}return t}(e))?u:e},a=function(n,t){return(t||o).querySelector(n)},s=function(n){return n.parentNode||null},v=function(n){return n.previousElementSibling||null},d=function(n,t){return n.hasAttribute(t)},p=function(n,t){return n.classList.contains(t)},g=function(n,t){return n.removeAttribute(t),n},y=function(n,t){return n.classList.remove(t),n},h=function(n,t,r){return!0===r&&(r=t),n.setAttribute(t,c(r)),n},m=function(n,t){return n.classList.add(t),n},k=function(n,t,e){return n=u(n)?o.createElement(n):n,r(t)&&(e=t,t=!1),u(t)&&b(n,t),r(e)&&function(n,t){var r;for(var e in t)(r=t[e])||""===r||0===r?h(n,e,r):g(n,e)}(n,e),n},b=function(n,t,r){if(void 0===r&&(r=!0),null===t)return n;var e="innerHTML";return function(n,t){return t in n}(n,e)&&(n[e]=r?t.trim():t),n},A=function(n,t,r){return n.classList.toggle(t,r),n},E=function(n){return n&&n.preventDefault()},L=function(n){return n&&n.stopPropagation()},S=function(n,t,r,e){void 0===e&&(e=!1),t.addEventListener(n,r,e)};function w(){let n=(t=".lot\\:stacks",(r||o).querySelectorAll(t));var t,r;n&&n.length&&n.forEach((n=>{let t,r,e=[].slice.call((c=n.children,"number"==typeof i?c[i]||null:c||[])),u=k("input");var i,c;function o(n){let i=this,c=s(i);p(i,"has:link")||(p(i,"not:active")||(e.forEach((n=>{n!==c&&(y(n,"is:current"),y(a(".title",n),"is:current"))})),p(c,"can:toggle")?(A(i,"is:current"),A(c,"is:current"),u.value=r=p(i,"is:current")?f(c,"value"):null):(m(i,"is:current"),m(c,"is:current"),u.value=r=f(c,"value")),l._.fire("change.stack",[t,r])),E(n))}u.type="hidden",u.name=t=f(n,"name"),function(n,t){n.append(t)}(n,u),e.forEach((n=>{S("click",a(".title",n),o)}));let v=e.find(((n,t)=>0!==t&&p(n,"is:current")));v&&(u.value=f(v,"value")),S("keydown",n,P)}))}function P(n){let r=this,e=n.key,u=n.altKey,i=n.ctrlKey;if(u&&i){let u,i,c,o;if("PageDown"===e){if(u=a(".title.is\\:current",r),c=u&&s(u),c)for(;(i=c.nextElementSibling||null)&&p(i,"not:active"););u=i&&a(".title",i),u&&(t(u.focus)&&u.focus(),t(u.click)&&u.click()),E(n),L(n)}else if("PageUp"===e){if(u=a(".title.is\\:current",r),c=u&&s(u),c)for(;(o=v(c))&&p(o,"not:active"););u=o&&a(".title",o),u&&(t(u.focus)&&u.focus(),t(u.click)&&u.click()),E(n),L(n)}}}w(),l._.on("change",w)}();