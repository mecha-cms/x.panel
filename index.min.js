!function(){"use strict";var e=function(e,t){return-1!==t.indexOf(e)},t=function(e){return Array.isArray(e)},r=function(e){return"function"==typeof e},n=function(e,t){return e&&s(t)&&e instanceof t},i=function(e){return"number"==typeof e},o=function(e,t){return void 0===t&&(t=!0),"object"==typeof e&&(!t||n(e,Object))},s=function(e){return function(e){return void 0!==e}(e)&&!function(e){return null===e}(e)},a=function(e){return"string"==typeof e},c=function(e){return t(e)?e:[e]},l=function(e,t){var r=t.indexOf(e);return-1!==r?r:null},u=function(e){return e.replace(/[-_.](\w)/g,(function(e,t){return d(t)}))},f=function(e){return e.toLowerCase()},d=function(e){return e.toUpperCase()},h=function(e){return e.length},p=function(e,t){return s(t[0])&&e<t[0]?t[0]:s(t[1])&&e>t[1]?t[1]:e},v=function(e,t){return void 0===t&&(t=!0),e=e.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&"),t&&(e=e.replace(/&apos;/g,"'").replace(/&quot;/g,'"')),e},g=function(e,t){return void 0===t&&(t=10),t?parseInt(e,t):parseFloat(e)},m=function(e){return h(y(e))},y=function(e){return Object.keys(e)},b=function(e){return Object.values(e)},k=function e(r){if(t(r))return r.map((function(t){return e(t)}));if(function(e){return/^-?(?:\d*.)?\d+$/.test(e+"")}(r))return g(r);if(o(r)){for(var n in r)r[n]=e(r[n]);return r}return"false"!==r&&("null"===r?null:"true"===r||r)},w=function(e,t){return e=e.replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;"),t&&(e=e.replace(/'/g,"&apos;").replace(/"/g,"&quot;")),e},x=function r(){for(var n=arguments.length,i=Array(n),a=0;a<n;a++)i[a]=arguments[a];for(var c=i.shift(),l=0,u=h(i);l<u;++l)for(var f in i[l])if(s(c[f]))if(t(c[f])&&t(i[l][f])){c[f]=[].concat(c[f]);for(var d=0,p=h(i[l][f]);d<p;++d)e(i[l][f][d],c[f])||c[f].push(i[l][f][d])}else o(c[f])&&o(i[l][f])?c[f]=r({},c[f],i[l][f]):c[f]=i[l][f];else c[f]=i[l][f];return c},E=function e(r){if(t(r))return r.map((function(t){return e(r)}));if(o(r)){for(var n in r)r[n]=e(r[n]);return r}return!1===r?"false":null===r?"null":!0===r?"true":""+r},S=document,P=window,A=S.body,$=S.documentElement,T=function(e,t,r){if(void 0===r&&(r=!0),!z(e,t))return null;var n=e.getAttribute(t);return r?k(n):n},L=function(e){return e.firstElementChild||null},H=function(e,t){var r=e.children;return i(t)?r[t]||null:r||[]},C=function(e,t){void 0===t&&(t=!0);var r=(N(e,"className")||"").trim();return t?r.split(/\s+/).filter((function(e){return""!==e})):r},K=function(e,t,r){void 0===r&&(r=!0);var n=T(e,"data-"+t,r),i=(n+"").trim();return r&&i&&("["===i[0]&&"]"===i.slice(-1)||"{"===i[0]&&"}"===i.slice(-1))&&null!==(i=function(e){var t=null;try{t=JSON.parse(e)}catch(e){}return t}(n))?i:n},D=function(e,t){return(t||S).querySelector(e)},q=function(e,t){return(t||S).querySelectorAll(e)},O=function(e,t){void 0===t&&(t=!0);var r="innerHTML";if(!G(e,r))return!1;var n=e[r];return""!==(n=t?n.trim():n)?n:null},R=function(e){return f(e&&e.nodeName||"")||null},F=function(e,t){return e["next"+(t?"":"Element")+"Sibling"]||null},X=function(e,t){return t?e.closest(t)||null:e.parentNode||null},W=function(e){var t="form";return G(e,t)&&t===R(e[t])?e[t]:X(e,t)},I=function(e,t){return e["previous"+(t?"":"Element")+"Sibling"]||null},U=function(e,t,r){void 0===r&&(r=!0);var n=P.getComputedStyle(e).getPropertyValue(t);return r&&(n=k(n)),n||""===n||0===n?n:null},N=function(e,t){return G(e,t)&&e[t]||null},M=function(e,t){void 0===t&&(t=!0);var r="textContent";if(!G(e,r))return!1;var n=e[r];return""!==(n=t?n.trim():n)?n:null},z=function(e,t){return e.hasAttribute(t)},Y=function(e,t){return e.classList.contains(t)},B=function(e,t){return null!==X(e,t)},G=function(e,t){return t in e},V=function(e){return n(e,Node)},J=function(e){return e===P},Q=function(e,t){return e.removeAttribute(t),e},Z=function(e,t){return e.classList.remove(t),e},ee=function(e,r){if(t(r))return r.forEach((function(t){return e.classList.remove(t)})),e;if(o(r)){for(var n in r)r[n]&&e.classList.remove(n);return e}return e.className="",e},te=function(e,t){return Q(e,"data-"+t)},re=function(e){var t=X(e);return e.remove(),t},ne=function(e,t){return e.style[u(t)]=null,e},ie=function(e){var t="textContent";return G(e,t)&&(e[t]=""),e},oe=function(e,t,r){return!0===r&&(r=t),e.setAttribute(t,E(r)),e},se=function(e,t){return e.append(t),t},ae=function(e,t){return e.classList.add(t),e},ce=function(e,r){if(t(r))return r.forEach((function(t){return e.classList.add(t)})),e;if(o(r))for(var n in r)r[n]?e.classList.add(n):e.classList.remove(n);return e.className=r,e},le=function(e,t){var r;for(var n in t)(r=t[n])||""===r||0===r?ue(e,n,r):te(e,n);return e},ue=function(e,r,n){return(t(n)||o(n))&&(n=function(e){return JSON.stringify(e)}(n)),oe(e,"data-"+r,n)},fe=function(e,t,r){return e=a(e)?S.createElement(e):e,o(t)&&(r=t,t=!1),a(t)&&de(e,t),o(r)&&function(e,t){var r;for(var n in t)(r=t[n])||""===r||0===r?oe(e,n,r):Q(e,n)}(e,r),e},de=function(e,t,r){if(void 0===r&&(r=!0),null===t)return e;var n="innerHTML";return G(e,n)&&(e[n]=r?t.trim():t),e},he=function(e,t){return X(e).insertBefore(t,F(e,!0)),t},pe=function(e,t){return X(e).insertBefore(t,e),t},ve=function(e,t,r){return i(r)&&(r+="px"),e.style[u(t)]=E(r),e},ge=function(e,t){var r;for(var n in t)(r=t[n])||""===r||0===r?ve(e,n,r):ne(e,n);return e},me=function(e,t,r){if(void 0===r&&(r=!0),null===t)return e;var n="textContent";return G(e,n)&&(e[n]=r?t.trim():t),e},ye=function(e,t,r){return e.classList.toggle(t,r),e},be=P.location,ke={},we=function(e,t,r,n){t.dispatchEvent(function(e,t,r){return r&&s(ke[e])?ke[e]:ke[e]=new Event(e,t)}(e,r,n))},xe=function(e,t,r){t.removeEventListener(e,r)},Ee=function(e){return e&&e.preventDefault()},Se=function(e){return e&&e.stopPropagation()},Pe=function(e,t,r){e.forEach((function(e){return xe(e,t,r)}))},Ae=function(e,t,r,n){void 0===n&&(n=!1),t.addEventListener(e,r,n)},$e=function(e,t,r,n){void 0===n&&(n=!1),e.forEach((function(e){return Ae(e,t,r,n)}))},Te=':scope>:where([tabindex]):not([tabindex="-1"]):not(.not\\:active)';function Le(e){e&&r(e.focus)&&e.focus()}function He(e){if(!e.defaultPrevented){var t,r=this,n=e.key,i=e.altKey,o=e.ctrlKey,s=e.shiftKey;if(r===e.target){if(!i&&!o&&!s)"ArrowLeft"===n||"End"===n?(Le([].slice.call(q(Te,r)).pop()),t=!0):"ArrowRight"!==n&&"Home"!==n||(Le(D(Te,r)),t=!0);t&&(Ee(e),Se(e))}}}function _e(e){if(!e.defaultPrevented){var t,r,n,i=this,o=e.key;if(i===e.target){for(t=F(i);t&&Y(t,"not:active");)t=F(t);for(r=I(i);r&&Y(r,"not:active");)r=I(r);"ArrowLeft"===o?(Le(r),n=!0):"ArrowRight"===o?(Le(t),n=!0):"End"===o?(Le([].slice.call(q(Te,X(i))).pop()),n=!0):"Home"===o&&(Le(D(Te,X(i))),n=!0),n&&(Ee(e),Se(e))}}}var Ce=fe("dialog"),Ke=fe("form","",{method:"dialog"}),De=fe("div");function qe(e){var t=this;xe("cancel",t,qe),xe("close",t,Oe),xe("submit",t,Re),t.x(k(t.returnValue)),r(t.c)&&t.c.call(t,t.open)}function Oe(e){var t=this;xe("cancel",t,qe),xe("close",t,Oe),xe("submit",t,Re),t.v(k(t.returnValue)),r(t.c)&&t.c.call(t,t.open)}function Re(e){Oe.call(this,e)}function je(e,t){var n;for(de(Ke,""),a(e)?(de(De,e.trim()),e=De.childNodes):V(e)&&(e=[e]),e=Array.from(e);n=e.shift();)se(Ke,n);Ce.showModal(),Ce.returnValue=null,r(t)&&t.call(Ce,Ce.open);var i=D("[autofocus]",Ke);return i&&(r(i.focus)&&i.focus(),r(i.select)&&i.select()),new Promise((function(e,r){Ce.c=t,Ce.v=e,Ce.x=r,Ae("cancel",Ce,qe),Ae("close",Ce,Oe),Ae("submit",Ce,Re)}))}function Fe(){var e=this,t=X(e.form);t.returnValue=e.value,we("reset"===e.type?"cancel":"close",t),t.open&&t.close()}function Xe(e){var t,r,n=e.key;"ArrowLeft"===n||"ArrowUp"===n?((r=I(this))&&r.focus(),Ee(e)):"ArrowDown"!==n&&"ArrowRight"!==n||((t=F(this))&&t.focus(),Ee(e))}se(A,Ce),se(Ce,Ke);var We=fe("p"),Ie=fe("p","",{role:"group"}),Ue=fe("button","OK",{class:"is:host",type:"submit",value:"true"});Ae("keydown",Ue,Xe),Ae("click",Ue,Fe),se(Ie,Ue),je.alert=function(e){return de(We,e),je([We,Ie])};var Ne=fe("p"),Me=fe("p","",{role:"group"}),ze=fe("button","OK",{class:"is:host",type:"submit",value:"true"}),Ye=fe("button","Cancel",{class:"is:host",type:"reset",value:"false"});Ae("click",Ye,Fe),Ae("click",ze,Fe),Ae("keydown",Ye,Xe),Ae("keydown",ze,Xe),se(Me,ze),se(Me,Ye),je.confirm=function(e){return de(Ne,e),je([Ne,Me])};var Be=fe("p"),Ge=fe("input",!1,{autofocus:!0,class:"is:host",type:"text"}),Ve=fe("p"),Je=fe("p","",{role:"group"}),Qe=fe("button","OK",{class:"is:host",type:"submit",value:""}),Ze=fe("button","Cancel",{class:"is:host",type:"reset",value:"false"});function et(){Qe.value=this.value}Ae("click",Ze,Fe),Ae("click",Qe,Fe),Ae("input",Ge,et),Ae("keydown",Ze,Xe),Ae("keydown",Qe,Xe),Ae("keyup",Ge,et),se(Je,Qe),se(Je,Ze),se(Ve,Ge),je.prompt=function(e,t){return de(Be,e),Ge.value=Qe.value=t,je([Be,Ve,Je])};var tt=function(e,t){var r;return function(){var n=arguments,i=this;r&&clearTimeout(r),r=setTimeout((function(){return e.apply(i,n)}),t)}},rt=function(e,t){return function(){var r=arguments,n=this;setTimeout((function(){return e.apply(n,r)}),t)}},nt=function(e){return[e.offsetLeft,e.offsetTop]},it=function(e){var t,r,n,i,o,s,a;return J(e)?(i=e.pageXOffset||$.scrollLeft||A.scrollLeft,o=e.pageYOffset||$.scrollTop||A.scrollTop,n=e.innerWidth,t=e.innerHeight):(i=(r=e.getBoundingClientRect()).left,o=r.top,n=r.width,t=r.height,s=r.right,a=r.bottom),[i,o,n,t,s,a]},ot=function(e){return J(e)?[e.innerWidth,e.innerHeight]:[e.offsetWidth,e.offsetHeight]},st=function(e){return[e.scrollLeft,e.scrollTop]},at=function(e,t){return e.scrollLeft=t[0],e.scrollTop=t[1],e};function ct(e){var t={};return e.hooks=t,e.fire=function(r,n){return s(t[r])?(t[r].forEach((function(t){return t.apply(e,n)})),e):e},e.off=function(r,n){if(!s(r))return t={},e;if(s(t[r]))if(s(n)){for(var i=0,o=t[r].length;i<o;++i)if(n===t[r][i]){t[r].splice(i,1);break}0===j&&delete t[r]}else delete t[r];return e},e.on=function(r,n){return s(t[r])||(t[r]=[]),s(n)&&t[r].push(n),e},e}var lt="OP",ut="i",ft="$",dt="v",ht="ArrowDown",pt="ArrowLeft",vt="ArrowRight",gt="ArrowUp",mt="End",yt="Enter",bt="Escape",kt="Home",wt="Tab",xt="‌";function Et(e){var t=S.createRange();t.selectNodeContents(e);var r=P.getSelection();r.removeAllRanges(),r.addRange(t)}function St(r,i){void 0===i&&(i={});var o=this;if(!r)return o;if(r[lt])return r[lt];if(!n(o,St))return new St(r,i);var s=ct(o),a=s.fire;function l(){return[k(u()),o.options]}function u(){if(ne){for(var e=[],t=0,n=h(ue);t<n;++t)p(ue[t])&&e.push(d(ue[t]));return e}var i=r.value;return""!==i?i:null}function d(e){var t=e.value||M(e);return""!==t?t:null}function p(e){return z(e,"selected")}function v(e){Q(e,"selected"),e.selected=!1}function y(e){Z(e,j+"selected")}function b(e){oe(e,"selected",!0),e.selected=!0}function w(e){ae(e,j+"selected")}function A(e){e=e||xt,Te.title=e.replace(/<.*?>/g,""),de(Te,e)}function $(e){if(ne)for(var t,n=c(t),i=0,o=h(ue);i<o;++i)t=d(ue[i]),n.includes(k(t))?b(ue[i]):v(ue[i]);else r.value=e}s.hooks,o.state=i=x({},St.state,i),o.options={},o.source=r,St.instances[r.id||r.name||m(St.instances)]=o,r[lt]=o;var L=i.class,_=L+"__",K=L+"--",D=_+"input",q=_+"option",j=q+"--",F=_+"options",W=_+"value",I=_+"values",N=fe(r,{class:_+"source",tabindex:-1}),B="input"===R(N)?fe("span","",{class:D}):null,G=B?r.placeholder:"",V=fe("span",G),J=fe("span","",{contenteditable:"",tabindex:0}),ee=function(){return N.disabled},te=H(N),ne=N.multiple,ce=0,ue=N.options,pe=i.parent||S,be="input"===R(N)?0:N.size,ke=N.title,we=u(),Se=fe("div",{class:L,tabindex:!B&&!ee()&&0,title:ke}),Te=fe("div",xt,{class:I}),Le=N.list,He=0,_e=0,Ce=fe("div",{class:F,tabindex:-1}),Ke=[],De=!1,qe=!1;function Oe(){Z(Se,K+"focus"),a("blur",l())}function Re(){ae(Se,K+"focus"),a("focus",l())}function je(){ae(Se,K+"open"),a("enter",l())}function Fe(){ne||be||(Z(Se,K+"open"),a("exit",l()))}function Xe(){He=g(U(Se,"border-bottom-width")),_e=g(U(Se,"border-top-width")),_t(Se)}function We(e){ye(Se,K+"open",e);var t=Ue();return a(t?"enter":"exit",l()),t}function Ie(e,t,r,n){return fe("span",e,{class:W+" "+n,"data-index":t,"data-value":r}).outerHTML}function Ue(){return Y(Se,K+"open")}function Ne(){(B?J:Se).focus()}function Me(e){if(ue&&!ee()){var t,r,n,o=[],s=this,c=s[ft],u=we;if(ce=s[ut],we=s[dt],e&&e.isTrusted&&Ne(),Ee(e),ne&&(De||qe)){!function(e){return Y(e,j+"selected")}(s)?(b(c),w(s)):(v(c),y(s));for(var f,d=0,g=h(ue);d<g;++d)p(ue[d])&&(t=M(f=Ke[d]),r=f[ut],n=f[dt],o.push(Ie(t,r,n,C(f,!1))));return A(o.join("<span>"+i.join+"</span>")),void a("change",l())}t=M(s),r=s[ut],n=s[dt],t&&B&&(de(V,xt),me(J,t)),A(Ie(t,r,n,C(s,!1))),B&&(Et(J),$(t)),Ke.forEach((function(e){we===e[dt]?(b(e[ft]),w(e)):(v(e[ft]),y(e))})),we!==u&&a("change",l())}}function ze(e){Oe()}function Ye(e){if(!ee()){if(ce=N.selectedIndex,be)return je();B?J.focus():We()&&Xe()}}function Be(e){ce=N.selectedIndex,Re()}function Ge(e){if(ue){De=e.ctrlKey,qe=e.shiftKey;var t=e.key,r=ce,n=Ke[r],i=function(e){return Y(e,j+"disabled")},o=function(e){return Me.call(e)},s=Ue();if(ht===t){for(;(n=Ke[++r])&&(i(n)||n.hidden););n&&(o(n),We(s)),Ee(e)}else if(gt===t){for(;(n=Ke[--r])&&(i(n)||n.hidden););n&&(o(n),We(s)),Ee(e)}else if(mt===t){for(r=h(ue);(n=Ke[--r])&&(i(n)||n.hidden););n&&(o(n),We(s)),Ee(e)}else if(yt===t)n&&o(n),We(),Ee(e);else if(bt===t)!be&&Fe();else if(kt===t){for(r=-1;(n=Ke[++r])&&(i(n)||n.hidden););n&&(o(n),We(s)),Ee(e)}else wt===t&&(!B&&n&&o(n),!be&&Fe());Ue()&&!De&&!qe&&Xe()}}function Ve(){De=qe=!1}function Je(){var e=M(J);null!==e&&$(E(e)),Oe()}function Qe(){if(ue){var e,t,r=M(this);ce=-1,Et(this);for(var n=0,i=h(ue);n<i;++n)e=ue[n],t=Ke[n],r===M(e)?(ce=n,b(e),w(t)):(v(e),y(t));Re(),We()&&Xe()}}ne&&!be&&(N.size=be=i.size),B&&Le&&(te=H(Le),ue=Le.options,be=null,we&&(de(V,xt),me(J,we))),B&&(se(B,J),se(B,V)),se(Se,B||Te),he(N,Se);var Ze=tt((function(t,r,n){var i,o,s=M(t);if(null===s){de(V,G),Ce.hidden=!1;for(var a=0,c=h(Ke);a<c;++a)de(o=Ke[a],M(o)),o.hidden=!1}else if(de(V,xt),n!==(s=f(s))&&ht!==r&&pt!==r&&vt!==r&&gt!==r&&yt!==r){for(var l,u=0,d=h(Ke);u<d;++u)v((o=Ke[u])[ft]),y(o),(l=M(o))&&f(l).includes(s)?(!i&&(i=o),de(o,l.replace(RegExp(s.replace(/[!$^*()+=[]{}|:<>,.?\/-]/g,"\\$&"),"gi"),(function(e){return"<mark>"+e+"</mark>"}))),o.hidden=!1):(de(o,l),o.hidden=!0);i?(ce=i[ut],b(i[ft]),w(i),Ce.hidden=!1):Ce.hidden=!0,n=s}else{for(var p,g=0,m=0,k=h(Ke);m<k;++m)o=Ke[m],p=O(o),e("</mark>",p)&&++g;if(g<=1)for(var x,E=0,S=h(Ke);E<S;++E)o=Ke[E],x=M(o),de(o,x),o.hidden=!1}yt!==r&&bt!==r&&wt!==r&&(je(),Xe())}),1);function et(e){var t=this,r=e.key;Ge(e),Ze(t,r,M(t))}function Pt(){Ve()}var At=rt((function(e,t){var r=M(e);de(t,null!==r?xt:G),me(e,r),Et(e)}),1);function $t(){At(J,V)}function Tt(e){var t=e.target;if(t!==Se)for(;(t=X(t))&&Se!==t;);Se!==t&&Fe()}function Lt(){Ue()&&_t(Se,1)}function Ht(r,n){if("optgroup"!==R(r)){var i=T(r,"value",!1),s=i,a=M(r),c=r.title,l=fe("a",a,{class:q,title:c||a});i=i||a,l[ut]=ce,l[ft]=r,l[dt]=i,le(l,{index:ce,value:s}),o.options[i]=a,r.disabled?ae(l,j+"disabled"):Ae("click",l,Me),se(n,l),Ke.push(l),""===s&&(i=null),t(we)&&e(i,we)||i===we?(ae(l,j+"selected"),A(Ie(a,ce,s,C(l,!1))),b(r)):v(r),++ce}else{var u=fe("span",{class:q+"-group"+(r.disabled?" "+j+"disabled":"")}),f=H(r);u.title=r.label;for(var d=0,p=h(f);d<p;++d)Ht(f[d],u);se(n,u)}}function _t(e,t){if(!be){var r=it(e),n=r[0],i=r[1],o=r[2],s=r[3],c=ot(P)[1],u=c-i-s;ge(Ce,{bottom:"",left:n,"max-height":u,top:i+s-_e,width:o}),u<(c-s)/2?(ge(Ce,{top:"",bottom:c-i-He,"max-height":(u=i)+_e}),Z(e,K+"down"),ae(e,K+"up")):(Z(e,K+"up"),ae(e,K+"down"))}if(!t){var f=Ke.find((function(e){return Y(e,j+"selected")}));if(f){var d=ot(f)[1],h=ot(Ce)[1],p=nt(f),v=p[0],g=p[1],m=st(Ce)[1];g<m?at(Ce,[v,g]):g+d-h>m&&at(Ce,[v,g+d-h])}}a("fit",l())}$e(["resize","scroll"],P,Lt),Ae("click",pe,Tt),Ae("focus",N,Ne),Ae("click",Se,Ye),B?(Ae("blur",J,Je),Ae("focus",J,Qe),Ae("keydown",J,et),Ae("keyup",J,Pt),Ae("paste",J,$t)):(Ae("blur",Se,ze),Ae("focus",Se,Be),Ae("keydown",Se,Ge),Ae("keyup",Se,Ve));var Ct=h(te);if(Ct){se(Se,Ce);for(var Kt=0;Kt<Ct;++Kt)Ht(te[Kt],Ce);if(be){var Dt=Ke[0],qt=ot(Dt)[1]*be;ve(Ce,"max-height",qt)}}return be&&(ae(Se,K+"down"),ae(Se,K+"open")),o.get=function(e){void 0===e&&(e=!0);var t=u();return e?k(t):t},o.pop=function(){return r[lt]?(delete r[lt],Pe(["resize","scroll"],P,Lt),xe("click",pe,Tt),xe("focus",N,Ne),Z(N,_+"source"),xe("click",Se,Ye),B?(xe("blur",J,Je),xe("focus",J,Qe),xe("keydown",J,et),xe("keyup",J,Pt),xe("paste",J,$t)):(xe("blur",Se,ze),xe("focus",Se,Be),xe("keydown",Se,Ge),xe("keyup",Se,Ve)),ie(Se),re(Se),a("pop",l())):o},o.set=function(e){return ue?($(E(e)),Ke.forEach((function(e,t){var r=ue[t];ye(e,j+"selected",r&&p(r))})),a("change",l()),o):o},o.self=Se,o}function Pt(e){for(var t in St.instances)St.instances[t].pop(),delete St.instances[t];var r=q('.input[list]:not([type="hidden"]),.select');r&&h(r)&&r.forEach((function(e){var t;Z(e,"input"),Z(e,"select");var r=C(e),n=new St(e,null!=(t=K(e,"state"))?t:{});ce(n.self,r)})),1===e&&P._.on("change",Pt)}St.instances={},St.state={class:"option-picker",join:", ",parent:null,size:5},St.version="1.3.10",P.OP=St;var At=function(e,t){return void 0===t&&(t=""),e.replace($t("["+t+Tt.replace(/./g,"\\$&")+"]"),"\\$&")},$t=function(e,t){return function(e){return n(e,RegExp)}(e)?e:(e=e.replace(/\//g,"\\/"),RegExp(e,s(t)?t:"g"))},Tt="!$^*()+=[]{}|:<>,.?/-",Lt="TP",Ht="a",_t="ArrowLeft",Ct="ArrowRight",Kt="Home",Dt="Backspace",qt="Delete",Ot="End",Rt="Enter",jt="Tab";function Ft(r,o){void 0===o&&(o={});var s=this;if(!r)return s;if(r[Lt])return r[Lt];if(!n(s,Ft))return new Ft(r,o);var c=function(){return r.disabled},u=function(){return r.readOnly},d=T(r,"placeholder"),p=T(r,"tabindex"),v=ct(s);v.hooks;var g=v.fire;s.state=o=x({},Ft.state,a(o)?{join:o}:o||{}),s.source=r,Ft.instances[r.id||r.name||m(Ft.instances)]=s,r[Lt]=s;var b,k,w,E=o.class,A=E+"__",$=E+"--",_=W(r),C=fe("div",{class:E,tabindex:!c()&&-1}),K=fe("span",{class:A+"tag "+A+"input"}),D=fe("input",{class:A+"copy",tabindex:-1,type:"text"}),q=fe("span",{contenteditable:!c()&&"true",spellcheck:"false",style:"white-space:pre;"}),O=fe("span"),R=fe("span",{class:A+"tags"}),j=0,U={};function N(e,t){var r=l(e,s.tags);return t&&g("get.tag",[e,r]),i(r)?e:null}function z(){U={};var e,t=H(R),r=h(t)-1;for(e=0;e<r;++e)Y(t[e],A+"tag--selected")&&(U[e]=t[e])}function G(e,t){i(t)?(t=t<0?0:t,s.tags.splice(t,0,e)):s.tags.push(e),r.value=s.tags.join(o.join)}function V(e,t){var r=fe("span",{class:A+"tag",tabindex:!c()&&!u()&&0,title:e}),n=fe("a",{class:A+"tag-x",href:"",tabindex:-1,target:"_top"});Ae("click",n,_e),se(r,n),Ae("click",r,He),$e(["blur","focus"],r,ke),B(R)&&(i(t)&&s.tags[t]?pe(H(R,t),r):pe(K,r))}function J(t){if(t=t?t.split(o.join):[],B(C))for(var n,i,a;n=I(K);)te(a=n.title),e(a,t)||(i=l(a,s.tags),g("change",[a,i]),g("let.tag",[a,i]));s.tags=[],r.value="";for(var c,u=0,f=o.max;u<f&&t[u];++u)""!==(c=ge(t[u]))&&(V(c),G(c),g("change",[c,u]),g("set.tag",[c,u]))}function Q(e){var t=l(e,s.tags);i(t)&&t>=0&&(s.tags.splice(t,1),r.value=s.tags.join(o.join))}function te(e){var t,r=l(e,s.tags);if(i(r)&&r>=0&&(t=H(R,r))){xe("click",t,He),Pe(["blur","focus"],t,ke);var n=L(t);n&&(xe("click",n,_e),re(n)),re(t)}}function ne(e){re(D),e&&oe("",1)}function ie(e){se(C,D),D.value=s.tags.join(o.join),e&&(D.focus(),D.select())}function oe(e,t){if(me(q,e),me(O,e?"":d),t){q.focus();var r=S.createRange(),n=P.getSelection();r.selectNodeContents(q),r.collapse(!1),n.removeAllRanges(),n.addRange(r)}}function le(e){ve(e,(function(){Z(this,A+"tag--selected")}))}function ue(e){ve(e,(function(){ae(this,A+"tag--selected")}))}function de(){if(!c()&&!u()){var e=ye(M(q)).trim(),t=o.pattern;if(t&&e&&!$t(t,"").test(e))return g("not.tag",[e,-1]),void oe(e,1);if(oe(""),e=ge(e))if(N(e))g("has.tag",[e,l(e,s.tags)]);else{V(e),G(e);var r=h(s.tags);g("change",[e,r]),g("set.tag",[e,r])}}}function ve(e,t){var r,n=H(R),i=h(n)-1;for(r=0;r<i;++r)e!==n[r]&&t.call(n[r],r)}function ge(e){return ye(s.f(e)).trim()}function ye(e){return e=e||"",o.escape.forEach((function(t){e=e.split(t).join("")})),e}function be(e){"blur"===e.type?(le(),ee(C,[$+"focus",$+"focus-self"])):ce(C,[$+"focus",$+"focus-self"])}function ke(e){if(!u()){U={};var t=this,r=e.type,n=t.title,i=s.tags,o=l(n,i),a=A+"tag--";"blur"===r?(!b&&!k||k&&w)&&(le(t),Z(t,a+"selected"),ee(C,[$+"focus",$+"focus-tag"])):(ae(t,a+"selected"),ce(C,[$+"focus",$+"focus-tag"]),j=o,U[o]=t),g(r+".tag",[n,o])}}function we(e){var t=s.tags,r=e.type,n=A+"text--";Z(C,$+"focus-tag"),"blur"===r?(Z(K,n+"focus"),ee(C,[$+"focus",$+"focus-input"]),de()):(ae(K,n+"focus"),ce(C,[$+"focus",$+"focus-input"]),le(K)),g(r,[t,h(t)])}function Te(e){"blur"===e.type?Z(C,$+"focus"):ae(C,$+"focus")}function Le(e){e&&C===e.target&&q.focus();var t=s.tags;g("click",[t,h(t)])}function He(){var e=this.title,t=s.tags;g("click.tag",[e,l(e,t)])}function _e(e){if(!c()&&!u()){var t=X(this).title,r=l(t,s.tags);te(t),Q(t),oe("",1),g("change",[t,r]),g("click.tag",[t,r]),g("let.tag",[t,r])}Ee(e)}function Ce(e){var t=e.type;"copy"===t?rt((function(){return ne(1)}))():"cut"===t?(!u()&&J(""),rt((function(){return ne(1)}))()):"paste"===t&&rt((function(){!u()&&J(D.value),ne(1)}))(),rt((function(){var e=s.tags;g(t,[e,h(e)])}),1)()}function Ke(){le(),Z(C,$+"focus-self")}function De(){q.focus()}function qe(e){if(!c()&&!u()){s.tags;var t,r,n,i,o,a,l=e.key,f=b=e.ctrlKey,d=k=e.shiftKey,p=A+"tag--";if(w=jt===l,!f){if(!d&&(Dt===l||qt===l)){z(),a=U;var v=Dt===l;for(r in a)te(o=(t=a[r]).title),Q(o);return j=+(y(a)[0]||0),(t=H(R,v?j-1:j))?K===t?oe("",1):t.focus():oe("",1),void Ee(e)}if(Kt===l)return void((t=H(R,0))&&(t.focus(),Ee(e)));if(Ot===l&&(t=H(R,h(s.tags)-1)))return t.focus(),void Ee(e);if(_t===l){if(t=H(R,j-1)){var g=Y(t,p+"selected");return t.focus(),Ee(e),d?(n=F(t),void(g&&Z(n,p+"selected"))):void le(t)}if(!d)return void le(H(R,0))}if(Ct===l&&(t=H(R,j+1))){var m=Y(t,p+"selected");return K!==t||d?t.focus():oe("",1),Ee(e),d?(i=I(t),void(m&&Z(i,p+"selected"))):void le(t)}}Ht===l&&(ie(1),ue(),z(),Ee(e))}}function Oe(t){Se(t),u()&&jt!==t.key&&Ee(t);var r,n=o.escape,i=I(K),a=h(s.tags),c=o.max,l=M(q)||"",f=t.key,p=b=t.ctrlKey,v=Rt===f;k=t.shiftKey;var m=w=jt===f;if(v&&(f="\n"),m&&(f="\t"),rt((function(){l=M(q)||"",me(O,l?"":d),e(function(e){var t,r=P.getSelection();if(r.rangeCount>0)return(t=r.getRangeAt(0).cloneRange()).collapse(!0),t.setStart(e,0),(t+"").slice(-1)}(q),n)&&(a<c?de():(oe(""),g("max.tags",[c])),Ee(t))}))(),""===l&&Kt===f&&(r=H(R,0)))return r.focus(),void Ee(t);if(""===l&&Ot===f&&(r=H(R,h(s.tags)-1)))return r.focus(),void Ee(t);if(p&&""===l&&Ht===f)return ie(1),ue(),z(),void Ee(t);if(e(f,n))return a<c?de():(oe(""),g("max.tags",[c])),void Ee(t);if(!m){if(!p&&v)return Fe()&&_&&_.dispatchEvent(new Event("submit",{cancelable:!0})),void Ee(t);if(i&&""===l&&!u()){if(Dt===f)return te(r=s.tags[a-1]),Q(r),g("change",[r,a-1]),g("let.tag",[r,a-1]),void Ee(t);if(_t===f)return void i.focus()}}}function Re(){b=k=!1}function je(){rt((function(){c()||u()||M(q).split(o.join).forEach((function(t){e(t,s.tags)||(V(t),G(t))})),oe("")}))()}function Fe(e){if(!c()){var t=o.min;return de(),t>0&&h(s.tags)<t?(oe("",1),g("min.tags",[t]),void Ee(e)):1}}return oe(""),se(C,R),se(K,q),se(K,O),se(R,K),ae(r,A+"source"),he(r,C),fe(r,{tabindex:-1}),Ae("blur",C,Ke),Ae("click",C,Le),Ae("focus",r,De),Ae("keydown",C,qe),Ae("keydown",q,Oe),Ae("keyup",C,Re),Ae("paste",q,je),$e(["blur","focus"],C,Te),$e(["blur","focus"],D,be),$e(["blur","focus"],q,we),$e(["copy","cut","paste"],D,Ce),_&&Ae("submit",_,Fe),s.blur=function(){return!c()&&q.blur(),s},s.click=function(){return C.click(),Le(),s},s.f=function(e){return f(e||"").replace(/[^ a-z\d-]/g,"").trim()},s.focus=function(){return c()||oe(M(q),1),s},s.get=function(e){return c()?null:N(e,1)},s.input=q,s.let=function(e){if(!c()&&!u()){var r=o.min;if(e)if(t(e))e.forEach((function(e){if(r>0&&h(s.tags)<r)return g("min.tags",[r]),s;te(e),Q(e)}));else{if(r>0&&h(s.tags)<r)return g("min.tags",[r]),s;te(e),Q(e)}else J("")}return s},s.pop=function(){if(!r[Lt])return s;delete r[Lt];var e=s.tags;return Z(r,A+"source"),xe("blur",C,Ke),xe("click",C,Le),xe("focus",r,De),xe("keydown",C,qe),xe("keydown",q,Oe),xe("keyup",C,Re),xe("paste",q,je),Pe(["blur","focus"],C,Te),Pe(["blur","focus"],D,be),Pe(["blur","focus"],q,we),Pe(["copy","cut","paste"],D,Ce),_&&xe("submit",_,Fe),e.forEach(te),fe(r,{tabindex:p}),re(C),g("pop",[e])},s.self=C,s.set=function(e,r){if(!e)return s;if(!c()&&!u())if(t(e))J(e.join(o.join));else{var n=s.tags,i=o.max;N(e)?g("has.tag",[e,l(e,n)]):h(n)<i?(V(e,r),G(e,r)):g("max.tags",[i])}return s},s.source=s.output=r,s.state=o,s.tags=[],J(r.value),s}function Xt(e){for(var t in Ft.instances)Ft.instances[t].pop(),delete Ft.instances[t];var r=q('.lot\\:field.type\\:query .input:not([type="hidden"])');r&&h(r)&&r.forEach((function(e){var t;Z(e,"input");var r=C(e),n=new Ft(e,null!=(t=K(e,"state"))?t:{});ce(n.self,r)})),1===e&&P._.on("change",Xt)}Ft.instances={},Ft.state={class:"tag-picker",escape:[","],join:", ",max:9999,min:0,pattern:null},Ft.version="3.4.17",P.TP=Ft;var Wt="TE";function It(e,t){return(e||"")["trim"+(-1===t?"Left":1===t?"Right":"")]()}function Ut(e,i){void 0===i&&(i={});var o=this;if(!e)return o;if(e[Wt])return e[Wt];if(!n(o,Ut))return new Ut(e,i);o.state=i=x({},Ut.state,a(i)?{tab:i}:i||{}),o.self=o.source=e,Ut.instances[e.id||e.name||m(Ut.instances)]=o,e[Wt]=o;var c=/^([\s\S]*?)$/,l=function(){return e.disabled},u=function(){return e.readOnly},f=function(){return e.value.replace(/\r/g,"")};return o.value=f(),o.get=function(){return!l()&&It(f())||null},o.let=function(){return e.value=o.value,o},o.set=function(t){return l()||u()||(e.value=t),o},o.$=function(){return new Ut.S(e.selectionStart,e.selectionEnd,f())},o.focus=function(t){var r,n;return-1===t?r=n=0:1===t&&(r=h(f()),n=e.scrollHeight),s(r)&&s(n)&&(e.selectionStart=e.selectionEnd=r,e.scrollTop=n),e.focus(),o},o.blur=function(){return e.blur(),o},o.select=function(){if(l()||u())return e.focus(),o;for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];var i,s,a,c,f=h(r),d=o.$(),p=d.start,v=d.end;if(i=P.pageXOffset||$.scrollLeft||A.scrollLeft,s=P.pageYOffset||$.scrollTop||A.scrollTop,a=e.scrollLeft,c=e.scrollTop,0===f)r[0]=p,r[1]=v;else if(1===f){if(!0===r[0])return e.focus(),e.select(),o;r[1]=r[0]}return e.focus(),e.selectionStart=r[0],e.selectionEnd=r[1],e.scrollLeft=a,e.scrollTop=c,P.scroll(i,s),o},o.match=function(e,n){var i=o.$(),s=i.after,a=i.before,c=i.value;if(t(e)){var l=[a.match(e[0]),c.match(e[1]),s.match(e[2])];return r(n)?n.call(o,l[0]||[],l[1]||[],l[2]||[]):[!!l[0],!!l[1],!!l[2]]}var u=c.match(e);return r(n)?n.call(o,u||[]):!!u},o.replace=function(e,t,r){var n=o.$(),i=n.after,s=n.before,a=n.value;return-1===r?s=s.replace(e,t):1===r?i=i.replace(e,t):a=a.replace(e,t),o.set(s+a+i).select(s=h(s),s+h(a))},o.insert=function(e,t,r){var n=c;return r&&o.replace(n,""),-1===t?n=/$/:1===t&&(n=/^/),o.replace(n,e,t)},o.wrap=function(e,t,r){var n=o.$(),i=n.after,s=n.before,a=n.value;return r?o.replace(c,e+"$1"+t):o.set(s+e+a+t+i).select(s=h(s+e),s+h(a))},o.peel=function(e,t,r){var n=o.$(),i=n.after,s=n.before,a=n.value;e=At(e),t=At(t);var c=$t(e+"$",""),l=$t("^"+t,"");return r?o.replace($t("^"+e+"([\\s\\S]*?)"+t+"$",""),"$1"):c.test(s)&&l.test(i)?(s=s.replace(c,""),i=i.replace(l,""),o.set(s+a+i).select(s=h(s),s+h(a))):o.select()},o.pull=function(e,t){void 0===t&&(t=!0);var r=o.$(),n=r.length,a=r.value;return e=At(s(e)?e:i.tab),n?t?o.replace($t("^"+e,"gm"),""):o.insert(a.split("\n").map((function(t){return $t("^("+e+")*$","").test(t)?t:t.replace($t("^"+e,""),"")})).join("\n")):o.replace($t(e+"$",""),"",-1)},o.push=function(e,t){void 0===t&&(t=!1);var r=o.$().length;return e=s(e)?e:i.tab,r?o.replace($t("^"+(t?"":"(?!$)"),"gm"),e):o.insert(e,-1)},o.trim=function(e,t,r,n,i){void 0===i&&(i=!0),null!==e&&!1!==e&&(e=e||""),null!==t&&!1!==t&&(t=t||""),null!==r&&!1!==r&&(r=r||""),null!==n&&!1!==n&&(n=n||"");var s=o.$(),a=s.before,c=s.value,l=s.after,u=It(a,1),f=It(l,-1);return a=!1!==e?It(a,1)+(u||!i?e:""):a,l=!1!==t?(f||!i?t:"")+It(l,-1):l,!1!==r&&(c=It(c,-1)),!1!==n&&(c=It(c,1)),o.set(a+c+l).select(a=h(a),a+h(c))},o.pop=function(){return e[Wt]?(delete e[Wt],o):o},o.state=i,o}Ut.esc=At,Ut.instances={},Ut.state={tab:"\t"},Ut.S=function(e,t,r){var n=this,i=r.slice(e,t);n.after=r.slice(t),n.before=r.slice(0,e),n.end=t,n.length=h(i),n.start=e,n.value=i,n.toString=function(){return i}},Ut.version="3.3.14",Ut.x=Tt;var Nt={_history:[],_historyState:-1,history:function(e){var t=this;return s(e)?s(t._history[e])?t._history[e]:null:t._history},loss:function(e){var t,r=this;return!0===e?(r._history=[],r._historyState=-1,[]):(t=r._history.splice(s(e)?e:r._historyState,1),r._historyState=p(r._historyState-1,[-1]),t)},record:function(e){var t=this,r=t.$(),n=r.end,i=r.start,o=t._history[t._historyState]||[],a=[t.self.value,i,n];return a[0]===o[0]&&a[1]===o[1]&&a[2]===o[2]||(++t._historyState,t._history[s(e)?e:t._historyState]=a),t},redo:function(){var e,t=this;return t._historyState=p(t._historyState+1,[0,h(t._history)-1]),e=t._history[t._historyState],t.set(e[0]).select(e[1],e[2])},undo:function(){var e,t=this;return t._historyState=p(t._historyState-1,[0,h(t._history)-1]),e=t._history[t._historyState],t.set(e[0]).select(e[1],e[2])}};var Mt={source:{pairs:{"`":"`","(":")","{":"}","[":"]",'"':'"',"'":"'","<":">"},type:null}};["alert","confirm","prompt"].forEach((function(e){Mt.source[e]=function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return function(e,t){return new Promise((function(r,n){var i=P[e].apply(P,t);return i?r(i):n(i)}))}(e,r)}}));var zt={toggle:function(e,r,n,i){void 0===i&&(i=!1),r||""===r||(r=e);var o=this,c=o.$(),l=c.after,u=c.before,f=c.value,d=h(r),p=h(e);return n&&r===f.slice(-d)&&e===f.slice(0,p)||r===l.slice(0,d)&&e===u.slice(-p)?o.peel(e,r,n):(!1!==i&&(a(i)?i=[i,i]:t(i)||(i=["",""]),s(i[1])||(i[1]=i[0]),o.trim(i[0],i[1])),o.wrap(e,r,n))}},Yt="Control-";function Bt(t,r){var n,i,o=r.state.source.tab||r.state.tab||"\t",s=r.state.source.pairs||{},a=b(s),c=t.key,l=t.queue,u=t+"";if(l.Alt||l.Control)return!0;if(" "===u){var f=r.$(),d=f.after,h=f.before,p=f.value;return n=s[i=h.slice(-1)],!(!p&&n&&i&&n===d[0])||(r.wrap(" "," "),!1)}if("Enter"===u){var v=r.$(),g=v.after,m=v.before,y=v.value,k=m.split("\n").pop().match(/^(\s+)/),w=k&&k[1]||"";if(!y){if(g&&m&&(n=s[i=m.slice(-1)])&&n===g[0])return r.wrap("\n"+w+(i!==n?o:""),"\n"+w).record(),!1;if(w)return r.insert("\n"+w,-1).record(),!1}return!0}if("Backspace"===u){var x=r.$(),E=x.after,S=x.before,P=x.value;E.split("\n")[0];var A=S.split("\n").pop(),$=A.match(/^(\s+)/),T=$&&$[1]||"";return n=s[i=S.slice(-1)],"\\"===i?!0:P?!(E&&S&&n&&n===E[0]&&!S.endsWith("\\"+i))||(r.record().peel(i,n).record(),!1):(n=s[i=S.trim().slice(-1)])&&i&&(E.startsWith(" "+n)&&S.endsWith(i+" ")||E.startsWith("\n"+T+n)&&S.endsWith(i+"\n"+T))?(r.trim("","").record(),!1):A.endsWith(o)?(r.pull(o).record(),!1):!(E&&S&&!S.endsWith("\\"+i)&&n===E[0]&&i===S.slice(-1))||(r.peel(i,n).record(),!1)}var L=r.$(),H=L.after,_=L.before,C=L.start,K=L.value;if("\\"===(i=_.slice(-1)))return!0;if(n=e(H[0],a)?H[0]:s[i],!K&&H&&_&&n&&c===n)return r.select(C+1).record(),!1;for(i in s){if(n=s[i],c===i&&n)return r.wrap(i,n).record(),!1;if(c===n){if(K)return r.record().wrap(i,n).record(),!1;break}}return!0}function Gt(e,t){var r=t.state.source.tab||t.state.tab||"\t";e.key,e.queue;var n=e+"";return Yt+"]"===n?(t.push(r).record(),!1):Yt+"["!==n||(t.pull(r).record(),!1)}function Vt(e,t){e.key;var r=e.queue;if(r.Control&&r.Enter){var n=t.$(),i=n.after,o=n.before,s=n.end,a=n.start,c=n.value,l=i.split("\n").shift(),u=o.split("\n").pop(),f=u.match(/^(\s+)/),d=f&&f[1]||"";if(o||i)return r.Shift?(t.select(a-h(u)).wrap(d,"\n").insert(c).record(),!1):(t.select(s+h(l)).wrap("\n"+d,"").insert(c).record(),!1)}return!0}function Jt(e,t){var r=e+"";return Yt+"y"===r?(t.redo(),!1):Yt+"z"!==r||(t.undo(),!1)}function Qt(t,r){t.key;var n=t+"";if(!t.queue.Control)return!0;var i,o,s,a=r.$(),c=a.after,l=a.before,u=a.end,f=a.start,d=a.value,p=r.state.source.pairs||{},v=[];if(d){for(i in p)(o=p[i])&&v.push("(?:\\"+i+"(?:\\\\.|[^\\"+i+(o!==i?"\\"+o:"")+"])*\\"+o+")");if(v.push("\\w+"),v.push("\\s+"),v.push("[\\s\\S]"),Yt+"ArrowLeft"===n)return(s=l.match($t("("+v.join("|")+")$","")))?(r.insert("").select(f-h(s[0])).insert(d),r.record(),!1):(r.select(),!1);if(Yt+"ArrowRight"===n)return(s=c.match($t("^("+v.join("|")+")","")))?(r.insert("").select(u+h(s[0])-h(d)).insert(d),r.record(),!1):(r.select(),!1)}var g=c.split("\n").shift(),m=l.split("\n").pop(),y=m.match(/^(\s+)/);if(y&&y[1],u+=h(g),f-=h(m),d=m+d+g,Yt+"ArrowUp"===n){if(!e("\n",l))return r.select(),!1;r.insert(""),r.replace(/^([^\n]*?)(\n|$)/,"$2",1),r.replace(/(^|\n)([^\n]*?)$/,"",-1);var b=r.$();return l=b.before,f=b.start,m=l.split("\n").pop(),r.select(f-=h(m)).wrap(d,"\n"),r.select(f,f+h(d)),r.record(),!1}if(Yt+"ArrowDown"===n){if(!e("\n",c))return r.select(),!1;r.insert(""),r.replace(/^([^\n]*?)(\n|$)/,"",1),r.replace(/(^|\n)([^\n]*?)$/,"$1",-1);var k=r.$();return c=k.after,u=k.end,g=c.split("\n").shift(),r.select(u+=h(g)).wrap("\n",d),u+=1,r.select(u,u+h(d)),r.record(),!1}return!0}var Zt=tt((function(e){return e.record()}),100);var er=Mt,tr="[\\w:.-]+",rr=function(e){return"<("+e+")(\\s(?:'(?:\\\\.|[^'])*'|\"(?:\\\\.|[^\"])*\"|[^/>'\"])*)?>"},nr=function(e){return"</("+e+")>"},ir="(?:\x3c!--([\\s\\S](?!--\x3e)*)--\x3e|<!((?:'(?:\\\\.|[^'])*'|\"(?:\\\\.|[^\"])*\"|[^>'\"])*)>|"+nr(tr)+"|<\\?((?:'(?:\\\\.|[^'])*'|\"(?:\\\\.|[^\"])*\"|[^>'\"])*)\\?>|"+function(e){return"<("+e+")(\\s(?:'(?:\\\\.|[^'])*'|\"(?:\\\\.|[^\"])*\"|[^/>'\"])*)?/?>"}(tr)+"|"+rr(tr)+")",or={};function sr(e){if(!e)return"";e=y(e).sort().reduce((function(t,r){return t[r]=e[r],t}),{});var t,r,n="";for(t in e)!1!==(r=e[t])&&null!==r&&(n+=" "+t,!0!==r&&(n+='="'+w(E(r),!0)+'"'));return n}function ar(e){return!1!==e&&(a(e)?e=[e,e]:t(e)||(e=["",""]),s(e[1])||(e[1]=e[0])),e}function cr(e,t){var r=t.state,n=r.source.tab||r.tab||"\t",i=e.key,o=e.queue,s=e+"";if(o.Alt||o.Control)return!0;if(["-",">","/","?"," "].includes(i)){var a=t.$(),c=a.after,l=a.before,u=a.value,f=a.start;if("-"===i&&!u&&"<!-"===l.slice(-3))return t.wrap("- "," --"+(">"===c[0]?"":">")).record(),!1;if(">"===i||"/"===i){var d=$t(rr(tr)+"$","").exec(l+">");if(!u&&d)return"/"===i?">"===c[0]?(t.trim("",!1).insert(" /",-1).select(t.$().start+1).record(),!1):(t.trim("",!1).insert(" />",-1).record(),!1):(c.startsWith("></"+d[1]+">")?t.select(f+1).record():c.startsWith("</"+d[1]+">")?t.insert(">",-1).record():t.wrap(">","</"+d[1]+(">"===c[0]?"":">")).record(),!1)}if("?"===i&&!u&&"<"===l.slice(-1))return t.wrap("?","?"+(">"===c[0]?"":">")).record(),!1;if(" "===s&&!u&&("--\x3e"===c.slice(0,3)&&"\x3c!--"===l.slice(-4)||"?>"===c.slice(0,2)&&"<?"===l.slice(0,2)&&/<\?\S*$/.test(l)))return t.wrap(" "," ").record(),!1}if("ArrowLeft"===s){var p=t.$(),v=p.before,g=p.start;if(!p.value){var m=$t(ir+"$","").exec(v);if(m)return t.select(g-h(m[0]),g),!1}}if("ArrowRight"===s){var y=t.$(),b=y.after,k=y.start;if(!y.value){var w=$t("^"+ir,"").exec(b);if(w)return t.select(k,k+h(w[0])),!1}}if("Enter"===s){var x=t.$(),E=x.after,S=x.before,P=x.value,A=S.split("\n").pop().match(/^(\s+)/),$=A&&A[1]||"",T=S.match($t(rr(tr)+"$",""));if(!P){if(/^[ \t]*-->/.test(E)&&/<!--[ \t]*$/.test(S)||/^[ \t]*\?>/.test(E)&&/<\?\S*[ \t]*$/.test(S))return t.trim().wrap("\n"+$,"\n"+$).record(),!1;if(T)return E.startsWith("</"+T[1]+">")?t.record().trim().wrap("\n"+$+n,"\n"+$).record():t.record().wrap("\n"+$+n,"\n"+$+"</"+T[1]+">").record(),!1}}if("Backspace"===s){var L=t.$(),H=L.after,_=L.before;if(!L.value){if("\x3c!--"===_.slice(-4))return t.replace(/<!--$/,"",-1),"--\x3e"===H.slice(0,3)&&t.replace(/^-->/,"",1),t.record(),!1;if(/^\s+-->/.test(H)&&/<!--\s+$/.test(_))return t.trim(" "===_.slice(-1)?"":" "," "===H[0]?"":" ").record(),!1;if(/<\?\S*$/.test(_))return t.replace(/<\?\S*$/,"",-1),"?>"===H.slice(0,2)&&t.replace(/^\?>/,"",1),t.record(),!1;if(/^\s+\?>/.test(H)&&/<\?\S*\s+$/.test(_))return t.trim(" "===_.slice(-1)?"":" "," "===H[0]?"":" ").record(),!1;var C=$t(ir+"$",""),K=C.exec(_);if(K){if(" />"===_.slice(-3))return t.replace(/ \/>$/,"/>",-1).record(),!1;if("/>"===_.slice(-2))return t.replace(/\/>$/,">",-1).record(),!1;t.replace(C,"",-1);var D=K[0].slice(1).split(/\s+|>/)[0];return K[0]&&"/"!==K[0][1]&&H.startsWith("</"+D+">")&&t.replace($t("^</"+D+">",""),"",1),t.record(),!1}if($t(rr(tr)+"\\n(?:"+At(n)+")?$","").test(_)&&$t("^\\s*"+nr(tr),"").test(H))return t.trim().record(),!1}}if("Delete"===s){var q=t.$(),O=q.after;if(!q.value){if("--\x3e"===O.slice(0,3))return t.replace(/^-->/,"",1).record(),!1;if("?>"===O.slice(0,2))return t.replace(/^\?>/,"",1).record(),!1;var R=$t("^"+ir,"");if(R.exec(O))return t.replace(R,"",1).record(),!1}}return!0}or.insert=function(e,t,r,n){void 0===t&&(t=""),void 0===r&&(r={}),void 0===n&&(n=!1);return!1!==(n=ar(n))&&this.trim(n[0],""),this.insert("<"+e+sr(r)+(!1!==t?">"+t+"</"+e+">":" />")+(!1!==n?n[1]:""),-1,!0)},or.toggle=function(e,t,r,n){void 0===t&&(t=""),void 0===r&&(r={}),void 0===n&&(n=!1);var i=this,o=i.$(),s=o.after,a=o.before,c=o.value,l=rr(e),u=nr(e),f=$t(l+"$",""),d=$t("^"+u,""),h=f.test(a),p=d.test(s);return p&&h?i.replace(d,"",1).replace(f,"",-1):(f=$t("^"+l,""),d=$t(u+"$",""),h=f.test(c),(p=d.test(c))&&h&&i.insert(c=c.replace(d,"").replace(f,"")),!c&&t&&i.insert(t),!1!==(n=ar(n))&&i.trim(n[0],n[1]),i.wrap("<"+e+sr(r)+">","</"+e+">"))},or.wrap=function(e,t,r,n){void 0===t&&(t=""),void 0===r&&(r={}),void 0===n&&(n=!1);var i=this,o=i.$();return o.after,o.before,!o.value&&t&&i.insert(t),!1!==(n=ar(n))&&i.trim(n[0],n[1]),i.wrap("<"+e+sr(r)+">","</"+e+">")};var lr={source:{type:"XML"}},ur=be.protocol,fr=or.toggle,dr="[\\w:.-]+",hr=function(e){return"<("+e+")(\\s(?:'(?:\\\\.|[^'])*'|\"(?:\\\\.|[^\"])*\"|[^/>'\"])*)?>"},pr=function(e){return"</("+e+")>"};function vr(t,r,n){return(!r||e("\n",r))&&(!n||"\n"===n[0])&&(!t||"\n"===t.slice(-1))}function gr(e,t){return e===t.h1[1]||e===t.h2[1]||e===t.h3[1]||e===t.h4[1]||e===t.h5[1]||e===t.h6[1]||e===t.p[1]}var mr={};mr.blocks=function(){var e=this;return e.record(),function(e){var t=$t(hr("h([1-6])|p")+"$","i"),r=$t("^"+pr("h[1-6]|p"),"i"),n=e.$(),i=n.after,o=n.end,s=n.before,a=n.start,c=n.value,l=e.state,u=l.source.tab||l.tab||"\t",f=l.defaults||{};if(!c){var d=i.split("\n").shift(),p=s.split("\n").pop();d.trim()||p.trim()?e.select(a-h(p),o+h(d)):e.insert(f.h1[1]);var v=e.$();i=v.after,s=v.before,o=v.end,a=v.start,c=v.value}var g=s.split("\n").pop().match(/^(\s+)/),m=g&&g[1]||"";e.match([t,/[\s\S]*/,r],(function(n,i,o){var s=+(n[2]||0),a=n[3]||"",c=n[1]?f[n[1]]:["","",{}];!a&&c[2]&&(a=sr(c[2])),e.replace(t,"",-1),e.replace(/\n+/g," "),e.replace(r,"",1),s?++s>6?(e.wrap(m+"<"+f.p[0]+(a||sr(f.p[2]))+">","</"+f.p[0]+">"),i[0]&&!gr(i[0],f)||e.insert(f.p[1])):(e.wrap(m+"<"+f["h"+s][0]+(a||sr(f["h"+s][2]))+">","</"+f["h"+s][0]+">"),i[0]&&!gr(i[0],f)||e.insert(f["h"+s][1])):(e.trim("\n","\n"),e.wrap(m+"<"+f.h1[0]+(a||sr(f.h1[2]))+">","</"+f.h1[0]+">"),i[0]&&!gr(i[0],f)||e.insert(f.h1[1])),e.replace($t("^("+pr("h[1-6]|p")+")\\s*("+pr(dr)+")"),"$1\n"+m.replace($t("^"+u),"")+"$3",1)})),e.replace($t("^\\s*"+hr("blockquote|h[1-6]|p(re)?")),""),e.replace($t(pr("blockquote|h[1-6]|p(re)?")+"\\s*$"),"")}(e),e.record(),!1},mr.bold=function(){var e=this,t=e.state.defaults||{},r=e.$().value;return e.record(),fr.apply(e,[].concat(t.b,(!r||t.b[1]===r)&&" ")),!1},mr.code=function(){var e=this;return e.record(),function(e){var t=/<(p|pre|code)(?:\s[^>]*)?>(?:\s*<code(?:\s[^>]*)?>)?$/,r=/^(?:<\/code>\s*)?<\/(p|pre|code)>/,n=e.$(),i=n.after;n.end;var o=n.before;n.start;var s=n.value,a=e.state;a.source.tab||a.tab;var c=e.state.defaults||{};!s&&vr(o,s,i)?(e.trim("\n","\n"),e.wrap("<"+c.pre[0]+sr(c.pre[2])+"><"+c.code[0]+sr(c.code[2])+">","</"+c.code[0]+"></"+c.pre[0]+">").insert(w(c.code[1]))):e.match([t,/[\s\S]*/,r],(function(n,i,o){e.replace(t,"",-1),e.replace(r,"",1),vr(n[0],i[0],o[0])||c.p[0]===o[1]||c.pre[0]===o[1]?(e.trim("\n","\n"),c.pre[0]===o[1]?(e.wrap("<"+c.p[0]+sr(c.p[2])+">","</"+c.p[0]+">").insert(v(i[0])),i[0]&&i[0]!==c.code[1]||e.insert(c.p[1])):(e.wrap("<"+c.pre[0]+sr(c.pre[2])+"><"+c.code[0]+sr(c.code[2])+">","</"+c.code[0]+"></"+c.pre[0]+">").insert(w(i[0])),i[0]&&i[0]!==c.p[1]||e.insert(c.code[1]))):c.code[0]===o[1]?e.insert(v(i[0])):fr.apply(e,[].concat(c.code,(!i||c.code[1]===i)&&" "))}))}(e),e.record(),!1},mr.image=function(e,t){void 0===e&&(e="URL:");var n=this,i=n.$(),o=i.after,s=i.before,a=i.value,c=n.state,l=c.source.tab||c.tab||"\t",u=c.defaults||{},f=s.split("\n").pop().match(/^(\s+)/),d=f&&f[1]||"",h=c.source.prompt;return r(h)&&h(e,a&&/^https?:\/\/\S+$/.test(a)?a:t||ur+"//").then((function(e){if(e){var t=[].concat(u.img);a&&(t[2].alt=a,n.record()),t[2].src=e,vr(s,a,o)?(n.insert("").trim("\n","\n"),n.wrap(d+"<"+u.figure[0]+sr(u.figure[2])+">\n"+d+l,d+"\n</"+u.figure[0]+">"),n.insert("<"+t[0]+sr(t[2])+">\n"+d+l,-1),n.wrap("<"+u.figcaption[0]+sr(u.figcaption[2])+">","</"+u.figcaption[0]+">").insert(u.figcaption[1])):n.trim(" ","").insert("<"+t[0]+sr(t[2])+">"+(o?" ":""),-1,!0)}else n.focus()})).catch((function(e){return 0})),n.record(),!1},mr.italic=function(){var e=this,t=e.state.defaults||{},r=e.$().value;return e.record(),fr.apply(e,[].concat(t.i,(!r||t.i[1]===r)&&" ")),!1},mr.link=function(t,n){void 0===t&&(t="URL:");var i=this,o=i.$(),s=o.after,a=o.end,c=o.before,l=o.value,u=i.state,f=u.defaults||{},d=u.source.prompt;if(r(d)){var p,g,m,y=[].concat(f.a);(g=$t(hr(y[0])).exec(c))?(m=!0,i.select(g.index+h(g[0]),a+s.indexOf("</"+y[0]+">")),g=/\shref=(?:"([^"]+)"|'([^']+)'|([^>\/\s]+))/.exec(g[2]),p=v((g[1]||"")+(g[2]||"")+(g[3]||""))):(g=$t("^\\s*"+hr(y[0])).exec(l))&&(g=/\shref=(?:"([^"]+)"|'([^']+)'|([^>\/\s]+))/.exec(g[2]),p=v((g[1]||"")+(g[2]||"")+(g[3]||""))),d(t,l&&/^https?:\/\/\S+$/.test(l)?l:p||n||ur+"//").then((function(t){if(t){l&&i.record(),y[2].href=t;var r={};/[.\/?&#]/.test(t[0])||/^(data|javascript|mailto):/.test(t)||!e("://",t)||(r.rel="nofollow",r.target="_blank"),m&&fr.call(i,y[0]),fr.call(i,y[0],y[1],x(r,y[2]),(!l||y[1]===l)&&" ")}else i.focus()})).catch((function(e){return 0}))}return i.record(),!1},mr.quote=function(){var t=this;return t.record(),function(t){var r,n=$t(hr("blockquote")+"\\s*("+hr("p")+")?\\s*$",""),i=$t("^\\s*("+pr("p")+")?\\s*"+pr("blockquote"),""),o=t.$(),s=o.after,a=o.end,c=o.before,l=o.start,u=o.value,f=t.state,d=f.source.tab||f.tab||"\t",p=t.state.defaults||{},v=[],g=f.blocks;for(r in g)g[r]&&v.push(r);if(u&&!vr(c,u,s)&&!$t(pr(v.join("|")),"i").test(u)&&!n.test(c)&&!i.test(s)&&p.blockquote[1]!==u&&p.p[1]!==u)return t.record(),fr.apply(t,[].concat(p.q,p.q[1]===u&&" "));if(!u){var m=s.split("\n").shift(),y=c.split("\n").pop();m.trim()||y.trim()?t.select(l-h(y),a+h(m)):t.insert(p.p[1]);var b=t.$();s=b.after,c=b.before,a=b.end,l=b.start,u=b.value}var k=c.split("\n").pop().match(/^(\s+)/),w=k&&k[1]||"";t.match([n,/[\s\S]*/,i],(function(r,o,s){p.blockquote[0]===s[3]?(t.replace(n,"",-1),t.replace(i,"",1),t.pull(d)):(t.trim("\n","\n"),e("\n",o[0])||$t(pr(v.join("|")),"i").test(o[0])?(t.wrap(w+"<"+p.blockquote[0]+sr(p.blockquote[2])+">\n","\n"+w+"</"+p.blockquote[0]+">"),t.push(d)):t.wrap(w+"<"+p.blockquote[0]+sr(p.blockquote[2])+">\n"+d+"<"+p.p[0]+sr(p.p[2])+">","</"+p.p[0]+">\n"+w+"</"+p.blockquote[0]+">"))}))}(t),t.record(),!1},mr.underline=function(){var e=this,t=e.state.defaults||{},r=e.$().value;return e.record(),fr.apply(e,[].concat(t.u,(!r||t.u[1]===r)&&" ")),!1};var yr={blocks:{blockquote:1,div:1,dl:1,figure:1,form:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,hr:1,ol:1,p:1,pre:1,table:1,ul:1},defaults:{"":["","text goes here…",{}],a:["a","link text goes here…",{}],area:["area",!1,{}],b:["strong","text goes here…",{}],base:["base",!1,{href:""}],blockquote:["blockquote","quote goes here…",{}],br:["br",!1,{}],button:["button","text goes here…",{name:"",type:"submit"}],caption:["caption","table caption goes here…",{}],code:["code","code goes here…",{}],col:["col",!1,{}],dd:["dd","data goes here…",{}],dl:["dl","",{}],dt:["dt","title goes here…",{}],em:["em","text goes here…",{}],figcaption:["figcaption","image caption goes here…",{}],figure:["figure","",{}],h1:["h1","title goes here…",{}],h2:["h2","title goes here…",{}],h3:["h3","title goes here…",{}],h4:["h4","title goes here…",{}],h5:["h5","title goes here…",{}],h6:["h6","title goes here…",{}],hr:["hr",!1,{}],i:["em","text goes here…",{}],img:["img",!1,{alt:"",src:""}],input:["input",!1,{name:"",type:"text"}],li:["li","list item goes here…",{}],link:["link",!1,{href:""}],meta:["meta",!1,{}],ol:["ol","",{}],option:["option","option goes here…",{}],p:["p","paragraph goes here…",{}],param:["param",!1,{name:""}],pre:["pre","text goes here…",{}],q:["q","quote goes here…",{}],script:["script","code goes here…",{}],select:["select","",{name:""}],source:["source",!1,{src:""}],strong:["strong","text goes here…",{}],style:["style","code goes here…",{}],tbody:["tbody","",{}],td:["td","data goes here…",{}],textarea:["textarea","value goes here…",{name:""}],tfoot:["tfoot","",{}],th:["th","title goes here…",{}],thead:["thead","",{}],tr:["tr","",{}],track:["track",!1,{}],u:["u","text goes here…",{}],ul:["ul","",{},"\n"],wbr:["wbr",!1,{}]},source:{type:"HTML"}};Object.assign(Ut.prototype,Nt,zt),Ut.state=x({},Ut.state,er,lr,yr),delete Ut.state.source.type;var br=tt((function(e){return e.pull()}),1e3);function kr(e){this.K.pull()}function wr(e){this.K.pull()}function xr(e){var t,r,n=this.TE,i=this.K,o=e.key,s=n.state.source.type;if(Se(e),i.push(o),t=i.command())!1===(r=i.fire(t))?Ee(e):null===r&&console.error("Unknown command:",t);else{if("HTML"===s)return void(function(e,t){var r=t.state,n=r.source.tab||r.tab||"\t",i=r.defaults||{},o=e.key,s=e.queue;if(s.Control){var a=t.$(),c=a.after,l=a.before,u=a.end,f=a.start;a.value;var d=c.split("\n").shift(),p=l.split("\n").pop(),v=p.match(/^(\s+)/),g=v&&v[1]||"";if("Enter"===o){var m=d.match($t(pr(dr)+"\\s*$","")),y=i[m&&m[1]||"p"]||i.p;return y[3]=["\n"+g,"\n"+(!s.Shift&&c&&$t("^\\s*"+pr(dr)).test(c.split("\n")[1]||"")?g.replace($t("^"+n),""):g)],t.select(s.Shift?f-h(p):u+h(d)),fr.apply(t,y),t.record(),!1}}if(s.Alt||s.Control)return!0;if(">"===o){var b=t.$(),k=b.after,w=b.before,x=b.end;k.split("\n").shift();var E,S=w.split("\n").pop(),P=S.match(/^(\s+)/),A=P&&P[1]||"",$=(S+">").match($t(hr(dr)+"$","")),T=i[E=$&&$[1]||""];return!E||(T?!1!==T[1]?(">"===k[0]?t.select(x+1):t.insert(">",-1),t.insert("</"+E+">",1).insert(T[1]),"blockquote"===T[0]?(t.insert(i.p[1]),t.wrap("\n"+A+n+"<"+i.p[0]+sr(i.p[2])+">","</"+i.p[0]+">\n"+A)):"dl"===T[0]?(t.insert(i.dt[1]),t.wrap("\n"+A+n+"<"+i.dt[0]+sr(i.dt[2])+">","</"+i.dt[0]+">\n"+A)):"ol"===T[0]||"ul"===T[0]?(t.insert(i.li[1]),t.wrap("\n"+A+n+"<"+i.li[0]+sr(i.li[2])+">","</"+i.li[0]+">\n"+A)):"select"===T[0]?(t.insert(i.option[1]),t.wrap("\n"+A+n+"<"+i.option[0]+sr(i.option[2])+">","</"+i.option[0]+">\n"+A)):"tbody"!==T[0]&&"tfoot"!==T[0]&&"thead"!==T[0]||(t.insert(i.tr[1]),t.wrap("\n"+A+n+"<"+i.tr[0]+sr(i.tr[2])+">","</"+i.tr[0]+">\n"+A))):">"===k[0]?t.insert(" /",-1).select(x+3):t.insert(" />",-1):(">"===k[0]?t.select(x+1):t.insert(">",-1),t.insert("</"+E+">",1)),t.record(),!1)}if("Enter"===o){var L,H,_=t.$(),C=_.after,K=_.before,D=_.value,q=C.split("\n").shift(),O=K.split("\n").pop(),R=O.match(/^(\s+)/),j=R&&R[1]||"",F=["dd","li","option","p","td","th"],X=["pre","script","style"];if(L=O.match($t(hr(dr)+"$",""))){var W=i[L[1]];if(W&&!1===W[1])return t.insert("\n"+j,-1).record(),!1}if(s.Shift){var I=i.br;return t.insert("<"+I[0]+sr(I[2])+">"+(!1===I[1]?"":I[1]+"</"+I[0]+">")+"\n",-1).record(),!1}if(C&&K){if(q.startsWith("</"+i.dt[0]+">")&&O.match($t("^\\s*"+hr(i.dt[0]),"")))return D&&i.dt[1]===D?t.insert("").wrap("\n"+j+n,"\n"+j):t.insert("</"+i.dt[0]+">\n"+j+"<"+i.dd[0]+sr(i.dd[2])+">",-1).replace($t("^"+pr(i.dt[0])),"</"+i.dd[0]+">",1).insert(i.dd[1]),t.record(),!1;for(var U=0,N=h(F);U<N;++U)if($t("^"+pr(H=F[U]),"").test(q)&&(L=O.match($t("^\\s*"+hr(H),""))))return L[0]===O?(i[H]&&D&&i[H][1]===D?t.insert("").wrap("\n"+j+n,"\n"+j):fr.call(t,H),t.record(),!1):(t.insert("</"+H+">\n"+j+"<"+H+(L[2]||"")+">",-1).insert(i[H]&&i[H][1]||"").record(),!1);for(var M=0,z=h(X);M<z;++M)if($t("^"+pr(H=X[M]),"").test(q)&&$t(hr(H)+"$","").test(O))return t.wrap("\n"+j,"\n"+j).insert(i[H]&&i[H][1]||"").record(),!1;for(var Y=1;Y<7;++Y)if(q.startsWith("</"+i["h"+Y][0]+">")&&O.match($t("^\\s*"+hr(i["h"+Y][0]),"")))return i["h"+Y]&&D&&i["h"+Y][1]===D?t.insert("").wrap("\n"+j+n,"\n"+j):t.insert("</"+i["h"+Y][0]+">\n"+j+"<"+i.p[0]+sr(i.p[2])+">",-1).replace($t("^"+pr(i["h"+Y][0])),"</"+i.p[0]+">",1).insert(i.p[1]),t.record(),!1}}return!0}(i,n)&&cr(i,n)&&Bt(i,n)&&Gt(i,n)&&Vt(i,n)&&Jt(i,n)&&Qt(i,n)||Ee(e));if("XML"===s)return void(cr(i,n)&&Bt(i,n)&&Gt(i,n)&&Vt(i,n)&&Jt(i,n)&&Qt(i,n)||Ee(e));Bt(i,n)&&Gt(i,n)&&Vt(i,n)&&Jt(i,n)&&Qt(i,n)||Ee(e)}br(i)}function Er(e){var t=this.TE,r=this.K,n=e.key;Zt(t),r.pull(n)}function Sr(t){var r=this.TE;!function(t,r){t.key,t.queue.Control||P.setTimeout((function(){var t=r.$(),n=t.after,i=t.end,o=t.before,s=t.value;if(!s)for(var a,c,l="\ufeff",u=ir.split("("+tr+")").join("((?:"+tr+"|\ufeff)+)"),f=$t(u),d=o+s+l+n;a=f.exec(d);)if(e(l,a[0])){var p=a[0].split(l);if(">"===p[1]||"/>"===(p[1]||"").trim()){r.select(c=a.index,c+h(a[0])-1);break}if("<"!==p[0]&&"</"!==p[0]&&!/\s/.test(p[0])){r.select(c=a.index+("/"===p[0][1]?2:1),i+h(p[1].split(/[\s\/>]/).shift()));break}var v=void 0;if(v=$t("=(\"[^\"]*\ufeff[^\"]*\"|'[^']*\ufeff[^']*')").exec(a[0])){r.select(c=a.index+v.index+2,c+h(v[1])-3);break}if(v=$t("=([^\"'\\s\\/>]*\ufeff[^\"'\\s\\/>]*)").exec(a[0])){r.select(c=a.index+v.index+1,c+h(v[1])-1);break}if("<"!==p[0]&&"</"!==p[0]&&(v=$t("([^=\"'\\s]*\ufeff[^=\"'\\s]*)[=\\s\\/>]").exec(a[0]))){r.select(c=a.index+v.index,c+h(v[1])-1);break}r.select(c=a.index,c+h(a[0])-1);break}}),1)}(this.K,r)}function Pr(e){xe("blur",e,kr),xe("input",e,wr),xe("keydown",e,xr),xe("keyup",e,Er),xe("mousedown",e,Sr),xe("touchstart",e,Sr)}function Ar(e){var t;for(var r in Ut.instances)(t=Ut.instances[r]).loss().pop(),delete t.self.K,delete Ut.instances[r],Pr(t.self);var n,i,o,s,a=q(".lot\\:field.type\\:source .textarea");a&&h(a)&&a.forEach((function(e){var t;n=new Ut(e,null!=(t=K(e,"state"))?t:{}),o=n.state,s=o.source.type,(i=new P.K(n)).keys.Escape=function(){var e=X(this.source,"[tabindex]:not(.not\\:active)");return!e||(e.focus(),!1)},"HTML"===s&&(i.commands=mr,i.keys['Control-Shift-"']="quote",i.keys["Control-'"]="quote",i.keys["Control-b"]="bold",i.keys["Control-e"]="code",i.keys["Control-h"]="blocks",i.keys["Control-i"]="italic",i.keys["Control-l"]="link",i.keys["Control-o"]="image",i.keys["Control-u"]="underline"),o.commands=i.commands,o.keys=i.keys,e.K=i,function(e){Ae("blur",e,kr),Ae("input",e,wr),Ae("keydown",e,xr),Ae("keyup",e,Er),Ae("mousedown",e,Sr),Ae("touchstart",e,Sr),e.TE.record()}(e)})),1===e&&(P._.on("change",Ar),["alert","confirm","prompt"].forEach((function(e){P._.dialog[e]&&(Ut.state.source[e]=P._.dialog[e])})))}P.TE=Ut;var $r=':scope>:where(.lot\\:file[tabindex],.lot\\:folder[tabindex]):not([tabindex="-1"]):not(.not\\:active)';function Tr(e){e&&r(e.focus)&&e.focus()}function Lr(e){if(!e.defaultPrevented){var t,r,n,i=this,o=e.key;if(i===e.target){for(t=F(i);t&&Y(t,"not:active");)t=F(t);for(r=I(i);r&&Y(r,"not:active");)r=I(r);"ArrowDown"===o?(Tr(t),n=!0):"ArrowUp"===o?(Tr(r),n=!0):"End"===o?(Tr([].slice.call(q($r,X(i))).pop()),n=!0):"Home"===o&&(Tr(D($r,X(i))),n=!0),n&&(Ee(e),Se(e))}}}function Hr(e){if(!e.defaultPrevented){var t,r=this,n=e.key,i=e.altKey,o=e.ctrlKey,s=e.shiftKey;if(r===e.target){if(!i&&!o&&!s)"ArrowDown"===n||"Home"===n?(Tr(D($r,r)),t=!0):"ArrowUp"!==n&&"End"!==n||(Tr([].slice.call(q($r,r)).pop()),t=!0);t&&(Ee(e),Se(e))}}}var _r=':scope>ul>li>:where(a,button,input,select,textarea,[tabindex]):not(:disabled):not([tabindex="-1"]):not(.not\\:active)';function Cr(e){e&&r(e.focus)&&e.focus()}function Kr(e){if(!e.defaultPrevented){var t,r,n,i,o=this,s=e.key,a=e.altKey,c=e.ctrlKey,l=e.shiftKey;if(!a&&!c&&!l){if(t=X(o)){for(r=F(t);r&&(Y(r,"as:separator")||Y(r,"not:active"));)r=F(r);for(n=I(t);n&&(Y(n,"as:separator")||Y(n,"not:active"));)n=I(n)}"ArrowLeft"===s?(Cr(n&&L(n)),i=!0):"ArrowRight"===s?(Cr(r&&L(r)),i=!0):"End"===s?((t=X(o,".lot\\:links[tabindex]"))&&Cr([].slice.call(q(_r,t)).pop()),i=!0):"Home"===s&&((t=X(o,".lot\\:links[tabindex]"))&&Cr(D(_r,t)),i=!0)}i&&(Ee(e),Se(e))}}function Dr(e){if(!e.defaultPrevented){var t,r=this,n=e.key,i=e.altKey,o=e.ctrlKey,s=e.shiftKey;r===e.target&&(i||o||s||("ArrowRight"===n||"Home"===n?(Cr(D(_r,r)),t=!0):"ArrowLeft"!==n&&"End"!==n||(Cr([].slice.call(q(_r,r)).pop()),t=!0)),t&&(Ee(e),Se(e)))}}var qr=":where(a,[tabindex]):not(.not\\:active)";function Or(e){e&&r(e.focus)&&e.focus()}function Rr(e,t){q(".lot\\:menu[tabindex].is\\:enter").forEach((function(r){e!==r&&(Z(X(r),"is:active"),Z(I(r),"is:active"),Z(r,"is:enter"),t&&oe(t,"aria-expanded","false"))}))}function jr(){Rr(0)}function Fr(e){if(!e.defaultPrevented){var t=this,r=F(t);Rr(r,t),P.setTimeout((function(){ye(r,"is:enter"),ye(X(t),"is:active"),ye(t,"is:active"),oe(t,"aria-expanded",Y(t,"is:active")?"true":"false")}),1),Ee(e),Se(e)}}function Xr(e){if(!e.defaultPrevented){var t,r,n,i,o,s=this,a=e.key;if(r=X(s)){for(n=F(r);n&&(Y(n,"as:separator")||Y(n,"not:active"));)n=F(n);for(i=I(r);i&&(Y(i,"as:separator")||Y(i,"not:active"));)i=I(i)}"ArrowDown"===a?(Or(n&&L(n)),o=!0):"ArrowLeft"===a||"Escape"===a||"Tab"===a?((r=X(s,".lot\\:menu[tabindex].is\\:enter"))?(Z(X(s),"is:active"),Z(r,"is:enter"),Z(s,"is:active"),oe(I(r),"aria-expanded","false"),"Tab"!==a&&Or(I(r))):"Escape"===a&&Or(X(s,".lot\\:menu[tabindex]")),o="Tab"!==a):"ArrowRight"===a?((n=F(s))&&Y(n,"lot:menu")&&(oe(s,"aria-expanded","true"),ae(X(s),"is:active"),ae(n,"is:enter"),ae(s,"is:active"),P.setTimeout((function(){Or(D(qr,n))}),1)),o=!0):"ArrowUp"===a?((t=i&&L(i))?Or(t):(t=X(s,".lot\\:menu[tabindex].is\\:enter"))&&Y(t,"level:1")&&(Z(t,"is:enter"),(t=I(t))&&(Z(t,"is:active"),Z(X(t),"is:active"),oe(t,"aria-expanded","false"),P.setTimeout((function(){Or(t)}),1))),o=!0):"End"===a?((r=X(s,".lot\\:menu[tabindex]"))&&Or([].slice.call(q(qr,r)).pop()),o=!0):"Home"===a&&((r=X(s,".lot\\:menu[tabindex]"))&&Or(D(qr,r)),o=!0),o&&(Ee(e),Se(e))}}function Wr(e){if(!e.defaultPrevented){var t,r=this,n=e.key,i=e.altKey,o=e.ctrlKey,s=e.shiftKey;r===e.target&&(i||o||s||("ArrowDown"===n||"Home"===n?(Or(D(qr,r)),t=!0):"ArrowUp"!==n&&"End"!==n||(Or([].slice.call(q(qr,r)).pop()),t=!0)),t&&(Ee(e),Se(e)))}}function Ir(e){if(!e.defaultPrevented){var t,r=this,n=e.key,i=F(r),o=X(r);i&&o&&Y(i,"lot:menu")&&(" "===n||"Enter"===n||"Tab"===n?"Tab"===n?Y(i,"is:enter")&&we("click",r):(we("click",r),P.setTimeout((function(){Or(D(qr,i))}),1),t=!0):"ArrowDown"===n&&Y(i,"level:1")&&(oe(r,"aria-expanded","true"),ae(X(r),"is:active"),ae(i,"is:enter"),ae(r,"is:active"),P.setTimeout((function(){Or(D(qr,i))}),1),t=!0)),t&&(Ee(e),Se(e))}}var Ur=':scope>ul>li>:where(a,button,input,select,textarea,[tabindex]):not(:disabled):not([tabindex="-1"]):not(.not\\:active)';function Nr(e){e&&r(e.focus)&&e.focus()}function Mr(e){if(!e.defaultPrevented){var t,r,n,i,o=this,s=e.key,a=e.altKey,c=e.ctrlKey,l=e.shiftKey;if(!a&&!c&&!l){if(t=X(o)){for(r=F(t);r&&(Y(r,"as:separator")||Y(r,"not:active"));)r=F(r);for(n=I(t);n&&(Y(n,"as:separator")||Y(n,"not:active"));)n=I(n)}"ArrowLeft"===s?(Nr(n&&L(n)),i=!0):"ArrowRight"===s?(Nr(r&&L(r)),i=!0):"End"===s?((t=X(o,".lot\\:menus[tabindex]"))&&Nr([].slice.call(q(Ur,t)).pop()),i=!0):"Home"===s&&((t=X(o,".lot\\:menus[tabindex]"))&&Nr(D(Ur,t)),i=!0)}i&&(Ee(e),Se(e))}}function zr(e){if(!e.defaultPrevented){var t,r=this,n=e.key,i=e.altKey,o=e.ctrlKey,s=e.shiftKey;r===e.target&&(i||o||s||("ArrowRight"===n||"Home"===n?(Nr(D(Ur,r)),t=!0):"ArrowLeft"!==n&&"End"!==n||(Nr([].slice.call(q(Ur,r)).pop()),t=!0)),t&&(Ee(e),Se(e)))}}var Yr=':scope>.lot\\:page[tabindex]:not([tabindex="-1"]):not(.not\\:active)';function Br(e){e&&r(e.focus)&&e.focus()}function Gr(e){if(!e.defaultPrevented){var t,r,n,i=this,o=e.key;if(i===e.target){for(t=F(i);t&&Y(t,"not:active");)t=F(t);for(r=I(i);r&&Y(r,"not:active");)r=I(r);"ArrowDown"===o?(Br(t),n=!0):"ArrowUp"===o?(Br(r),n=!0):"End"===o?(Br([].slice.call(q(Yr,X(i))).pop()),n=!0):"Home"===o&&(Br(D(Yr,X(i))),n=!0),n&&(Ee(e),Se(e))}}}function Vr(e){if(!e.defaultPrevented){var t,r=this,n=e.key,i=e.altKey,o=e.ctrlKey,s=e.shiftKey;r===e.target&&(i||o||s||("ArrowDown"===n||"Home"===n?(Br(D(Yr,r)),t=!0):"ArrowUp"!==n&&"End"!==n||(Br([].slice.call(q(Yr,r)).pop()),t=!0)),t&&(Ee(e),Se(e)))}}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function Jr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Qr={exports:{}};"undefined"!=typeof self&&self,Qr.exports=function(e){function t(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,r){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function(){function e(t){var r=this;if(n(this,e),this.config=e.mergeSettings(t),this.selector="string"==typeof this.config.selector?document.querySelector(this.config.selector):this.config.selector,null===this.selector)throw Error("Something wrong with your selector 😭");this.resolveSlidesNumber(),this.selectorWidth=this.selector.offsetWidth,this.innerElements=[].slice.call(this.selector.children),this.currentSlide=this.config.loop?this.config.startIndex%this.innerElements.length:Math.max(0,Math.min(this.config.startIndex,this.innerElements.length-this.perPage)),this.transformProperty=e.webkitOrNot(),["resizeHandler","touchstartHandler","touchendHandler","touchmoveHandler","mousedownHandler","mouseupHandler","mouseleaveHandler","mousemoveHandler","clickHandler"].forEach((function(e){r[e]=r[e].bind(r)})),this.init()}return o(e,[{key:"attachEvents",value:function(){window.addEventListener("resize",this.resizeHandler),this.config.draggable&&(this.pointerDown=!1,this.drag={startX:0,endX:0,startY:0,letItGo:null,preventClick:!1},this.selector.addEventListener("touchstart",this.touchstartHandler),this.selector.addEventListener("touchend",this.touchendHandler),this.selector.addEventListener("touchmove",this.touchmoveHandler),this.selector.addEventListener("mousedown",this.mousedownHandler),this.selector.addEventListener("mouseup",this.mouseupHandler),this.selector.addEventListener("mouseleave",this.mouseleaveHandler),this.selector.addEventListener("mousemove",this.mousemoveHandler),this.selector.addEventListener("click",this.clickHandler))}},{key:"detachEvents",value:function(){window.removeEventListener("resize",this.resizeHandler),this.selector.removeEventListener("touchstart",this.touchstartHandler),this.selector.removeEventListener("touchend",this.touchendHandler),this.selector.removeEventListener("touchmove",this.touchmoveHandler),this.selector.removeEventListener("mousedown",this.mousedownHandler),this.selector.removeEventListener("mouseup",this.mouseupHandler),this.selector.removeEventListener("mouseleave",this.mouseleaveHandler),this.selector.removeEventListener("mousemove",this.mousemoveHandler),this.selector.removeEventListener("click",this.clickHandler)}},{key:"init",value:function(){this.attachEvents(),this.selector.style.overflow="hidden",this.selector.style.direction=this.config.rtl?"rtl":"ltr",this.buildSliderFrame(),this.config.onInit.call(this)}},{key:"buildSliderFrame",value:function(){var e=this.selectorWidth/this.perPage,t=this.config.loop?this.innerElements.length+2*this.perPage:this.innerElements.length;this.sliderFrame=document.createElement("div"),this.sliderFrame.style.width=e*t+"px",this.enableTransition(),this.config.draggable&&(this.selector.style.cursor="-webkit-grab");var r=document.createDocumentFragment();if(this.config.loop)for(var n=this.innerElements.length-this.perPage;n<this.innerElements.length;n++){var i=this.buildSliderFrameItem(this.innerElements[n].cloneNode(!0));r.appendChild(i)}for(var o=0;o<this.innerElements.length;o++){var s=this.buildSliderFrameItem(this.innerElements[o]);r.appendChild(s)}if(this.config.loop)for(var a=0;a<this.perPage;a++){var c=this.buildSliderFrameItem(this.innerElements[a].cloneNode(!0));r.appendChild(c)}this.sliderFrame.appendChild(r),this.selector.innerHTML="",this.selector.appendChild(this.sliderFrame),this.slideToCurrent()}},{key:"buildSliderFrameItem",value:function(e){var t=document.createElement("div");return t.style.cssFloat=this.config.rtl?"right":"left",t.style.float=this.config.rtl?"right":"left",t.style.width=(this.config.loop?100/(this.innerElements.length+2*this.perPage):100/this.innerElements.length)+"%",t.appendChild(e),t}},{key:"resolveSlidesNumber",value:function(){if("number"==typeof this.config.perPage)this.perPage=this.config.perPage;else if("object"===i(this.config.perPage))for(var e in this.perPage=1,this.config.perPage)window.innerWidth>=e&&(this.perPage=this.config.perPage[e])}},{key:"prev",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments[1];if(!(this.innerElements.length<=this.perPage)){var r=this.currentSlide;if(this.config.loop)if(this.currentSlide-e<0){this.disableTransition();var n=this.currentSlide+this.innerElements.length,i=n+this.perPage,o=(this.config.rtl?1:-1)*i*(this.selectorWidth/this.perPage),s=this.config.draggable?this.drag.endX-this.drag.startX:0;this.sliderFrame.style[this.transformProperty]="translate3d("+(o+s)+"px, 0, 0)",this.currentSlide=n-e}else this.currentSlide=this.currentSlide-e;else this.currentSlide=Math.max(this.currentSlide-e,0);r!==this.currentSlide&&(this.slideToCurrent(this.config.loop),this.config.onChange.call(this),t&&t.call(this))}}},{key:"next",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments[1];if(!(this.innerElements.length<=this.perPage)){var r=this.currentSlide;if(this.config.loop)if(this.currentSlide+e>this.innerElements.length-this.perPage){this.disableTransition();var n=this.currentSlide-this.innerElements.length,i=n+this.perPage,o=(this.config.rtl?1:-1)*i*(this.selectorWidth/this.perPage),s=this.config.draggable?this.drag.endX-this.drag.startX:0;this.sliderFrame.style[this.transformProperty]="translate3d("+(o+s)+"px, 0, 0)",this.currentSlide=n+e}else this.currentSlide=this.currentSlide+e;else this.currentSlide=Math.min(this.currentSlide+e,this.innerElements.length-this.perPage);r!==this.currentSlide&&(this.slideToCurrent(this.config.loop),this.config.onChange.call(this),t&&t.call(this))}}},{key:"disableTransition",value:function(){this.sliderFrame.style.webkitTransition="all 0ms "+this.config.easing,this.sliderFrame.style.transition="all 0ms "+this.config.easing}},{key:"enableTransition",value:function(){this.sliderFrame.style.webkitTransition="all "+this.config.duration+"ms "+this.config.easing,this.sliderFrame.style.transition="all "+this.config.duration+"ms "+this.config.easing}},{key:"goTo",value:function(e,t){if(!(this.innerElements.length<=this.perPage)){var r=this.currentSlide;this.currentSlide=this.config.loop?e%this.innerElements.length:Math.min(Math.max(e,0),this.innerElements.length-this.perPage),r!==this.currentSlide&&(this.slideToCurrent(),this.config.onChange.call(this),t&&t.call(this))}}},{key:"slideToCurrent",value:function(e){var t=this,r=this.config.loop?this.currentSlide+this.perPage:this.currentSlide,n=(this.config.rtl?1:-1)*r*(this.selectorWidth/this.perPage);e?requestAnimationFrame((function(){requestAnimationFrame((function(){t.enableTransition(),t.sliderFrame.style[t.transformProperty]="translate3d("+n+"px, 0, 0)"}))})):this.sliderFrame.style[this.transformProperty]="translate3d("+n+"px, 0, 0)"}},{key:"updateAfterDrag",value:function(){var e=(this.config.rtl?-1:1)*(this.drag.endX-this.drag.startX),t=Math.abs(e),r=this.config.multipleDrag?Math.ceil(t/(this.selectorWidth/this.perPage)):1,n=e>0&&this.currentSlide-r<0,i=e<0&&this.currentSlide+r>this.innerElements.length-this.perPage;e>0&&t>this.config.threshold&&this.innerElements.length>this.perPage?this.prev(r):e<0&&t>this.config.threshold&&this.innerElements.length>this.perPage&&this.next(r),this.slideToCurrent(n||i)}},{key:"resizeHandler",value:function(){this.resolveSlidesNumber(),this.currentSlide+this.perPage>this.innerElements.length&&(this.currentSlide=this.innerElements.length<=this.perPage?0:this.innerElements.length-this.perPage),this.selectorWidth=this.selector.offsetWidth,this.buildSliderFrame()}},{key:"clearDrag",value:function(){this.drag={startX:0,endX:0,startY:0,letItGo:null,preventClick:this.drag.preventClick}}},{key:"touchstartHandler",value:function(e){-1!==["TEXTAREA","OPTION","INPUT","SELECT"].indexOf(e.target.nodeName)||(e.stopPropagation(),this.pointerDown=!0,this.drag.startX=e.touches[0].pageX,this.drag.startY=e.touches[0].pageY)}},{key:"touchendHandler",value:function(e){e.stopPropagation(),this.pointerDown=!1,this.enableTransition(),this.drag.endX&&this.updateAfterDrag(),this.clearDrag()}},{key:"touchmoveHandler",value:function(e){if(e.stopPropagation(),null===this.drag.letItGo&&(this.drag.letItGo=Math.abs(this.drag.startY-e.touches[0].pageY)<Math.abs(this.drag.startX-e.touches[0].pageX)),this.pointerDown&&this.drag.letItGo){e.preventDefault(),this.drag.endX=e.touches[0].pageX,this.sliderFrame.style.webkitTransition="all 0ms "+this.config.easing,this.sliderFrame.style.transition="all 0ms "+this.config.easing;var t=(this.config.loop?this.currentSlide+this.perPage:this.currentSlide)*(this.selectorWidth/this.perPage),r=this.drag.endX-this.drag.startX,n=this.config.rtl?t+r:t-r;this.sliderFrame.style[this.transformProperty]="translate3d("+(this.config.rtl?1:-1)*n+"px, 0, 0)"}}},{key:"mousedownHandler",value:function(e){-1!==["TEXTAREA","OPTION","INPUT","SELECT"].indexOf(e.target.nodeName)||(e.preventDefault(),e.stopPropagation(),this.pointerDown=!0,this.drag.startX=e.pageX)}},{key:"mouseupHandler",value:function(e){e.stopPropagation(),this.pointerDown=!1,this.selector.style.cursor="-webkit-grab",this.enableTransition(),this.drag.endX&&this.updateAfterDrag(),this.clearDrag()}},{key:"mousemoveHandler",value:function(e){if(e.preventDefault(),this.pointerDown){"A"===e.target.nodeName&&(this.drag.preventClick=!0),this.drag.endX=e.pageX,this.selector.style.cursor="-webkit-grabbing",this.sliderFrame.style.webkitTransition="all 0ms "+this.config.easing,this.sliderFrame.style.transition="all 0ms "+this.config.easing;var t=(this.config.loop?this.currentSlide+this.perPage:this.currentSlide)*(this.selectorWidth/this.perPage),r=this.drag.endX-this.drag.startX,n=this.config.rtl?t+r:t-r;this.sliderFrame.style[this.transformProperty]="translate3d("+(this.config.rtl?1:-1)*n+"px, 0, 0)"}}},{key:"mouseleaveHandler",value:function(e){this.pointerDown&&(this.pointerDown=!1,this.selector.style.cursor="-webkit-grab",this.drag.endX=e.pageX,this.drag.preventClick=!1,this.enableTransition(),this.updateAfterDrag(),this.clearDrag())}},{key:"clickHandler",value:function(e){this.drag.preventClick&&e.preventDefault(),this.drag.preventClick=!1}},{key:"remove",value:function(e,t){if(e<0||e>=this.innerElements.length)throw Error("Item to remove doesn't exist 😭");var r=e<this.currentSlide,n=this.currentSlide+this.perPage-1===e;(r||n)&&this.currentSlide--,this.innerElements.splice(e,1),this.buildSliderFrame(),t&&t.call(this)}},{key:"insert",value:function(e,t,r){if(t<0||t>this.innerElements.length+1)throw Error("Unable to inset it at this index 😭");if(-1!==this.innerElements.indexOf(e))throw Error("The same item in a carousel? Really? Nope 😭");var n=t<=this.currentSlide>0&&this.innerElements.length;this.currentSlide=n?this.currentSlide+1:this.currentSlide,this.innerElements.splice(t,0,e),this.buildSliderFrame(),r&&r.call(this)}},{key:"prepend",value:function(e,t){this.insert(e,0),t&&t.call(this)}},{key:"append",value:function(e,t){this.insert(e,this.innerElements.length+1),t&&t.call(this)}},{key:"destroy",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments[1];if(this.detachEvents(),this.selector.style.cursor="auto",e){for(var r=document.createDocumentFragment(),n=0;n<this.innerElements.length;n++)r.appendChild(this.innerElements[n]);this.selector.innerHTML="",this.selector.appendChild(r),this.selector.removeAttribute("style")}t&&t.call(this)}}],[{key:"mergeSettings",value:function(e){var t={selector:".siema",duration:200,easing:"ease-out",perPage:1,startIndex:0,draggable:!0,multipleDrag:!0,threshold:20,loop:!1,rtl:!1,onInit:function(){},onChange:function(){}},r=e;for(var n in r)t[n]=r[n];return t}},{key:"webkitOrNot",value:function(){return"string"==typeof document.documentElement.style.transform?"transform":"WebkitTransform"}}]),e}();t.default=s,e.exports=t.default}]);var Zr=Jr(Qr.exports);var en='a[target^="stack:"]:not(.not\\:active)';function tn(e){e&&r(e.focus)&&e.focus()}function rn(e){if(!e.defaultPrevented){var t,r,n,i,o,s=this,a=e.key,c=e.altKey,l=e.ctrlKey;if(!c&&!l)if("ArrowDown"===a||"ArrowRight"===a||"PageDown"===a){if(n=X(X(s)))for(r=F(n);r&&Y(r,"not:active");)r=F(r);(t=r&&L(r))&&("ArrowRight"===a&&Y(X(t),"can:toggle")||we("click",L(t)),tn(L(t))),o=!0}else if("ArrowUp"===a||"ArrowLeft"===a||"PageUp"===a){if(n=X(X(s)))for(i=I(n);i&&Y(i,"not:active");)i=I(i);(t=i&&L(i))&&("ArrowLeft"===a&&Y(X(t),"can:toggle")||we("click",L(t)),tn(L(t))),o=!0}else" "===a||"Enter"===a?(Y(X(X(s)),"can:toggle")&&(we("click",s),tn(s)),o=!0):"End"===a?((n=X(s,".lot\\:stacks[tabindex]"))&&(t=[].slice.call(q(en,n)).pop())&&(we("click",t),tn(t)),o=!0):"Home"===a&&((n=X(s,".lot\\:stacks[tabindex]"))&&(t=D(en,n))&&(we("click",t),tn(t)),o=!0);o&&(Ee(e),Se(e))}}function nn(e){if(!e.defaultPrevented){var t,r,n,i,o=this,s=e.key,a=e.altKey,c=e.ctrlKey,l=e.shiftKey;if(a&&c&&!l)t=(t=D(en+".is\\:current",o))&&X(X(t)),"PageDown"===s?((t=(r=t&&F(t))&&D(en,r))&&(we("click",t),tn(t)),i=!0):"PageUp"===s&&((t=(n=t&&I(t))&&D(en,n))&&(we("click",t),tn(t)),i=!0);else if(!a&&!c&&!l){if(o!==e.target)return;"ArrowDown"===s||"ArrowRight"===s||"Home"===s||"PageDown"===s?((t=D(en,o))&&(we("click",t),tn(t)),i=!0):"ArrowUp"!==s&&"ArrowLeft"!==s&&"End"!==s&&"PageUp"!==s||((t=[].slice.call(q(en,o)).pop())&&(we("click",t),tn(t)),i=!0)}i&&(Ee(e),Se(e))}}var on='a[target^="tab:"]:not(.not\\:active)';function sn(e){e&&r(e.focus)&&e.focus()}function an(e){if(!e.defaultPrevented){var t,r,n,i,o,s=this,a=e.key,c=e.altKey,l=e.ctrlKey;if(!c&&!l)if("ArrowDown"===a){if(Y(s,"can:toggle")&&!Y(s,"is:current"))t=s;else{if(n=X(s))for(r=F(n);r&&Y(r,"not:active");)r=F(r);t=r&&L(r)}t&&(we("click",t),sn(t)),o=!0}else if("ArrowLeft"===a||"PageUp"===a){if(n=X(s))for(i=I(n);i&&Y(i,"not:active");)i=I(i);(t=i&&L(i))&&(we("click",t),sn(t)),o=!0}else if("ArrowRight"===a||"PageDown"===a){if(n=X(s))for(r=F(n);r&&Y(r,"not:active");)r=F(r);(t=r&&L(r))&&(we("click",t),sn(t)),o=!0}else if("ArrowUp"===a){if(Y(s,"can:toggle")&&Y(s,"is:current"))t=s;else{if(n=X(s))for(i=I(n);i&&Y(i,"not:active");)i=I(i);t=i&&L(i)}t&&(we("click",t),sn(t)),o=!0}else" "===a||"Enter"===a?(Y(s,"can:toggle")&&(we("click",s),sn(s)),o=!0):"End"===a?((n=X(s,".lot\\:tabs[tabindex]"))&&(t=[].slice.call(q(on,n)).pop())&&(we("click",t),sn(t)),o=!0):"Home"===a&&((n=X(s,".lot\\:tabs[tabindex]"))&&(t=D(on,n))&&(we("click",t),sn(t)),o=!0);o&&(Ee(e),Se(e))}}function cn(e){if(!e.defaultPrevented){var t,r,n,i,o=this,s=e.key,a=e.altKey,c=e.ctrlKey,l=e.shiftKey;if(a&&c&&!l)t=(t=D(on+".is\\:current",o))&&X(t),"PageDown"===s?((t=(r=t&&F(t))&&L(r))&&(we("click",t),sn(t)),i=!0):"PageUp"===s&&((t=(n=t&&I(t))&&L(n))&&(we("click",t),sn(t)),i=!0);else if(!a&&!c&&!l){if(o!==e.target)return;"ArrowDown"===s||"ArrowRight"===s||"PageDown"===s||"ArrowUp"===s||"ArrowLeft"===s||"PageUp"===s?((t=D(on+".is\\:current",o))&&(we("click",t),sn(t)),i=!0):"Home"===s?((t=D(on,o))&&(we("click",t),sn(t)),i=!0):"End"===s&&((t=[].slice.call(q(on,o)).pop())&&(we("click",t),sn(t)),i=!0)}i&&(Ee(e),Se(e))}}var ln=':scope>:where(a,button,input,select,textarea,[tabindex]):not(:disabled):not([tabindex="-1"]):not(.not\\:active)';function un(e){e&&r(e.focus)&&e.focus()}function fn(e){e&&r(e.select)&&e.select()}function dn(e){if(!e.defaultPrevented){var t,r,n,i,o,s=this,a=e.key,c=e.altKey,l=e.ctrlKey,u=e.shiftKey;if(!c&&!l&&!u){for(n=F(s);n&&Y(n,"not:active");)n=F(n);for(i=I(s);i&&Y(i,"not:active");)i=I(i);"ArrowLeft"===a?(o=!("selectionStart"in s&&0!==s.selectionStart))&&(un(i),fn(i)):"ArrowRight"===a?(o=!("selectionEnd"in s&&s.selectionEnd<h(s.value||"")))&&(un(n),fn(n)):"End"===a?(o=!("selectionEnd"in s&&h(s.value||"")))&&(r=X(s,".lot\\:tasks[tabindex]"))&&(t=[].slice.call(q(ln,r)).pop())&&(un(t),fn(t)):"Home"===a&&(o=!("selectionStart"in s&&h(s.value||"")))&&(r=X(s,".lot\\:tasks[tabindex]"))&&(t=D(ln,r))&&(un(t),fn(t))}o&&(Ee(e),Se(e))}}function hn(e){if(!e.defaultPrevented){var t,r,n=this,i=e.key,o=e.altKey,s=e.ctrlKey,a=e.shiftKey;n===e.target&&(o||s||a||("ArrowLeft"===i||"End"===i?((t=[].slice.call(q(ln,n)).pop())&&(un(t),fn(t)),r=!0):"ArrowRight"!==i&&"Home"!==i||((t=D(ln,n))&&(un(t),fn(t)),r=!0)),r&&(Ee(e),Se(e)))}}function pn(e){void 0===e&&(e={});var n=this;return n.command=function(e){if(a(e))return e===n.toString();var t=n.keys[n.toString()];return!!s(t)&&t},n.commands={},n.fire=function(e){var i,o,c=n.source;if(r(e))i=e.call(c),o=!0;else if(a(e)&&(e=n.commands[e]))i=e.call(c),o=!0;else if(t(e)){var l=e[1]||[];(e=n.commands[e[0]])&&(i=e.apply(c,l),o=!0)}return o?!s(i)||i:null},n.key=null,n.keys={},n.pull=function(e){return n.key=null,s(e)?(delete n.queue[e],n):(n.queue={},n)},n.push=function(e){return n.queue[n.key=e]=1,n},n.queue={},n.source=e,n.toString=function(){return y(n.queue).join("-")},n}var vn=tt((function(e){return e.pull()}),1e3),gn=new pn(P);gn.keys.Escape=function(){var e=S.activeElement,t=e&&X(X(e),"[tabindex]:not(.not\\:active)");return t&&t.focus(),!t},gn.keys.F3=function(){var e,t=(e="get",S.forms[e]||null),r=t&&t.query;return r&&r.focus(),!1},gn.keys.F10=function(){var e,t=D(".lot\\:bar a:any-link");return t&&(t.focus(),(e=X(t))&&Y(e,"has:menu")&&t.click()),!1},Ae("blur",P,(function(e){return gn.pull()})),Ae("keydown",P,(function(e){gn.push(e.key);var t=gn.command();if(t){var r=gn.fire(t);!1===r?Ee(e):null===r&&console.error("Unknown command:",t)}vn(gn)})),Ae("keyup",P,(function(e){return gn.pull(e.key)}));var mn={commands:gn.commands,keys:gn.keys},yn=ct(mn),bn=yn.fire;yn.hooks,yn.off,yn.on,P.K=pn,P._=mn,Ae("beforeload",S,(function(){return bn("let")})),Ae("load",S,(function(){return bn("get")})),Ae("DOMContentLoaded",S,(function(){return bn("set")})),function e(t){var r=q(".lot\\:bar[tabindex]");r&&h(r)&&r.forEach((function(e){q(Te,e).forEach((function(e){Ae("keydown",e,_e)})),Ae("keydown",e,He)})),1===t&&P._.on("change",e)}(1),1===1&&(P._.dialog=je),Pt(1),Xt(1),Ar(1),function e(t){var r=q(":where(.lot\\:files,.lot\\:folders)[tabindex]");r&&h(r)&&r.forEach((function(e){q($r,e).forEach((function(e){Ae("keydown",e,Lr)})),Ae("keydown",e,Hr)})),1===t&&P._.on("change",e)}(1),function e(t){var r=q(".lot\\:links[tabindex]");r&&h(r)&&r.forEach((function(e){var t=q(_r,e);t&&h(t)&&t.forEach((function(e){Ae("keydown",e,Kr)})),Ae("keydown",e,Dr)})),1===t&&P._.on("change",e)}(1),function e(t){xe("click",S,jr);var r=q(".has\\:menu"),n=q(".lot\\:menu[tabindex]>ul>li>"+qr);r&&h(r)&&(r.forEach((function(e){var t=D(".lot\\:menu[tabindex]",e),r=I(t);t&&r&&(Ae("click",r,Fr),Ae("keydown",r,Ir))})),Ae("click",S,jr)),n&&h(n)&&n.forEach((function(e){Ae("keydown",e,Xr)}));var i=q(".lot\\:menu[tabindex]");i&&h(i)&&i.forEach((function(e){Ae("keydown",e,Wr)})),1===t&&P._.on("change",e)}(1),function e(t){var r=q(".lot\\:menus[tabindex]");r&&h(r)&&r.forEach((function(e){var t=q(Ur,e);t&&h(t)&&t.forEach((function(e){Ae("keydown",e,Mr)})),Ae("keydown",e,zr)})),1===t&&P._.on("change",e)}(1),function e(t){var r=q(".lot\\:pages[tabindex]");r&&h(r)&&r.forEach((function(e){q(Yr,e).forEach((function(e){Ae("keydown",e,Gr)})),Ae("keydown",e,Vr)})),1===t&&P._.on("change",e)}(1),function(e){var t=q(".siema");t&&h(t)&&t.forEach((function(e){var t=new Zr({duration:600,loop:!0,selector:e}),r=P.setInterval((function(){return t.next()}),5e3);Ae("mousedown",e,(function(){return P.clearInterval(r)})),Ae("touchstart",e,(function(){return P.clearInterval(r)}))})),1===e&&(_.on("change.stack",(function(){return we("resize",P)})),_.on("change.tab",(function(){return we("resize",P)})))}(1),function e(t){var r=q(".lot\\:stacks[tabindex]");r&&h(r)&&r.forEach((function(e){var t,r,n=[].slice.call(H(e)),i=fe("input");function o(e){var o,s=this,a=X(X(s)),c=X(a,".lot\\:stacks");Y(a,"has:link")||(n.forEach((function(e){e!==a&&(Z(o=D('a[target^="stack:"]',e),"is:current"),Z(e,"is:current"),oe(o,"aria-expanded","false"))})),Y(a,"can:toggle")?(oe(s,"aria-expanded",T(s,"aria-expanded")?"false":"true"),ye(a,"is:current"),ye(s,"is:current")):(oe(s,"aria-expanded","true"),ae(a,"is:current"),ae(s,"is:current")),o=Y(s,"is:current"),i.value=r=o?K(a,"value"):null,ye(c,"has:current",o),P._.fire.call(a,"change.stack",[r,t]),Ee(e))}i.type="hidden",i.name=t=K(e,"name"),t&&se(e,i),n.forEach((function(e){var t=D(en,e);Ae("click",t,o),Ae("keydown",t,rn)}));var s=n.find((function(e,t){return 0!==t&&Y(e,"is:current")}));s&&(i.value=K(s,"value")),Ae("keydown",e,nn)})),1===t&&P._.on("change",e)}(1),function e(t){var r=q(".lot\\:tabs[tabindex]");r&&h(r)&&r.forEach((function(e){var t,r,n=[].slice.call(H(e)),i=[].slice.call(q(on,n.shift())),o=fe("input");function s(e){var s,a=this,c=n[a._tabIndex],l=X(a),u=X(l,".lot\\:tabs");Y(l,"has:link")||(i.forEach((function(e){if(e!==a){Z(X(e),"is:current"),Z(e,"is:current"),oe(e,"aria-selected","false"),oe(e,"tabindex","-1");var t=n[e._tabIndex];t&&Z(t,"is:current")}})),Y(l,"can:toggle")?(ye(l,"is:current"),ye(a,"is:current"),oe(a,"aria-selected",Y(a,"is:current")?"true":"false"),oe(a,"tabindex",Y(a,"is:current")?"0":"-1")):(ae(l,"is:current"),ae(a,"is:current"),oe(a,"aria-selected","true"),oe(a,"tabindex","0")),s=Y(a,"is:current"),c&&(o.value=r=s?K(a,"value"):null,ye(c,"is:current",s),ye(u,"has:current",s),P._.fire.call(c,"change.tab",[r,t])),Ee(e))}o.type="hidden",o.name=t=K(e,"name"),t&&se(e,o),i.forEach((function(e,t){e._tabIndex=t,Ae("click",e,s),Ae("keydown",e,an)}));var a=i.find((function(e,t){return 0!==t&&Y(X(e),"is:current")}));a&&(o.value=K(a,"value")),Ae("keydown",e,cn)})),1===t&&P._.on("change",e)}(1),function e(t){var r=q(".lot\\:tasks[tabindex]");r&&h(r)&&r.forEach((function(e){var t=q(ln,e);t&&h(t)&&t.forEach((function(e){Ae("keydown",e,dn)})),Ae("keydown",e,hn)})),1===t&&P._.on("change",e)}(1)}();