!function(){"use strict";var e=function(e,t){return-1!==t.indexOf(e)},t=function(e){return Array.isArray(e)},r=function(e){return"function"==typeof e},n=function(e,t){return e&&s(t)&&e instanceof t},i=function(e){return"number"==typeof e},o=function(e,t){return void 0===t&&(t=!0),"object"==typeof e&&(!t||n(e,Object))},s=function(e){return function(e){return void 0!==e}(e)&&!function(e){return null===e}(e)},a=function(e){return"string"==typeof e},c=function(e){return t(e)?e:[e]},l=function(e,t){var r=t.indexOf(e);return-1!==r?r:null},u=function(e){return e.replace(/[-_.](\w)/g,(function(e,t){return h(t)}))},f=function(e){return e.toLowerCase()},h=function(e){return e.toUpperCase()},d=function(e){return e.length},p=function(e,t){return s(t[0])&&e<t[0]?t[0]:s(t[1])&&e>t[1]?t[1]:e},v=function(e,t){return void 0===t&&(t=!0),e=e.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&"),t&&(e=e.replace(/&apos;/g,"'").replace(/&quot;/g,'"')),e},g=function(e,t){return void 0===t&&(t=10),t?parseInt(e,t):parseFloat(e)},m=function(e){return d(y(e))},y=function(e){return Object.keys(e)},b=function(e){return Object.values(e)},k=function e(r){if(t(r))return r.map((function(t){return e(t)}));if(function(e){return/^-?(?:\d*.)?\d+$/.test(e+"")}(r))return g(r);if(o(r)){for(var n in r)r[n]=e(r[n]);return r}return"false"!==r&&("null"===r?null:"true"===r||r)},w=function(e,t){return e=e.replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;"),t&&(e=e.replace(/'/g,"&apos;").replace(/"/g,"&quot;")),e},E=function r(){for(var n=arguments.length,i=Array(n),a=0;a<n;a++)i[a]=arguments[a];for(var c=i.shift(),l=0,u=d(i);l<u;++l)for(var f in i[l])if(s(c[f]))if(t(c[f])&&t(i[l][f])){c[f]=[].concat(c[f]);for(var h=0,p=d(i[l][f]);h<p;++h)e(i[l][f][h],c[f])||c[f].push(i[l][f][h])}else o(c[f])&&o(i[l][f])?c[f]=r({},c[f],i[l][f]):c[f]=i[l][f];else c[f]=i[l][f];return c},x=function e(r){if(t(r))return r.map((function(t){return e(r)}));if(o(r)){for(var n in r)r[n]=e(r[n]);return r}return!1===r?"false":null===r?"null":!0===r?"true":""+r},S=document,P=window,A=S.body,T=S.documentElement,L=function(e,t,r){if(void 0===r&&(r=!0),!z(e,t))return null;var n=e.getAttribute(t);return r?k(n):n},$=function(e){return e.firstElementChild||null},H=function(e,t){var r=e.children;return i(t)?r[t]||null:r||[]},C=function(e,t){void 0===t&&(t=!0);var r=(U(e,"className")||"").trim();return t?r.split(/\s+/).filter((function(e){return""!==e})):r},K=function(e,t,r){void 0===r&&(r=!0);var n=L(e,"data-"+t,r),i=(n+"").trim();return r&&i&&("["===i[0]&&"]"===i.slice(-1)||"{"===i[0]&&"}"===i.slice(-1))&&null!==(i=function(e){var t=null;try{t=JSON.parse(e)}catch(e){}return t}(n))?i:n},D=function(e,t){return(t||S).querySelector(e)},q=function(e,t){return(t||S).querySelectorAll(e)},M=function(e,t){void 0===t&&(t=!0);var r="innerHTML";if(!G(e,r))return!1;var n=e[r];return""!==(n=t?n.trim():n)?n:null},O=function(e){return f(e&&e.nodeName||"")||null},R=function(e,t){return e["next"+(t?"":"Element")+"Sibling"]||null},X=function(e,t){return t?e.closest(t)||null:e.parentNode||null},F=function(e){var t="form";return G(e,t)&&t===O(e[t])?e[t]:X(e,t)},I=function(e,t){return e["previous"+(t?"":"Element")+"Sibling"]||null},W=function(e,t,r){void 0===r&&(r=!0);var n=P.getComputedStyle(e).getPropertyValue(t);return r&&(n=k(n)),n||""===n||0===n?n:null},U=function(e,t){return G(e,t)&&e[t]||null},N=function(e,t){void 0===t&&(t=!0);var r="textContent";if(!G(e,r))return!1;var n=e[r];return""!==(n=t?n.trim():n)?n:null},z=function(e,t){return e.hasAttribute(t)},Y=function(e,t){return e.classList.contains(t)},B=function(e,t){return null!==X(e,t)},G=function(e,t){return t in e},V=function(e){return n(e,Node)},J=function(e){return e===P},Q=function(e,t){return e.removeAttribute(t),e},Z=function(e,t){return e.classList.remove(t),e},ee=function(e,r){if(t(r))return r.forEach((function(t){return e.classList.remove(t)})),e;if(o(r)){for(var n in r)r[n]&&e.classList.remove(n);return e}return e.className="",e},te=function(e,t){return Q(e,"data-"+t)},re=function(e){var t=X(e);return e.remove(),t},ne=function(e,t){return e.style[u(t)]=null,e},ie=function(e){var t="textContent";return G(e,t)&&(e[t]=""),e},oe=function(e,t,r){return!0===r&&(r=t),e.setAttribute(t,x(r)),e},se=function(e,t){return e.append(t),t},ae=function(e,t){return e.classList.add(t),e},ce=function(e,r){if(t(r))return r.forEach((function(t){return e.classList.add(t)})),e;if(o(r))for(var n in r)r[n]?e.classList.add(n):e.classList.remove(n);return e.className=r,e},le=function(e,t){var r;for(var n in t)(r=t[n])||""===r||0===r?ue(e,n,r):te(e,n);return e},ue=function(e,r,n){return(t(n)||o(n))&&(n=function(e){return JSON.stringify(e)}(n)),oe(e,"data-"+r,n)},fe=function(e,t,r){return e=a(e)?S.createElement(e):e,o(t)&&(r=t,t=!1),a(t)&&he(e,t),o(r)&&function(e,t){var r;for(var n in t)(r=t[n])||""===r||0===r?oe(e,n,r):Q(e,n)}(e,r),e},he=function(e,t,r){if(void 0===r&&(r=!0),null===t)return e;var n="innerHTML";return G(e,n)&&(e[n]=r?t.trim():t),e},de=function(e,t){return X(e).insertBefore(t,R(e,!0)),t},pe=function(e,t){return X(e).insertBefore(t,e),t},ve=function(e,t,r){return i(r)&&(r+="px"),e.style[u(t)]=x(r),e},ge=function(e,t){var r;for(var n in t)(r=t[n])||""===r||0===r?ve(e,n,r):ne(e,n);return e},me=function(e,t,r){if(void 0===r&&(r=!0),null===t)return e;var n="textContent";return G(e,n)&&(e[n]=r?t.trim():t),e},ye=function(e,t,r){return e.classList.toggle(t,r),e},be=P.location,ke={},we=function(e,t,r,n){t.dispatchEvent(function(e,t,r){return r&&s(ke[e])?ke[e]:ke[e]=new Event(e,t)}(e,r,n))},Ee=function(e,t,r){t.removeEventListener(e,r)},xe=function(e){return e&&e.preventDefault()},Se=function(e){return e&&e.stopPropagation()},Pe=function(e,t,r){e.forEach((function(e){return Ee(e,t,r)}))},Ae=function(e,t,r,n){void 0===n&&(n=!1),t.addEventListener(e,r,n)},Te=function(e,t,r,n){void 0===n&&(n=!1),e.forEach((function(e){return Ae(e,t,r,n)}))},Le=':scope>:where([tabindex]):not([tabindex="-1"]):not(.not\\:active)';function $e(e){e&&r(e.focus)&&e.focus()}function He(e){if(!e.defaultPrevented){var t,r=this,n=e.key,i=e.altKey,o=e.ctrlKey,s=e.shiftKey;if(r===e.target){if(!i&&!o&&!s)"ArrowLeft"===n||"End"===n?($e([].slice.call(q(Le,r)).pop()),t=!0):"ArrowRight"!==n&&"Home"!==n||($e(D(Le,r)),t=!0);t&&(xe(e),Se(e))}}}function _e(e){if(!e.defaultPrevented){var t,r,n,i=this,o=e.key;if(i===e.target){for(t=R(i);t&&Y(t,"not:active");)t=R(t);for(r=I(i);r&&Y(r,"not:active");)r=I(r);"ArrowLeft"===o?($e(r),n=!0):"ArrowRight"===o?($e(t),n=!0):"End"===o?($e([].slice.call(q(Le,X(i))).pop()),n=!0):"Home"===o&&($e(D(Le,X(i))),n=!0),n&&(xe(e),Se(e))}}}var Ce=fe("dialog"),Ke=fe("form","",{method:"dialog"}),De=fe("div");function qe(e){var t=this;Ee("cancel",t,qe),Ee("close",t,Me),Ee("submit",t,Oe),t.x(k(t.returnValue)),r(t.c)&&t.c.call(t,t.open)}function Me(e){var t=this;Ee("cancel",t,qe),Ee("close",t,Me),Ee("submit",t,Oe),t.v(k(t.returnValue)),r(t.c)&&t.c.call(t,t.open)}function Oe(e){Me.call(this,e)}function Re(e,t){var n;for(he(Ke,""),a(e)?(he(De,e.trim()),e=De.childNodes):V(e)&&(e=[e]),e=Array.from(e);n=e.shift();)se(Ke,n);Ce.showModal(),Ce.returnValue=null,r(t)&&t.call(Ce,Ce.open);var i=D("[autofocus]",Ke);return i&&(r(i.focus)&&i.focus(),r(i.select)&&i.select()),new Promise((function(e,r){Ce.c=t,Ce.v=e,Ce.x=r,Ae("cancel",Ce,qe),Ae("close",Ce,Me),Ae("submit",Ce,Oe)}))}function Xe(){var e=this,t=X(e.form);t.returnValue=e.value,we("reset"===e.type?"cancel":"close",t),t.open&&t.close()}function Fe(e){var t,r,n=e.key;"ArrowLeft"===n||"ArrowUp"===n?((r=I(this))&&r.focus(),xe(e)):"ArrowDown"!==n&&"ArrowRight"!==n||((t=R(this))&&t.focus(),xe(e))}se(A,Ce),se(Ce,Ke);var je=fe("p"),Ie=fe("p","",{role:"group"}),We=fe("button","OK",{class:"is:host",type:"submit",value:"true"});Ae("keydown",We,Fe),Ae("click",We,Xe),se(Ie,We),Re.alert=function(e){return he(je,e),Re([je,Ie])};var Ue=fe("p"),Ne=fe("p","",{role:"group"}),ze=fe("button","OK",{class:"is:host",type:"submit",value:"true"}),Ye=fe("button","Cancel",{class:"is:host",type:"reset",value:"false"});Ae("click",Ye,Xe),Ae("click",ze,Xe),Ae("keydown",Ye,Fe),Ae("keydown",ze,Fe),se(Ne,ze),se(Ne,Ye),Re.confirm=function(e){return he(Ue,e),Re([Ue,Ne])};var Be=fe("p"),Ge=fe("input",!1,{autofocus:!0,class:"is:host",type:"text"}),Ve=fe("p"),Je=fe("p","",{role:"group"}),Qe=fe("button","OK",{class:"is:host",type:"submit",value:""}),Ze=fe("button","Cancel",{class:"is:host",type:"reset",value:"false"});function et(){Qe.value=this.value}Ae("click",Ze,Xe),Ae("click",Qe,Xe),Ae("input",Ge,et),Ae("keydown",Ze,Fe),Ae("keydown",Qe,Fe),Ae("keyup",Ge,et),se(Je,Qe),se(Je,Ze),se(Ve,Ge),Re.prompt=function(e,t){return he(Be,e),Ge.value=Qe.value=t,Re([Be,Ve,Je])};var tt=function(e,t){var r;return function(){var n=arguments,i=this;r&&clearTimeout(r),r=setTimeout((function(){return e.apply(i,n)}),t)}},rt=function(e,t){return function(){var r=arguments,n=this;setTimeout((function(){return e.apply(n,r)}),t)}},nt=function(e){return[e.offsetLeft,e.offsetTop]},it=function(e){var t,r,n,i,o,s,a;return J(e)?(i=e.pageXOffset||T.scrollLeft||A.scrollLeft,o=e.pageYOffset||T.scrollTop||A.scrollTop,n=e.innerWidth,t=e.innerHeight):(i=(r=e.getBoundingClientRect()).left,o=r.top,n=r.width,t=r.height,s=r.right,a=r.bottom),[i,o,n,t,s,a]},ot=function(e){return J(e)?[e.innerWidth,e.innerHeight]:[e.offsetWidth,e.offsetHeight]},st=function(e){return[e.scrollLeft,e.scrollTop]},at=function(e,t){return e.scrollLeft=t[0],e.scrollTop=t[1],e};function ct(e){var t={};return e.hooks=t,e.fire=function(r,n){return s(t[r])?(t[r].forEach((function(t){return t.apply(e,n)})),e):e},e.off=function(r,n){if(!s(r))return t={},e;if(s(t[r]))if(s(n)){for(var i=0,o=t[r].length;i<o;++i)if(n===t[r][i]){t[r].splice(i,1);break}0===j&&delete t[r]}else delete t[r];return e},e.on=function(r,n){return s(t[r])||(t[r]=[]),s(n)&&t[r].push(n),e},e}var lt="OP",ut="i",ft="$",ht="v",dt="ArrowDown",pt="ArrowLeft",vt="ArrowRight",gt="ArrowUp",mt="End",yt="Enter",bt="Escape",kt="Home",wt="Tab",Et="‌";function xt(e){var t=S.createRange();t.selectNodeContents(e);var r=P.getSelection();r.removeAllRanges(),r.addRange(t)}function St(r,i){void 0===i&&(i={});var o=this;if(!r)return o;if(r[lt])return r[lt];if(!n(o,St))return new St(r,i);var s=ct(o),a=s.fire;function l(){return[k(u()),o.options]}function u(){if(ne){for(var e=[],t=0,n=d(ue);t<n;++t)p(ue[t])&&e.push(h(ue[t]));return e}var i=r.value;return""!==i?i:null}function h(e){var t=e.value||N(e);return""!==t?t:null}function p(e){return z(e,"selected")}function v(e){Q(e,"selected"),e.selected=!1}function y(e){Z(e,R+"selected")}function b(e){oe(e,"selected",!0),e.selected=!0}function w(e){ae(e,R+"selected")}function A(e){e=e||Et,Le.title=e.replace(/<.*?>/g,""),he(Le,e)}function T(e){if(ne)for(var t,n=c(t),i=0,o=d(ue);i<o;++i)t=h(ue[i]),n.includes(k(t))?b(ue[i]):v(ue[i]);else r.value=e}s.hooks,o.state=i=E({},St.state,i),o.options={},o.source=r,St.instances[r.id||r.name||m(St.instances)]=o,r[lt]=o;var $=i.class,_=$+"__",K=$+"--",D=_+"input",q=_+"option",R=q+"--",F=_+"options",j=_+"value",I=_+"values",U=fe(r,{class:_+"source",tabindex:-1}),B="input"===O(U)?fe("span","",{class:D}):null,G=B?r.placeholder:"",V=fe("span",G),J=fe("span","",{contenteditable:"",tabindex:0}),ee=function(){return U.disabled},te=H(U),ne=U.multiple,ce=0,ue=U.options,pe=i.parent||S,be="input"===O(U)?0:U.size,ke=U.title,we=u(),Se=fe("div",{class:$,tabindex:!B&&!ee()&&0,title:ke}),Le=fe("div",Et,{class:I}),$e=U.list,He=0,_e=0,Ce=fe("div",{class:F,tabindex:-1}),Ke=[],De=!1,qe=!1;function Me(){Z(Se,K+"focus"),a("blur",l())}function Oe(){ae(Se,K+"focus"),a("focus",l())}function Re(){ae(Se,K+"open"),a("enter",l())}function Xe(){ne||be||(Z(Se,K+"open"),a("exit",l()))}function Fe(){He=g(W(Se,"border-bottom-width")),_e=g(W(Se,"border-top-width")),_t(Se)}function je(e){ye(Se,K+"open",e);var t=We();return a(t?"enter":"exit",l()),t}function Ie(e,t,r,n){return fe("span",e,{class:j+" "+n,"data-index":t,"data-value":r}).outerHTML}function We(){return Y(Se,K+"open")}function Ue(){(B?J:Se).focus()}function Ne(e){if(ue&&!ee()){var t,r,n,o=[],s=this,c=s[ft],u=we;if(ce=s[ut],we=s[ht],e&&e.isTrusted&&Ue(),xe(e),ne&&(De||qe)){!function(e){return Y(e,R+"selected")}(s)?(b(c),w(s)):(v(c),y(s));for(var f,h=0,g=d(ue);h<g;++h)p(ue[h])&&(t=N(f=Ke[h]),r=f[ut],n=f[ht],o.push(Ie(t,r,n,C(f,!1))));return A(o.join("<span>"+i.join+"</span>")),void a("change",l())}t=N(s),r=s[ut],n=s[ht],t&&B&&(he(V,Et),me(J,t)),A(Ie(t,r,n,C(s,!1))),B&&(xt(J),T(t)),Ke.forEach((function(e){we===e[ht]?(b(e[ft]),w(e)):(v(e[ft]),y(e))})),we!==u&&a("change",l())}}function ze(e){Me()}function Ye(e){if(!ee()){if(ce=U.selectedIndex,be)return Re();B?J.focus():je()&&Fe()}}function Be(e){ce=U.selectedIndex,Oe()}function Ge(e){if(ue){De=e.ctrlKey,qe=e.shiftKey;var t=e.key,r=ce,n=Ke[r],i=function(e){return Y(e,R+"disabled")},o=function(e){return Ne.call(e)},s=We();if(dt===t){for(;(n=Ke[++r])&&(i(n)||n.hidden););n&&(o(n),je(s)),xe(e)}else if(gt===t){for(;(n=Ke[--r])&&(i(n)||n.hidden););n&&(o(n),je(s)),xe(e)}else if(mt===t){for(r=d(ue);(n=Ke[--r])&&(i(n)||n.hidden););n&&(o(n),je(s)),xe(e)}else if(yt===t)n&&o(n),je(),xe(e);else if(bt===t)!be&&Xe();else if(kt===t){for(r=-1;(n=Ke[++r])&&(i(n)||n.hidden););n&&(o(n),je(s)),xe(e)}else wt===t&&(!B&&n&&o(n),!be&&Xe());We()&&!De&&!qe&&Fe()}}function Ve(){De=qe=!1}function Je(){var e=N(J);null!==e&&T(x(e)),Me()}function Qe(){if(ue){var e,t,r=N(this);ce=-1,xt(this);for(var n=0,i=d(ue);n<i;++n)e=ue[n],t=Ke[n],r===N(e)?(ce=n,b(e),w(t)):(v(e),y(t));Oe(),je()&&Fe()}}ne&&!be&&(U.size=be=i.size),B&&$e&&(te=H($e),ue=$e.options,be=null,we&&(he(V,Et),me(J,we))),B&&(se(B,J),se(B,V)),se(Se,B||Le),de(U,Se);var Ze=tt((function(t,r,n){var i,o,s=N(t);if(null===s){he(V,G),Ce.hidden=!1;for(var a=0,c=d(Ke);a<c;++a)he(o=Ke[a],N(o)),o.hidden=!1}else if(he(V,Et),n!==(s=f(s))&&dt!==r&&pt!==r&&vt!==r&&gt!==r&&yt!==r){for(var l,u=0,h=d(Ke);u<h;++u)v((o=Ke[u])[ft]),y(o),(l=N(o))&&f(l).includes(s)?(!i&&(i=o),he(o,l.replace(RegExp(s.replace(/[!$^*()+=[]{}|:<>,.?\/-]/g,"\\$&"),"gi"),(function(e){return"<mark>"+e+"</mark>"}))),o.hidden=!1):(he(o,l),o.hidden=!0);i?(ce=i[ut],b(i[ft]),w(i),Ce.hidden=!1):Ce.hidden=!0,n=s}else{for(var p,g=0,m=0,k=d(Ke);m<k;++m)o=Ke[m],p=M(o),e("</mark>",p)&&++g;if(g<=1)for(var E,x=0,S=d(Ke);x<S;++x)o=Ke[x],E=N(o),he(o,E),o.hidden=!1}yt!==r&&bt!==r&&wt!==r&&(Re(),Fe())}),1);function et(e){var t=this,r=e.key;Ge(e),Ze(t,r,N(t))}function Pt(){Ve()}var At=rt((function(e,t){var r=N(e);he(t,null!==r?Et:G),me(e,r),xt(e)}),1);function Tt(){At(J,V)}function Lt(e){var t=e.target;if(t!==Se)for(;(t=X(t))&&Se!==t;);Se!==t&&Xe()}function $t(){We()&&_t(Se,1)}function Ht(r,n){if("optgroup"!==O(r)){var i=L(r,"value",!1),s=i,a=N(r),c=r.title,l=fe("a",a,{class:q,title:c||a});i=i||a,l[ut]=ce,l[ft]=r,l[ht]=i,le(l,{index:ce,value:s}),o.options[i]=a,r.disabled?ae(l,R+"disabled"):Ae("click",l,Ne),se(n,l),Ke.push(l),""===s&&(i=null),t(we)&&e(i,we)||i===we?(ae(l,R+"selected"),A(Ie(a,ce,s,C(l,!1))),b(r)):v(r),++ce}else{var u=fe("span",{class:q+"-group"+(r.disabled?" "+R+"disabled":"")}),f=H(r);u.title=r.label;for(var h=0,p=d(f);h<p;++h)Ht(f[h],u);se(n,u)}}function _t(e,t){if(!be){var r=it(e),n=r[0],i=r[1],o=r[2],s=r[3],c=ot(P)[1],u=c-i-s;ge(Ce,{bottom:"",left:n,"max-height":u,top:i+s-_e,width:o}),u<(c-s)/2?(ge(Ce,{top:"",bottom:c-i-He,"max-height":(u=i)+_e}),Z(e,K+"down"),ae(e,K+"up")):(Z(e,K+"up"),ae(e,K+"down"))}if(!t){var f=Ke.find((function(e){return Y(e,R+"selected")}));if(f){var h=ot(f)[1],d=ot(Ce)[1],p=nt(f),v=p[0],g=p[1],m=st(Ce)[1];g<m?at(Ce,[v,g]):g+h-d>m&&at(Ce,[v,g+h-d])}}a("fit",l())}Te(["resize","scroll"],P,$t),Ae("click",pe,Lt),Ae("focus",U,Ue),Ae("click",Se,Ye),B?(Ae("blur",J,Je),Ae("focus",J,Qe),Ae("keydown",J,et),Ae("keyup",J,Pt),Ae("paste",J,Tt)):(Ae("blur",Se,ze),Ae("focus",Se,Be),Ae("keydown",Se,Ge),Ae("keyup",Se,Ve));var Ct=d(te);if(Ct){se(Se,Ce);for(var Kt=0;Kt<Ct;++Kt)Ht(te[Kt],Ce);if(be){var Dt=Ke[0],qt=ot(Dt)[1]*be;ve(Ce,"max-height",qt)}}return be&&(ae(Se,K+"down"),ae(Se,K+"open")),o.get=function(e){void 0===e&&(e=!0);var t=u();return e?k(t):t},o.pop=function(){return r[lt]?(delete r[lt],Pe(["resize","scroll"],P,$t),Ee("click",pe,Lt),Ee("focus",U,Ue),Z(U,_+"source"),Ee("click",Se,Ye),B?(Ee("blur",J,Je),Ee("focus",J,Qe),Ee("keydown",J,et),Ee("keyup",J,Pt),Ee("paste",J,Tt)):(Ee("blur",Se,ze),Ee("focus",Se,Be),Ee("keydown",Se,Ge),Ee("keyup",Se,Ve)),ie(Se),re(Se),a("pop",l())):o},o.set=function(e){return ue?(T(x(e)),Ke.forEach((function(e,t){var r=ue[t];ye(e,R+"selected",r&&p(r))})),a("change",l()),o):o},o.self=Se,o}function Pt(e){for(var t in St.instances)St.instances[t].pop(),delete St.instances[t];var r=q('input.is\\:host[list]:not([type="hidden"]),select.is\\:host');r&&d(r)&&r.forEach((function(e){var t;Z(e,"is:host");var r=C(e),n=new St(e,null!=(t=K(e,"state"))?t:{});ce(n.self,r)})),1===e&&P._.on("change",Pt)}St.instances={},St.state={class:"option-picker",join:", ",parent:null,size:5},St.version="1.3.10",P.OP=St;var At=function(e,t){return void 0===t&&(t=""),e.replace(Tt("["+t+Lt.replace(/./g,"\\$&")+"]"),"\\$&")},Tt=function(e,t){return function(e){return n(e,RegExp)}(e)?e:(e=e.replace(/\//g,"\\/"),RegExp(e,s(t)?t:"g"))},Lt="!$^*()+=[]{}|:<>,.?/-",$t="TP",Ht="a",_t="ArrowLeft",Ct="ArrowRight",Kt="Home",Dt="Backspace",qt="Delete",Mt="End",Ot="Enter",Rt="Tab";function Xt(r,o){void 0===o&&(o={});var s=this;if(!r)return s;if(r[$t])return r[$t];if(!n(s,Xt))return new Xt(r,o);var c=function(){return r.disabled},u=function(){return r.readOnly},h=L(r,"placeholder"),p=L(r,"tabindex"),v=ct(s);v.hooks;var g=v.fire;s.state=o=E({},Xt.state,a(o)?{join:o}:o||{}),s.source=r,Xt.instances[r.id||r.name||m(Xt.instances)]=s,r[$t]=s;var b,k,w,x=o.class,A=x+"__",T=x+"--",_=F(r),C=fe("div",{class:x,tabindex:!c()&&-1}),K=fe("span",{class:A+"tag "+A+"input"}),D=fe("input",{class:A+"copy",tabindex:-1,type:"text"}),q=fe("span",{contenteditable:!c()&&"true",spellcheck:"false",style:"white-space:pre;"}),M=fe("span"),O=fe("span",{class:A+"tags"}),j=0,W={};function U(e,t){var r=l(e,s.tags);return t&&g("get.tag",[e,r]),i(r)?e:null}function z(){W={};var e,t=H(O),r=d(t)-1;for(e=0;e<r;++e)Y(t[e],A+"tag--selected")&&(W[e]=t[e])}function G(e,t){i(t)?(t=t<0?0:t,s.tags.splice(t,0,e)):s.tags.push(e),r.value=s.tags.join(o.join)}function V(e,t){var r=fe("span",{class:A+"tag",tabindex:!c()&&!u()&&0,title:e}),n=fe("a",{class:A+"tag-x",href:"",tabindex:-1,target:"_top"});Ae("click",n,_e),se(r,n),Ae("click",r,He),Te(["blur","focus"],r,ke),B(O)&&(i(t)&&s.tags[t]?pe(H(O,t),r):pe(K,r))}function J(t){if(t=t?t.split(o.join):[],B(C))for(var n,i,a;n=I(K);)te(a=n.title),e(a,t)||(i=l(a,s.tags),g("change",[a,i]),g("let.tag",[a,i]));s.tags=[],r.value="";for(var c,u=0,f=o.max;u<f&&t[u];++u)""!==(c=ge(t[u]))&&(V(c),G(c),g("change",[c,u]),g("set.tag",[c,u]))}function Q(e){var t=l(e,s.tags);i(t)&&t>=0&&(s.tags.splice(t,1),r.value=s.tags.join(o.join))}function te(e){var t,r=l(e,s.tags);if(i(r)&&r>=0&&(t=H(O,r))){Ee("click",t,He),Pe(["blur","focus"],t,ke);var n=$(t);n&&(Ee("click",n,_e),re(n)),re(t)}}function ne(e){re(D),e&&oe("",1)}function ie(e){se(C,D),D.value=s.tags.join(o.join),e&&(D.focus(),D.select())}function oe(e,t){if(me(q,e),me(M,e?"":h),t){q.focus();var r=S.createRange(),n=P.getSelection();r.selectNodeContents(q),r.collapse(!1),n.removeAllRanges(),n.addRange(r)}}function le(e){ve(e,(function(){Z(this,A+"tag--selected")}))}function ue(e){ve(e,(function(){ae(this,A+"tag--selected")}))}function he(){if(!c()&&!u()){var e=ye(N(q)).trim(),t=o.pattern;if(t&&e&&!Tt(t,"").test(e))return g("not.tag",[e,-1]),void oe(e,1);if(oe(""),e=ge(e))if(U(e))g("has.tag",[e,l(e,s.tags)]);else{V(e),G(e);var r=d(s.tags);g("change",[e,r]),g("set.tag",[e,r])}}}function ve(e,t){var r,n=H(O),i=d(n)-1;for(r=0;r<i;++r)e!==n[r]&&t.call(n[r],r)}function ge(e){return ye(s.f(e)).trim()}function ye(e){return e=e||"",o.escape.forEach((function(t){e=e.split(t).join("")})),e}function be(e){"blur"===e.type?(le(),ee(C,[T+"focus",T+"focus-self"])):ce(C,[T+"focus",T+"focus-self"])}function ke(e){if(!u()){W={};var t=this,r=e.type,n=t.title,i=s.tags,o=l(n,i),a=A+"tag--";"blur"===r?(!b&&!k||k&&w)&&(le(t),Z(t,a+"selected"),ee(C,[T+"focus",T+"focus-tag"])):(ae(t,a+"selected"),ce(C,[T+"focus",T+"focus-tag"]),j=o,W[o]=t),g(r+".tag",[n,o])}}function we(e){var t=s.tags,r=e.type,n=A+"text--";Z(C,T+"focus-tag"),"blur"===r?(Z(K,n+"focus"),ee(C,[T+"focus",T+"focus-input"]),he()):(ae(K,n+"focus"),ce(C,[T+"focus",T+"focus-input"]),le(K)),g(r,[t,d(t)])}function Le(e){"blur"===e.type?Z(C,T+"focus"):ae(C,T+"focus")}function $e(e){e&&C===e.target&&q.focus();var t=s.tags;g("click",[t,d(t)])}function He(){var e=this.title,t=s.tags;g("click.tag",[e,l(e,t)])}function _e(e){if(!c()&&!u()){var t=X(this).title,r=l(t,s.tags);te(t),Q(t),oe("",1),g("change",[t,r]),g("click.tag",[t,r]),g("let.tag",[t,r])}xe(e)}function Ce(e){var t=e.type;"copy"===t?rt((function(){return ne(1)}))():"cut"===t?(!u()&&J(""),rt((function(){return ne(1)}))()):"paste"===t&&rt((function(){!u()&&J(D.value),ne(1)}))(),rt((function(){var e=s.tags;g(t,[e,d(e)])}),1)()}function Ke(){le(),Z(C,T+"focus-self")}function De(){q.focus()}function qe(e){if(!c()&&!u()){s.tags;var t,r,n,i,o,a,l=e.key,f=b=e.ctrlKey,h=k=e.shiftKey,p=A+"tag--";if(w=Rt===l,!f){if(!h&&(Dt===l||qt===l)){z(),a=W;var v=Dt===l;for(r in a)te(o=(t=a[r]).title),Q(o);return j=+(y(a)[0]||0),(t=H(O,v?j-1:j))?K===t?oe("",1):t.focus():oe("",1),void xe(e)}if(Kt===l)return void((t=H(O,0))&&(t.focus(),xe(e)));if(Mt===l&&(t=H(O,d(s.tags)-1)))return t.focus(),void xe(e);if(_t===l){if(t=H(O,j-1)){var g=Y(t,p+"selected");return t.focus(),xe(e),h?(n=R(t),void(g&&Z(n,p+"selected"))):void le(t)}if(!h)return void le(H(O,0))}if(Ct===l&&(t=H(O,j+1))){var m=Y(t,p+"selected");return K!==t||h?t.focus():oe("",1),xe(e),h?(i=I(t),void(m&&Z(i,p+"selected"))):void le(t)}}Ht===l&&(ie(1),ue(),z(),xe(e))}}function Me(t){Se(t),u()&&Rt!==t.key&&xe(t);var r,n=o.escape,i=I(K),a=d(s.tags),c=o.max,l=N(q)||"",f=t.key,p=b=t.ctrlKey,v=Ot===f;k=t.shiftKey;var m=w=Rt===f;if(v&&(f="\n"),m&&(f="\t"),rt((function(){l=N(q)||"",me(M,l?"":h),e(function(e){var t,r=P.getSelection();if(r.rangeCount>0)return(t=r.getRangeAt(0).cloneRange()).collapse(!0),t.setStart(e,0),(t+"").slice(-1)}(q),n)&&(a<c?he():(oe(""),g("max.tags",[c])),xe(t))}))(),""===l&&Kt===f&&(r=H(O,0)))return r.focus(),void xe(t);if(""===l&&Mt===f&&(r=H(O,d(s.tags)-1)))return r.focus(),void xe(t);if(p&&""===l&&Ht===f)return ie(1),ue(),z(),void xe(t);if(e(f,n))return a<c?he():(oe(""),g("max.tags",[c])),void xe(t);if(!m){if(!p&&v)return Xe()&&_&&_.dispatchEvent(new Event("submit",{cancelable:!0})),void xe(t);if(i&&""===l&&!u()){if(Dt===f)return te(r=s.tags[a-1]),Q(r),g("change",[r,a-1]),g("let.tag",[r,a-1]),void xe(t);if(_t===f)return void i.focus()}}}function Oe(){b=k=!1}function Re(){rt((function(){c()||u()||N(q).split(o.join).forEach((function(t){e(t,s.tags)||(V(t),G(t))})),oe("")}))()}function Xe(e){if(!c()){var t=o.min;return he(),t>0&&d(s.tags)<t?(oe("",1),g("min.tags",[t]),void xe(e)):1}}return oe(""),se(C,O),se(K,q),se(K,M),se(O,K),ae(r,A+"source"),de(r,C),fe(r,{tabindex:-1}),Ae("blur",C,Ke),Ae("click",C,$e),Ae("focus",r,De),Ae("keydown",C,qe),Ae("keydown",q,Me),Ae("keyup",C,Oe),Ae("paste",q,Re),Te(["blur","focus"],C,Le),Te(["blur","focus"],D,be),Te(["blur","focus"],q,we),Te(["copy","cut","paste"],D,Ce),_&&Ae("submit",_,Xe),s.blur=function(){return!c()&&q.blur(),s},s.click=function(){return C.click(),$e(),s},s.f=function(e){return f(e||"").replace(/[^ a-z\d-]/g,"").trim()},s.focus=function(){return c()||oe(N(q),1),s},s.get=function(e){return c()?null:U(e,1)},s.input=q,s.let=function(e){if(!c()&&!u()){var r=o.min;if(e)if(t(e))e.forEach((function(e){if(r>0&&d(s.tags)<r)return g("min.tags",[r]),s;te(e),Q(e)}));else{if(r>0&&d(s.tags)<r)return g("min.tags",[r]),s;te(e),Q(e)}else J("")}return s},s.pop=function(){if(!r[$t])return s;delete r[$t];var e=s.tags;return Z(r,A+"source"),Ee("blur",C,Ke),Ee("click",C,$e),Ee("focus",r,De),Ee("keydown",C,qe),Ee("keydown",q,Me),Ee("keyup",C,Oe),Ee("paste",q,Re),Pe(["blur","focus"],C,Le),Pe(["blur","focus"],D,be),Pe(["blur","focus"],q,we),Pe(["copy","cut","paste"],D,Ce),_&&Ee("submit",_,Xe),e.forEach(te),fe(r,{tabindex:p}),re(C),g("pop",[e])},s.self=C,s.set=function(e,r){if(!e)return s;if(!c()&&!u())if(t(e))J(e.join(o.join));else{var n=s.tags,i=o.max;U(e)?g("has.tag",[e,l(e,n)]):d(n)<i?(V(e,r),G(e,r)):g("max.tags",[i])}return s},s.source=s.output=r,s.state=o,s.tags=[],J(r.value),s}function Ft(e){for(var t in Xt.instances)Xt.instances[t].pop(),delete Xt.instances[t];var r=q('.lot\\:field.type\\:query input.is\\:host:not([type="hidden"])');r&&d(r)&&r.forEach((function(e){var t;Z(e,"is:host");var r=C(e),n=new Xt(e,null!=(t=K(e,"state"))?t:{});ce(n.self,r)})),1===e&&P._.on("change",Ft)}Xt.instances={},Xt.state={class:"tag-picker",escape:[","],join:", ",max:9999,min:0,pattern:null},Xt.version="3.4.17",P.TP=Xt;var jt="TE";function It(e,t){return(e||"")["trim"+(-1===t?"Left":1===t?"Right":"")]()}function Wt(e,i){void 0===i&&(i={});var o=this;if(!e)return o;if(e[jt])return e[jt];if(!n(o,Wt))return new Wt(e,i);o.state=i=E({},Wt.state,a(i)?{tab:i}:i||{}),o.self=o.source=e,Wt.instances[e.id||e.name||m(Wt.instances)]=o,e[jt]=o;var c=/^([\s\S]*?)$/,l=function(){return e.disabled},u=function(){return e.readOnly},f=function(){return e.value.replace(/\r/g,"")};return o.value=f(),o.get=function(){return!l()&&It(f())||null},o.let=function(){return e.value=o.value,o},o.set=function(t){return l()||u()||(e.value=t),o},o.$=function(){return new Wt.S(e.selectionStart,e.selectionEnd,f())},o.focus=function(t){var r,n;return-1===t?r=n=0:1===t&&(r=d(f()),n=e.scrollHeight),s(r)&&s(n)&&(e.selectionStart=e.selectionEnd=r,e.scrollTop=n),e.focus(),o},o.blur=function(){return e.blur(),o},o.select=function(){if(l()||u())return e.focus(),o;for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];var i,s,a,c,f=d(r),h=o.$(),p=h.start,v=h.end;if(i=P.pageXOffset||T.scrollLeft||A.scrollLeft,s=P.pageYOffset||T.scrollTop||A.scrollTop,a=e.scrollLeft,c=e.scrollTop,0===f)r[0]=p,r[1]=v;else if(1===f){if(!0===r[0])return e.focus(),e.select(),o;r[1]=r[0]}return e.focus(),e.selectionStart=r[0],e.selectionEnd=r[1],e.scrollLeft=a,e.scrollTop=c,P.scroll(i,s),o},o.match=function(e,n){var i=o.$(),s=i.after,a=i.before,c=i.value;if(t(e)){var l=[a.match(e[0]),c.match(e[1]),s.match(e[2])];return r(n)?n.call(o,l[0]||[],l[1]||[],l[2]||[]):[!!l[0],!!l[1],!!l[2]]}var u=c.match(e);return r(n)?n.call(o,u||[]):!!u},o.replace=function(e,t,r){var n=o.$(),i=n.after,s=n.before,a=n.value;return-1===r?s=s.replace(e,t):1===r?i=i.replace(e,t):a=a.replace(e,t),o.set(s+a+i).select(s=d(s),s+d(a))},o.insert=function(e,t,r){var n=c;return r&&o.replace(n,""),-1===t?n=/$/:1===t&&(n=/^/),o.replace(n,e,t)},o.wrap=function(e,t,r){var n=o.$(),i=n.after,s=n.before,a=n.value;return r?o.replace(c,e+"$1"+t):o.set(s+e+a+t+i).select(s=d(s+e),s+d(a))},o.peel=function(e,t,r){var n=o.$(),i=n.after,s=n.before,a=n.value;e=At(e),t=At(t);var c=Tt(e+"$",""),l=Tt("^"+t,"");return r?o.replace(Tt("^"+e+"([\\s\\S]*?)"+t+"$",""),"$1"):c.test(s)&&l.test(i)?(s=s.replace(c,""),i=i.replace(l,""),o.set(s+a+i).select(s=d(s),s+d(a))):o.select()},o.pull=function(e,t){void 0===t&&(t=!0);var r=o.$(),n=r.length,a=r.value;return e=At(s(e)?e:i.tab),n?t?o.replace(Tt("^"+e,"gm"),""):o.insert(a.split("\n").map((function(t){return Tt("^("+e+")*$","").test(t)?t:t.replace(Tt("^"+e,""),"")})).join("\n")):o.replace(Tt(e+"$",""),"",-1)},o.push=function(e,t){void 0===t&&(t=!1);var r=o.$().length;return e=s(e)?e:i.tab,r?o.replace(Tt("^"+(t?"":"(?!$)"),"gm"),e):o.insert(e,-1)},o.trim=function(e,t,r,n,i){void 0===i&&(i=!0),null!==e&&!1!==e&&(e=e||""),null!==t&&!1!==t&&(t=t||""),null!==r&&!1!==r&&(r=r||""),null!==n&&!1!==n&&(n=n||"");var s=o.$(),a=s.before,c=s.value,l=s.after,u=It(a,1),f=It(l,-1);return a=!1!==e?It(a,1)+(u||!i?e:""):a,l=!1!==t?(f||!i?t:"")+It(l,-1):l,!1!==r&&(c=It(c,-1)),!1!==n&&(c=It(c,1)),o.set(a+c+l).select(a=d(a),a+d(c))},o.pop=function(){return e[jt]?(delete e[jt],o):o},o.state=i,o}Wt.esc=At,Wt.instances={},Wt.state={tab:"\t"},Wt.S=function(e,t,r){var n=this,i=r.slice(e,t);n.after=r.slice(t),n.before=r.slice(0,e),n.end=t,n.length=d(i),n.start=e,n.value=i,n.toString=function(){return i}},Wt.version="3.3.13",Wt.x=Lt;var Ut={_history:[],_historyState:-1,history:function(e){var t=this;return s(e)?s(t._history[e])?t._history[e]:null:t._history},loss:function(e){var t,r=this;return!0===e?(r._history=[],r._historyState=-1,[]):(t=r._history.splice(s(e)?e:r._historyState,1),r._historyState=p(r._historyState-1,[-1]),t)},record:function(e){var t=this,r=t.$(),n=r.end,i=r.start,o=t._history[t._historyState]||[],a=[t.self.value,i,n];return a[0]===o[0]&&a[1]===o[1]&&a[2]===o[2]||(++t._historyState,t._history[s(e)?e:t._historyState]=a),t},redo:function(){var e,t=this;return t._historyState=p(t._historyState+1,[0,d(t._history)-1]),e=t._history[t._historyState],t.set(e[0]).select(e[1],e[2])},undo:function(){var e,t=this;return t._historyState=p(t._historyState-1,[0,d(t._history)-1]),e=t._history[t._historyState],t.set(e[0]).select(e[1],e[2])}};var Nt={source:{pairs:{"`":"`","(":")","{":"}","[":"]",'"':'"',"'":"'","<":">"},type:null}};["alert","confirm","prompt"].forEach((function(e){Nt.source[e]=function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return function(e,t){return new Promise((function(r,n){var i=P[e].apply(P,t);return i?r(i):n(i)}))}(e,r)}}));var zt={toggle:function(e,r,n,i){void 0===i&&(i=!1),r||""===r||(r=e);var o=this,s=o.$(),c=s.after,l=s.before,u=s.value,f=d(r),h=d(e);return n&&r===u.slice(-f)&&e===u.slice(0,h)||r===c.slice(0,f)&&e===l.slice(-h)?o.peel(e,r,n):(!1!==i&&(a(i)?i=[i,i]:t(i)||(i=["",""]),isSet(i[1])||(i[1]=i[0]),o.trim(i[0],i[1])),o.wrap(e,r,n))}},Yt="Control-";function Bt(t,r){var n,i,o=r.state.source.tab||r.state.tab||"\t",s=r.state.source.pairs||{},a=b(s),c=t.key,l=t.queue,u=t+"";if(l.Alt||l.Control)return!0;if(" "===u){var f=r.$(),h=f.after,d=f.before,p=f.value;return n=s[i=d.slice(-1)],!(!p&&n&&i&&n===h[0])||(r.wrap(" "," "),!1)}if("Enter"===u){var v=r.$(),g=v.after,m=v.before,y=v.value,k=m.split("\n").pop().match(/^(\s+)/),w=k&&k[1]||"";if(!y){if(g&&m&&(n=s[i=m.slice(-1)])&&n===g[0])return r.wrap("\n"+w+(i!==n?o:""),"\n"+w).record(),!1;if(w)return r.insert("\n"+w,-1).record(),!1}return!0}if("Backspace"===u){var E=r.$(),x=E.after,S=E.before,P=E.value;x.split("\n")[0];var A=S.split("\n").pop(),T=A.match(/^(\s+)/),L=T&&T[1]||"";return n=s[i=S.slice(-1)],"\\"===i?!0:P?!(x&&S&&n&&n===x[0]&&!S.endsWith("\\"+i))||(r.record().peel(i,n).record(),!1):(n=s[i=S.trim().slice(-1)])&&i&&(x.startsWith(" "+n)&&S.endsWith(i+" ")||x.startsWith("\n"+L+n)&&S.endsWith(i+"\n"+L))?(r.trim("","").record(),!1):A.endsWith(o)?(r.pull(o).record(),!1):!(x&&S&&!S.endsWith("\\"+i)&&n===x[0]&&i===S.slice(-1))||(r.peel(i,n).record(),!1)}var $=r.$(),H=$.after,_=$.before,C=$.start,K=$.value;if("\\"===(i=_.slice(-1)))return!0;if(n=e(H[0],a)?H[0]:s[i],!K&&H&&_&&n&&c===n)return r.select(C+1).record(),!1;for(i in s){if(n=s[i],c===i&&n)return r.wrap(i,n).record(),!1;if(c===n){if(K)return r.record().wrap(i,n).record(),!1;break}}return!0}function Gt(e,t){var r=t.state.source.tab||t.state.tab||"\t";e.key,e.queue;var n=e+"";return Yt+"]"===n?(t.push(r).record(),!1):Yt+"["!==n||(t.pull(r).record(),!1)}function Vt(e,t){e.key;var r=e.queue;if(r.Control&&r.Enter){var n=t.$(),i=n.after,o=n.before,s=n.end,a=n.start,c=n.value,l=i.split("\n").shift(),u=o.split("\n").pop(),f=u.match(/^(\s+)/),h=f&&f[1]||"";if(o||i)return r.Shift?(t.select(a-d(u)).wrap(h,"\n").insert(c).record(),!1):(t.select(s+d(l)).wrap("\n"+h,"").insert(c).record(),!1)}return!0}function Jt(e,t){var r=e+"";return Yt+"y"===r?(t.redo(),!1):Yt+"z"!==r||(t.undo(),!1)}function Qt(t,r){t.key;var n=t+"";if(!t.queue.Control)return!0;var i,o,s,a=r.$(),c=a.after,l=a.before,u=a.end,f=a.start,h=a.value,p=r.state.source.pairs||{},v=[];if(h){for(i in p)(o=p[i])&&v.push("(?:\\"+i+"(?:\\\\.|[^\\"+i+(o!==i?"\\"+o:"")+"])*\\"+o+")");if(v.push("\\w+"),v.push("\\s+"),v.push("[\\s\\S]"),Yt+"ArrowLeft"===n)return(s=l.match(Tt("("+v.join("|")+")$","")))?(r.insert("").select(f-d(s[0])).insert(h),r.record(),!1):(r.select(),!1);if(Yt+"ArrowRight"===n)return(s=c.match(Tt("^("+v.join("|")+")","")))?(r.insert("").select(u+d(s[0])-d(h)).insert(h),r.record(),!1):(r.select(),!1)}var g=c.split("\n").shift(),m=l.split("\n").pop(),y=m.match(/^(\s+)/);if(y&&y[1],u+=d(g),f-=d(m),h=m+h+g,Yt+"ArrowUp"===n){if(!e("\n",l))return r.select(),!1;r.insert(""),r.replace(/^([^\n]*?)(\n|$)/,"$2",1),r.replace(/(^|\n)([^\n]*?)$/,"",-1);var b=r.$();return l=b.before,f=b.start,m=l.split("\n").pop(),r.select(f-=d(m)).wrap(h,"\n"),r.select(f,f+d(h)),r.record(),!1}if(Yt+"ArrowDown"===n){if(!e("\n",c))return r.select(),!1;r.insert(""),r.replace(/^([^\n]*?)(\n|$)/,"",1),r.replace(/(^|\n)([^\n]*?)$/,"$1",-1);var k=r.$();return c=k.after,u=k.end,g=c.split("\n").shift(),r.select(u+=d(g)).wrap("\n",h),u+=1,r.select(u,u+d(h)),r.record(),!1}return!0}var Zt=tt((function(e){return e.record()}),100);var er=Nt,tr="[\\w:.-]+",rr=function(e){return"<("+e+")(\\s(?:'(?:\\\\.|[^'])*'|\"(?:\\\\.|[^\"])*\"|[^/>'\"])*)?>"},nr=function(e){return"</("+e+")>"},ir="(?:\x3c!--([\\s\\S](?!--\x3e)*)--\x3e|<!((?:'(?:\\\\.|[^'])*'|\"(?:\\\\.|[^\"])*\"|[^>'\"])*)>|"+nr(tr)+"|<\\?((?:'(?:\\\\.|[^'])*'|\"(?:\\\\.|[^\"])*\"|[^>'\"])*)\\?>|"+rr(tr)+"|"+function(e){return"<("+e+")(\\s(?:'(?:\\\\.|[^'])*'|\"(?:\\\\.|[^\"])*\"|[^/>'\"])*)?/?>"}(tr)+")",or={};function sr(e){if(!e)return"";e=y(e).sort().reduce((function(t,r){return t[r]=e[r],t}),{});var t,r,n="";for(t in e)!1!==(r=e[t])&&null!==r&&(n+=" "+t,!0!==r&&(n+='="'+w(x(r),!0)+'"'));return n}function ar(e){return!1!==e&&(a(e)?e=[e,e]:t(e)||(e=["",""]),s(e[1])||(e[1]=e[0])),e}function cr(e,t){var r=t.state,n=r.sourceXML.tab||r.tab||"\t",i=e.key,o=e.queue,s=e+"";if(o.Alt||o.Control)return!0;if(["-",">","/","?"," "].includes(i)){var a=t.$(),c=a.after,l=a.before,u=a.value,f=a.start;if("-"===i&&!u&&"<!-"===l.slice(-3))return t.wrap("- "," --"+(">"===c[0]?"":">")).record(),!1;if(">"===i||"/"===i){var h=Tt(rr(tr)+"$","").exec(l+">");if(!u&&h)return"/"===i?">"===c[0]?(t.trim("",!1).insert(" /",-1).select(t.$().start+1).record(),!1):(t.trim("",!1).insert(" />",-1).record(),!1):(c.startsWith("></"+h[1]+">")?t.select(f+1).record():c.startsWith("</"+h[1]+">")?t.insert(">",-1).record():t.wrap(">","</"+h[1]+(">"===c[0]?"":">")).record(),!1)}if("?"===i&&!u&&"<"===l.slice(-1))return t.wrap("?","?"+(">"===c[0]?"":">")).record(),!1;if(" "===s&&!u&&("--\x3e"===c.slice(0,3)&&"\x3c!--"===l.slice(-4)||"?>"===c.slice(0,2)&&"<?"===l.slice(0,2)&&/<\?\S*$/.test(l)))return t.wrap(" "," ").record(),!1}if("ArrowLeft"===s){var p=t.$(),v=p.before,g=p.start;if(!p.value){var m=Tt(ir+"$","").exec(v);if(m)return t.select(g-d(m[0]),g),!1}}if("ArrowRight"===s){var y=t.$(),b=y.after,k=y.start;if(!y.value){var w=Tt("^"+ir,"").exec(b);if(w)return t.select(k,k+d(w[0])),!1}}if("Enter"===s){var E=t.$(),x=E.after,S=E.before,P=E.value,A=S.split("\n").pop().match(/^(\s+)/),T=A&&A[1]||"",L=S.match(Tt(rr(tr)+"$",""));if(!P){if(/^[ \t]*-->/.test(x)&&/<!--[ \t]*$/.test(S)||/^[ \t]*\?>/.test(x)&&/<\?\S*[ \t]*$/.test(S))return t.trim().wrap("\n"+T,"\n"+T).record(),!1;if(L)return x.startsWith("</"+L[1]+">")?t.record().trim().wrap("\n"+T+n,"\n"+T).record():t.record().wrap("\n"+T+n,"\n"+T+"</"+L[1]+">").record(),!1}}if("Backspace"===s){var $=t.$(),H=$.after,_=$.before;if(!$.value){if("\x3c!--"===_.slice(-4))return t.replace(/<!--$/,"",-1),"--\x3e"===H.slice(0,3)&&t.replace(/^-->/,"",1),t.record(),!1;if(/^\s+-->/.test(H)&&/<!--\s+$/.test(_))return t.trim(" "===_.slice(-1)?"":" "," "===H[0]?"":" ").record(),!1;if(/<\?\S*$/.test(_))return t.replace(/<\?\S*$/,"",-1),"?>"===H.slice(0,2)&&t.replace(/^\?>/,"",1),t.record(),!1;if(/^\s+\?>/.test(H)&&/<\?\S*\s+$/.test(_))return t.trim(" "===_.slice(-1)?"":" "," "===H[0]?"":" ").record(),!1;var C=Tt(ir+"$",""),K=C.exec(_);if(K){if(" />"===_.slice(-3))return t.replace(/ \/>$/,"/>",-1).record(),!1;if("/>"===_.slice(-2))return t.replace(/\/>$/,">",-1).record(),!1;t.replace(C,"",-1);var D=K[0].slice(1).split(/\s+|>/)[0];return K[0]&&"/"!==K[0][1]&&H.startsWith("</"+D+">")&&t.replace(Tt("^</"+D+">",""),"",1),t.record(),!1}if(Tt(rr(tr)+"\\n(?:"+At(n)+")?$","").test(_)&&Tt("^\\s*"+nr(tr),"").test(H))return t.trim().record(),!1}}if("Delete"===s){var q=t.$(),M=q.after;if(!q.value){if("--\x3e"===M.slice(0,3))return t.replace(/^-->/,"",1).record(),!1;if("?>"===M.slice(0,2))return t.replace(/^\?>/,"",1).record(),!1;var O=Tt("^"+ir,"");if(O.exec(M))return t.replace(O,"",1).record(),!1}}return!0}or.insert=function(e,t,r,n){void 0===t&&(t=""),void 0===r&&(r={}),void 0===n&&(n=!1);return!1!==(n=ar(n))&&this.trim(n[0],""),this.insert("<"+e+sr(r)+(!1!==t?">"+t+"</"+e+">":" />")+(!1!==n?n[1]:""),-1,!0)},or.toggle=function(e,t,r,n){void 0===t&&(t=""),void 0===r&&(r={}),void 0===n&&(n=!1);var i=this,o=i.$(),s=o.after,a=o.before,c=o.value,l=rr(e),u=nr(e),f=Tt(l+"$",""),h=Tt("^"+u,""),d=f.test(a),p=h.test(s);return p&&d?i.replace(h,"",1).replace(f,"",-1):(f=Tt("^"+l,""),h=Tt(u+"$",""),d=f.test(c),(p=h.test(c))&&d&&i.insert(c=c.replace(h,"").replace(f,"")),!c&&t&&i.insert(t),!1!==(n=ar(n))&&i.trim(n[0],n[1]),i.wrap("<"+e+sr(r)+">","</"+e+">"))},or.wrap=function(e,t,r,n){void 0===t&&(t=""),void 0===r&&(r={}),void 0===n&&(n=!1);var i=this,o=i.$();return o.after,o.before,!o.value&&t&&i.insert(t),!1!==(n=ar(n))&&i.trim(n[0],n[1]),i.wrap("<"+e+sr(r)+">","</"+e+">")};var lr={source:{type:"XML"},sourceXML:{}},ur=be.protocol,fr=or.toggle,hr="[\\w:.-]+",dr=function(e){return"<("+e+")(\\s(?:'(?:\\\\.|[^'])*'|\"(?:\\\\.|[^\"])*\"|[^/>'\"])*)?>"},pr=function(e){return"</("+e+")>"};function vr(e){return!1!==e&&(a(e)?e=[e,e]:t(e)||(e=["",""]),s(e[1])||(e[1]=e[0])),e}var gr={};gr.blocks=function(){var e=this;return e.record(),function(e){var t=e.$(),r=t.after,n=t.end,i=t.before,o=t.start,s=t.value,a=/<(?:h([1-6])|p)(\s[^>]*)?>$/,c=/^<\/(?:h[1-6]|p)>/;if(!s){var l=r.split("\n").shift(),u=i.split("\n").pop();e.select(o-d(u),n+d(l))}e.match([a,/.*/,c],(function(t,r,n){var i=this,o=+(t[1]||0),s=t[2]||"",l=e.state.sourceHTML.elements||{},u=t[0]?l[t[0].slice(1,-1).split(/\s/)[0]]:["","",{}];!s&&u[2]&&(s=sr(u[2])),i.replace(a,"",-1),i.replace(/\n+/g," "),i.replace(c,"",1);var f=u[3]||l.h1[3];!1!==(f=vr(f))&&i.trim(f[0],f[1]),o?++o>6?(i.wrap("<"+l.p[0]+(s||sr(l.p[2]))+">","</"+l.p[0]+">"),r[0]&&r[0]!==l.h6[1]||i.insert(l.p[1])):(i.wrap("<"+l["h"+o][0]+(s||sr(l["h"+o][2]))+">","</"+l["h"+o][0]+">"),r[0]&&r[0]!==l.p[1]||i.insert(l["h"+o][1])):(i.wrap("<"+l.h1[0]+(s||sr(l.h1[2]))+">","</"+l.h1[0]+">"),r[0]&&r[0]!==l.p[1]||i.insert(l.h1[1]))})),s&&(e.replace(Tt("^\\s*"+dr("blockquote|h[1-6]|p(re)?")),""),e.replace(Tt(pr("blockquote|h[1-6]|p(re)?")+"\\s*$"),""))}(e),e.record(),!1},gr.bold=function(){var e=this,t=e.state.sourceHTML.elements||{};return e.record(),fr.apply(e,t.b),!1},gr.code=function(){var e=this;return e.record(),function(e){var t=/<(?:pre|code)(?:\s[^>]*)?>(?:\s*<code(?:\s[^>]*)?>)?$/,r=/^(?:<\/code>\s*)?<\/(?:pre|code)>/;e.match([t,/.*/,r],(function(n,i,o){var s,a=this,c=e.state.sourceHTML.elements;a.replace(t,"",-1),a.replace(r,"",1),o[0]?/^(?:<\/code>\s*)?<\/pre>/.test(o[0])?(!1!==(s=vr(s=c[""][3]))&&a.trim(s[0],s[1]),a.insert(v(i[0]))):o[0].slice(0,7)==="</"+c.code[0]+">"&&(!1!==(s=vr(s=c.pre[3]))&&a.trim(s[0],s[1]),a.wrap("<"+c.pre[0]+sr(c.pre[2])+"><"+c.code[0]+sr(c.code[2])+">","</"+c.code[0]+"></"+c.pre[0]+">")):(!1!==(s=vr(s=c.code[3]))&&a.trim(s[0],s[1]),a.wrap("<"+c.code[0]+sr(c.code[2])+">","</"+c.code[0]+">").insert(w(i[0]||c.code[1])))}))}(e),e.record(),!1},gr.image=function(e,t){void 0===e&&(e="URL:");var n=this,i=n.$(),o=i.after,s=i.before,a=i.value,c=n.state,l=c.sourceHTML.elements||{},u=c.sourceHTML.tab||c.source.tab||c.tab||"\t",f=s.split("\n").pop().match(/^(\s+)/),h=f&&f[1]||"",d=c.source.prompt;return r(d)&&d(e,a&&/^https?:\/\/\S+$/.test(a)?a:t||ur+"//").then((function(e){if(e){var t=l.img;a&&(t[2].alt=a,n.record());var r=t[3]||!1;!1!==(r=vr(r))&&n.trim(r[0],""),t[2].src=e,o&&"\n"!==o[0]||s&&"\n"!==s.slice(-1)?n.insert("<"+t[0]+sr(t[2])+">"+(!1!==r?r[1]:""),-1,!0):(!1!==(r=vr(r=l.figure[3]||!1))&&n.trim(r[0],r[1]),n.insert(""),n.wrap(h+"<"+l.figure[0]+sr(l.figure[2])+">\n"+h+u,h+"\n</"+l.figure[0]+">"),n.insert("<"+t[0]+sr(t[2])+">\n"+h+u,-1),n.wrap("<"+l.figcaption[0]+sr(l.figcaption[2])+">","</"+l.figcaption[0]+">").insert(l.figcaption[1]))}else n.focus()})).catch((function(e){return 0})),n.record(),!1},gr.italic=function(){var e=this,t=e.state.sourceHTML.elements||{};return e.record(),fr.apply(e,t.i),!1},gr.link=function(e,t){void 0===e&&(e="URL:");var n=this,i=n.$(),o=i.before,s=i.value,a=n.state,c=a.sourceHTML.elements||{},l=a.source.prompt;if(r(l)){var u,f,h,d=c.a;(f=Tt(dr(d[0])).exec(o))?(h=!0,f=/\shref=(?:"([^"]+)"|'([^']+)'|([^>\/\s]+))/.exec(f[2]),u=v((f[1]||"")+(f[2]||"")+(f[3]||""))):(f=Tt("^\\s*"+dr(d[0])).exec(s))&&(f=/\shref=(?:"([^"]+)"|'([^']+)'|([^>\/\s]+))/.exec(f[2]),u=v((f[1]||"")+(f[2]||"")+(f[3]||""))),l(e,s&&/^https?:\/\/\S+$/.test(s)?s:u||t||ur+"//").then((function(e){if(e){s&&n.record(),d[2].href=e;var t={};/[.\/?&#]/.test(e[0])||/^(data|javascript|mailto):/.test(e)||-1===e.indexOf("://")||(t.rel="nofollow",t.target="_blank");var r=vr(d[3]||!1);!1!==r||s||(r=[" "," "]),h&&fr.call(n,d[0]),fr.call(n,d[0],d[1],E(t,d[2]),r)}else n.focus()})).catch((function(e){return 0}))}return n.record(),!1},gr.quote=function(){var e=this;return e.record(),function(e){var t=/<(blockquote|q)(?:\s[^>]*)?>\s*$/,r=/^\s*<\/(blockquote|q)>/;e.match([t,/.*/,r],(function(n,i,o){var s,a=this,c=e.state,l=c.sourceHTML.tab||c.source.tab||c.tab||"\t",u=e.state.sourceHTML.elements||{};a.replace(t,"",-1),a.replace(r,"",1),o[0]?u.blockquote[0]===o[1]?!1!==(s=vr(u[""][3]))&&a.trim(s[0],s[1]):u.q[0]===o[1]&&(!1!==(s=vr(u.blockquote[3]))&&a.trim(s[0],s[1]),a.wrap("<"+u.blockquote[0]+sr(u.blockquote[2])+">\n","\n</"+u.blockquote[0]+">").insert(i[0]||u.blockquote[1]),a.replace(Tt("(^|\\n)"),"$1"+l)):(!1!==(s=vr(u.q[3]))&&a.trim(s[0],s[1]),a.wrap("<"+u.q[0]+sr(u.q[2])+">","</"+u.q[0]+">").insert(i[0]||u.q[1]),a.replace(Tt("(^|\\n)"+l),"$1"))}))}(e),e.record(),!1},gr.underline=function(){var e=this,t=e.state.sourceHTML.elements||{};return e.record(),fr.apply(e,t.u),!1};var mr={source:{type:"HTML"},sourceHTML:{elements:{"":["","text goes here…",{},""],a:["a","link text goes here…",{}],area:["area",!1,{}],b:["strong","text goes here…",{}],base:["base",!1,{href:""},"\n"],blockquote:["blockquote","",{},"\n"],br:["br",!1,{},["","\n"]],button:["button","text goes here…",{name:"",type:"submit"}," "],caption:["caption","caption goes here…",{},"\n"],code:["code","code goes here…",{}," "],col:["col",!1,{},"\n"],em:["em","text goes here…",{}],figcaption:["figcaption","caption goes here…",{},"\n"],figure:["figure","",{},"\n"],h1:["h1","title goes here…",{},"\n"],h2:["h2","title goes here…",{},"\n"],h3:["h3","title goes here…",{},"\n"],h4:["h4","title goes here…",{},"\n"],h5:["h5","title goes here…",{},"\n"],h6:["h6","title goes here…",{},"\n"],hr:["hr",!1,{},"\n"],i:["em","text goes here…",{}],img:["img",!1,{alt:"",src:""}," "],input:["input",!1,{name:"",type:"text"}," "],li:["li","list item goes here…",{},"\n"],link:["link",!1,{href:""},"\n"],meta:["meta",!1,{},"\n"],ol:["ol","",{},"\n"],option:["option","option goes here…",{},"\n"],p:["p","paragraph goes here…",{},"\n"],param:["param",!1,{name:""},"\n"],pre:["pre","text goes here…",{},"\n"],q:["q","quote goes here…",{}," "],script:["script","",{},"\n"],select:["select","",{name:""}," "],source:["source",!1,{src:""},"\n"],strong:["strong","text goes here…",{}],style:["style","",{},"\n"],td:["td","data goes here…",{},"\n"],textarea:["textarea","text goes here…",{name:""}," "],th:["th","title goes here…",{},"\n"],tr:["tr","",{},"\n"],track:["track",!1,{},"\n"],u:["u","text goes here…",{}],ul:["ul","",{},"\n"],wbr:["wbr",!1,{},["","\n"]]}}};Object.assign(Wt.prototype,Ut,zt),Wt.state=E({},Wt.state,er,lr,mr),delete Wt.state.source.type;var yr=tt((function(e){return e.pull()}),1e3);function br(e){this.K.pull()}function kr(e){this.K.pull()}function wr(e){var t,r,n=this.TE,i=this.K,o=e.key,s=n.state.source.type;if(Se(e),i.push(o),t=i.command())!1===(r=i.fire(t))?xe(e):null===r&&console.error("Unknown command:",t);else{if("HTML"===s)return void(function(e,t){var r=t.state,n=r.sourceHTML.tab||r.source.tab||r.tab||"\t",i=r.sourceHTML.elements||{},o=e.key,s=e.queue;if(s.Control){var a=t.$(),c=a.after,l=a.before,u=a.end,f=a.start;a.value;var h=c.split("\n").shift(),p=l.split("\n").pop(),v=p.match(/^(\s+)/),g=v&&v[1]||"";if("Enter"===o){var m=h.match(Tt(pr(hr)+"\\s*$","")),y=i[m&&m[1]||"p"]||i.p;return y[3]=["\n"+g,"\n"+g],t.select(s.Shift?f-d(p):u+d(h)),fr.apply(t,y),t.record(),!1}}if(s.Alt||s.Control)return!0;if(">"===o){var b,k=t.$(),w=k.after,E=k.before,x=k.end,S=(E.split("\n").pop()+">").match(Tt(dr(hr)+"$","")),P=i[b=S&&S[1]||""];return!b||(P?!1!==P[1]?(">"===w[0]?t.select(x+1):t.insert(">",-1),t.insert("</"+b+">",1).insert(P[1])):">"===w[0]?t.insert(" /",-1).select(x+3):t.insert(" />",-1):(">"===w[0]?t.select(x+1):t.insert(">",-1),t.insert("</"+b+">",1)),t.record(),!1)}if("Enter"===o){var A,T,L=t.$(),$=L.after,H=L.before,_=L.value,C=$.split("\n").shift(),K=H.split("\n").pop(),D=K.match(/^(\s+)/),q=D&&D[1]||"",M=["li","option","p","td","th"],O=["script","style"];if(A=K.match(Tt(dr(hr)+"$",""))){var R=i[A[1]];if(R&&!1===R[1])return t.insert("\n"+q,-1).record(),!1}if(s.Shift){var X=i.br;return t.insert("<"+X[0]+sr(X[2])+">"+(!1===X[1]?"":X[1]+"</"+X[0]+">")+"\n",-1).record(),!1}if($&&H){for(var F=0,j=d(M);F<j;++F)if(Tt("^"+pr(T=M[F]),"").test(C)&&(A=K.match(Tt("^\\s*"+dr(T),""))))return A[0]===K?(i[T]&&_&&i[T][1]===_?t.insert("").wrap("\n"+q+n,"\n"+q):fr.call(t,T),t.record(),!1):(t.insert("</"+T+">\n"+q+"<"+T+(A[2]||"")+">",-1).insert(i[T]&&i[T][1]||"").record(),!1);for(var I=0,W=d(O);I<W;++I)if(Tt("^"+pr(T=O[I]),"").test(C)&&Tt(dr(T)+"$","").test(K))return t.wrap("\n"+q,"\n"+q).insert(i[T]&&i[T][1]||"").record(),!1;for(var U=1;U<7;++U)if(C.startsWith("</"+i["h"+U][0]+">")&&K.match(Tt("^\\s*"+dr(i["h"+U][0]),"")))return i["h"+U]&&_&&i["h"+U][1]===_?t.insert("").wrap("\n"+q+n,"\n"+q):t.insert("</"+i["h"+U][0]+">\n"+q+"<"+i.p[0]+">",-1).replace(Tt("^"+pr(i["h"+U][0])),"</"+i.p[0]+">",1).insert(i.p[1]),t.record(),!1}}return!0}(i,n)&&cr(i,n)&&Bt(i,n)&&Gt(i,n)&&Vt(i,n)&&Jt(i,n)&&Qt(i,n)||xe(e));if("XML"===s)return void(cr(i,n)&&Bt(i,n)&&Gt(i,n)&&Vt(i,n)&&Jt(i,n)&&Qt(i,n)||xe(e));Bt(i,n)&&Gt(i,n)&&Vt(i,n)&&Jt(i,n)&&Qt(i,n)||xe(e)}yr(i)}function Er(e){var t=this.TE,r=this.K,n=e.key;!function(e,t){Zt(t)}(0,t),r.pull(n)}function xr(t){var r=this.TE;!function(t,r){t.key,t.queue.Control||P.setTimeout((function(){var t=r.$(),n=t.after,i=t.before,o=t.value;if(!o)for(var s,a,c=ir.split("("+tr+")").join("((?:[\\w:.-]|\ufeff)+)"),l=Tt(c),u=i+o+"\ufeff"+n;s=l.exec(u);)if(e("\ufeff",s[0])){r.select(a=s.index,a+d(s[0])-1);break}}),1)}(this.K,r)}function Sr(e){Ee("blur",e,br),Ee("input",e,kr),Ee("keydown",e,wr),Ee("keyup",e,Er),Ee("mousedown",e,xr),Ee("touchstart",e,xr)}function Pr(e){var t;for(var r in Wt.instances)(t=Wt.instances[r]).loss().pop(),delete t.self.K,delete Wt.instances[r],Sr(t.self);var n,i,o,s,a=q(".lot\\:field.type\\:source textarea.is\\:host");a&&d(a)&&a.forEach((function(e){var t;n=new Wt(e,null!=(t=K(e,"state"))?t:{}),o=n.state,s=o.source.type,(i=new P.K(n)).keys.Escape=function(){var e=X(this.source,"[tabindex]:not(.not\\:active)");return!e||(e.focus(),!1)},"HTML"===s&&(i.commands=gr,i.keys["Control-b"]="bold",i.keys["Control-e"]="code",i.keys["Control-h"]="blocks",i.keys["Control-i"]="italic",i.keys["Control-k"]="link",i.keys["Control-o"]="image",i.keys["Control-q"]="quote",i.keys["Control-u"]="underline"),o.commands=i.commands,o.keys=i.keys,e.K=i,function(e){Ae("blur",e,br),Ae("input",e,kr),Ae("keydown",e,wr),Ae("keyup",e,Er),Ae("mousedown",e,xr),Ae("touchstart",e,xr),e.TE.record()}(e)})),1===e&&(P._.on("change",Pr),["alert","confirm","prompt"].forEach((function(e){P._.dialog[e]&&(Wt.state.source[e]=P._.dialog[e])})))}P.TE=Wt;var Ar=':scope>:where(.lot\\:file[tabindex],.lot\\:folder[tabindex]):not([tabindex="-1"]):not(.not\\:active)';function Tr(e){e&&r(e.focus)&&e.focus()}function Lr(e){if(!e.defaultPrevented){var t,r,n,i=this,o=e.key;if(i===e.target){for(t=R(i);t&&Y(t,"not:active");)t=R(t);for(r=I(i);r&&Y(r,"not:active");)r=I(r);"ArrowDown"===o?(Tr(t),n=!0):"ArrowUp"===o?(Tr(r),n=!0):"End"===o?(Tr([].slice.call(q(Ar,X(i))).pop()),n=!0):"Home"===o&&(Tr(D(Ar,X(i))),n=!0),n&&(xe(e),Se(e))}}}function $r(e){if(!e.defaultPrevented){var t,r=this,n=e.key,i=e.altKey,o=e.ctrlKey,s=e.shiftKey;if(r===e.target){if(!i&&!o&&!s)"ArrowDown"===n||"Home"===n?(Tr(D(Ar,r)),t=!0):"ArrowUp"!==n&&"End"!==n||(Tr([].slice.call(q(Ar,r)).pop()),t=!0);t&&(xe(e),Se(e))}}}var Hr=':scope>ul>li>:where(a,button,input,select,textarea,[tabindex]):not(:disabled):not([tabindex="-1"]):not(.not\\:active)';function _r(e){e&&r(e.focus)&&e.focus()}function Cr(e){if(!e.defaultPrevented){var t,r,n,i,o=this,s=e.key,a=e.altKey,c=e.ctrlKey,l=e.shiftKey;if(!a&&!c&&!l){if(t=X(o)){for(r=R(t);r&&(Y(r,"as:separator")||Y(r,"not:active"));)r=R(r);for(n=I(t);n&&(Y(n,"as:separator")||Y(n,"not:active"));)n=I(n)}"ArrowLeft"===s?(_r(n&&$(n)),i=!0):"ArrowRight"===s?(_r(r&&$(r)),i=!0):"End"===s?((t=X(o,".lot\\:links[tabindex]"))&&_r([].slice.call(q(Hr,t)).pop()),i=!0):"Home"===s&&((t=X(o,".lot\\:links[tabindex]"))&&_r(D(Hr,t)),i=!0)}i&&(xe(e),Se(e))}}function Kr(e){if(!e.defaultPrevented){var t,r=this,n=e.key,i=e.altKey,o=e.ctrlKey,s=e.shiftKey;r===e.target&&(i||o||s||("ArrowRight"===n||"Home"===n?(_r(D(Hr,r)),t=!0):"ArrowLeft"!==n&&"End"!==n||(_r([].slice.call(q(Hr,r)).pop()),t=!0)),t&&(xe(e),Se(e)))}}var Dr=":where(a,[tabindex]):not(.not\\:active)";function qr(e){e&&r(e.focus)&&e.focus()}function Mr(e,t){q(".lot\\:menu[tabindex].is\\:enter").forEach((function(r){e!==r&&(Z(X(r),"is:active"),Z(I(r),"is:active"),Z(r,"is:enter"),t&&oe(t,"aria-expanded","false"))}))}function Or(){Mr(0)}function Rr(e){if(!e.defaultPrevented){var t=this,r=R(t);Mr(r,t),P.setTimeout((function(){ye(r,"is:enter"),ye(X(t),"is:active"),ye(t,"is:active"),oe(t,"aria-expanded",Y(t,"is:active")?"true":"false")}),1),xe(e),Se(e)}}function Xr(e){if(!e.defaultPrevented){var t,r,n,i,o,s=this,a=e.key;if(r=X(s)){for(n=R(r);n&&(Y(n,"as:separator")||Y(n,"not:active"));)n=R(n);for(i=I(r);i&&(Y(i,"as:separator")||Y(i,"not:active"));)i=I(i)}"ArrowDown"===a?(qr(n&&$(n)),o=!0):"ArrowLeft"===a||"Escape"===a||"Tab"===a?((r=X(s,".lot\\:menu[tabindex].is\\:enter"))?(Z(X(s),"is:active"),Z(r,"is:enter"),Z(s,"is:active"),oe(I(r),"aria-expanded","false"),"Tab"!==a&&qr(I(r))):"Escape"===a&&qr(X(s,".lot\\:menu[tabindex]")),o="Tab"!==a):"ArrowRight"===a?((n=R(s))&&Y(n,"lot:menu")&&(oe(s,"aria-expanded","true"),ae(X(s),"is:active"),ae(n,"is:enter"),ae(s,"is:active"),P.setTimeout((function(){qr(D(Dr,n))}),1)),o=!0):"ArrowUp"===a?((t=i&&$(i))?qr(t):(t=X(s,".lot\\:menu[tabindex].is\\:enter"))&&Y(t,"level:1")&&(Z(t,"is:enter"),(t=I(t))&&(Z(t,"is:active"),Z(X(t),"is:active"),oe(t,"aria-expanded","false"),P.setTimeout((function(){qr(t)}),1))),o=!0):"End"===a?((r=X(s,".lot\\:menu[tabindex]"))&&qr([].slice.call(q(Dr,r)).pop()),o=!0):"Home"===a&&((r=X(s,".lot\\:menu[tabindex]"))&&qr(D(Dr,r)),o=!0),o&&(xe(e),Se(e))}}function Fr(e){if(!e.defaultPrevented){var t,r=this,n=e.key,i=e.altKey,o=e.ctrlKey,s=e.shiftKey;r===e.target&&(i||o||s||("ArrowDown"===n||"Home"===n?(qr(D(Dr,r)),t=!0):"ArrowUp"!==n&&"End"!==n||(qr([].slice.call(q(Dr,r)).pop()),t=!0)),t&&(xe(e),Se(e)))}}function jr(e){if(!e.defaultPrevented){var t,r=this,n=e.key,i=R(r),o=X(r);i&&o&&Y(i,"lot:menu")&&(" "===n||"Enter"===n||"Tab"===n?"Tab"===n?Y(i,"is:enter")&&we("click",r):(we("click",r),P.setTimeout((function(){qr(D(Dr,i))}),1),t=!0):"ArrowDown"===n&&Y(i,"level:1")&&(oe(r,"aria-expanded","true"),ae(X(r),"is:active"),ae(i,"is:enter"),ae(r,"is:active"),P.setTimeout((function(){qr(D(Dr,i))}),1),t=!0)),t&&(xe(e),Se(e))}}var Ir=':scope>ul>li>:where(a,button,input,select,textarea,[tabindex]):not(:disabled):not([tabindex="-1"]):not(.not\\:active)';function Wr(e){e&&r(e.focus)&&e.focus()}function Ur(e){if(!e.defaultPrevented){var t,r,n,i,o=this,s=e.key,a=e.altKey,c=e.ctrlKey,l=e.shiftKey;if(!a&&!c&&!l){if(t=X(o)){for(r=R(t);r&&(Y(r,"as:separator")||Y(r,"not:active"));)r=R(r);for(n=I(t);n&&(Y(n,"as:separator")||Y(n,"not:active"));)n=I(n)}"ArrowLeft"===s?(Wr(n&&$(n)),i=!0):"ArrowRight"===s?(Wr(r&&$(r)),i=!0):"End"===s?((t=X(o,".lot\\:menus[tabindex]"))&&Wr([].slice.call(q(Ir,t)).pop()),i=!0):"Home"===s&&((t=X(o,".lot\\:menus[tabindex]"))&&Wr(D(Ir,t)),i=!0)}i&&(xe(e),Se(e))}}function Nr(e){if(!e.defaultPrevented){var t,r=this,n=e.key,i=e.altKey,o=e.ctrlKey,s=e.shiftKey;r===e.target&&(i||o||s||("ArrowRight"===n||"Home"===n?(Wr(D(Ir,r)),t=!0):"ArrowLeft"!==n&&"End"!==n||(Wr([].slice.call(q(Ir,r)).pop()),t=!0)),t&&(xe(e),Se(e)))}}var zr=':scope>.lot\\:page[tabindex]:not([tabindex="-1"]):not(.not\\:active)';function Yr(e){e&&r(e.focus)&&e.focus()}function Br(e){if(!e.defaultPrevented){var t,r,n,i=this,o=e.key;if(i===e.target){for(t=R(i);t&&Y(t,"not:active");)t=R(t);for(r=I(i);r&&Y(r,"not:active");)r=I(r);"ArrowDown"===o?(Yr(t),n=!0):"ArrowUp"===o?(Yr(r),n=!0):"End"===o?(Yr([].slice.call(q(zr,X(i))).pop()),n=!0):"Home"===o&&(Yr(D(zr,X(i))),n=!0),n&&(xe(e),Se(e))}}}function Gr(e){if(!e.defaultPrevented){var t,r=this,n=e.key,i=e.altKey,o=e.ctrlKey,s=e.shiftKey;r===e.target&&(i||o||s||("ArrowDown"===n||"Home"===n?(Yr(D(zr,r)),t=!0):"ArrowUp"!==n&&"End"!==n||(Yr([].slice.call(q(zr,r)).pop()),t=!0)),t&&(xe(e),Se(e)))}}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function Vr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Jr={exports:{}};"undefined"!=typeof self&&self,Jr.exports=function(e){function t(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,r){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function(){function e(t){var r=this;if(n(this,e),this.config=e.mergeSettings(t),this.selector="string"==typeof this.config.selector?document.querySelector(this.config.selector):this.config.selector,null===this.selector)throw Error("Something wrong with your selector 😭");this.resolveSlidesNumber(),this.selectorWidth=this.selector.offsetWidth,this.innerElements=[].slice.call(this.selector.children),this.currentSlide=this.config.loop?this.config.startIndex%this.innerElements.length:Math.max(0,Math.min(this.config.startIndex,this.innerElements.length-this.perPage)),this.transformProperty=e.webkitOrNot(),["resizeHandler","touchstartHandler","touchendHandler","touchmoveHandler","mousedownHandler","mouseupHandler","mouseleaveHandler","mousemoveHandler","clickHandler"].forEach((function(e){r[e]=r[e].bind(r)})),this.init()}return o(e,[{key:"attachEvents",value:function(){window.addEventListener("resize",this.resizeHandler),this.config.draggable&&(this.pointerDown=!1,this.drag={startX:0,endX:0,startY:0,letItGo:null,preventClick:!1},this.selector.addEventListener("touchstart",this.touchstartHandler),this.selector.addEventListener("touchend",this.touchendHandler),this.selector.addEventListener("touchmove",this.touchmoveHandler),this.selector.addEventListener("mousedown",this.mousedownHandler),this.selector.addEventListener("mouseup",this.mouseupHandler),this.selector.addEventListener("mouseleave",this.mouseleaveHandler),this.selector.addEventListener("mousemove",this.mousemoveHandler),this.selector.addEventListener("click",this.clickHandler))}},{key:"detachEvents",value:function(){window.removeEventListener("resize",this.resizeHandler),this.selector.removeEventListener("touchstart",this.touchstartHandler),this.selector.removeEventListener("touchend",this.touchendHandler),this.selector.removeEventListener("touchmove",this.touchmoveHandler),this.selector.removeEventListener("mousedown",this.mousedownHandler),this.selector.removeEventListener("mouseup",this.mouseupHandler),this.selector.removeEventListener("mouseleave",this.mouseleaveHandler),this.selector.removeEventListener("mousemove",this.mousemoveHandler),this.selector.removeEventListener("click",this.clickHandler)}},{key:"init",value:function(){this.attachEvents(),this.selector.style.overflow="hidden",this.selector.style.direction=this.config.rtl?"rtl":"ltr",this.buildSliderFrame(),this.config.onInit.call(this)}},{key:"buildSliderFrame",value:function(){var e=this.selectorWidth/this.perPage,t=this.config.loop?this.innerElements.length+2*this.perPage:this.innerElements.length;this.sliderFrame=document.createElement("div"),this.sliderFrame.style.width=e*t+"px",this.enableTransition(),this.config.draggable&&(this.selector.style.cursor="-webkit-grab");var r=document.createDocumentFragment();if(this.config.loop)for(var n=this.innerElements.length-this.perPage;n<this.innerElements.length;n++){var i=this.buildSliderFrameItem(this.innerElements[n].cloneNode(!0));r.appendChild(i)}for(var o=0;o<this.innerElements.length;o++){var s=this.buildSliderFrameItem(this.innerElements[o]);r.appendChild(s)}if(this.config.loop)for(var a=0;a<this.perPage;a++){var c=this.buildSliderFrameItem(this.innerElements[a].cloneNode(!0));r.appendChild(c)}this.sliderFrame.appendChild(r),this.selector.innerHTML="",this.selector.appendChild(this.sliderFrame),this.slideToCurrent()}},{key:"buildSliderFrameItem",value:function(e){var t=document.createElement("div");return t.style.cssFloat=this.config.rtl?"right":"left",t.style.float=this.config.rtl?"right":"left",t.style.width=(this.config.loop?100/(this.innerElements.length+2*this.perPage):100/this.innerElements.length)+"%",t.appendChild(e),t}},{key:"resolveSlidesNumber",value:function(){if("number"==typeof this.config.perPage)this.perPage=this.config.perPage;else if("object"===i(this.config.perPage))for(var e in this.perPage=1,this.config.perPage)window.innerWidth>=e&&(this.perPage=this.config.perPage[e])}},{key:"prev",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments[1];if(!(this.innerElements.length<=this.perPage)){var r=this.currentSlide;if(this.config.loop)if(this.currentSlide-e<0){this.disableTransition();var n=this.currentSlide+this.innerElements.length,i=n+this.perPage,o=(this.config.rtl?1:-1)*i*(this.selectorWidth/this.perPage),s=this.config.draggable?this.drag.endX-this.drag.startX:0;this.sliderFrame.style[this.transformProperty]="translate3d("+(o+s)+"px, 0, 0)",this.currentSlide=n-e}else this.currentSlide=this.currentSlide-e;else this.currentSlide=Math.max(this.currentSlide-e,0);r!==this.currentSlide&&(this.slideToCurrent(this.config.loop),this.config.onChange.call(this),t&&t.call(this))}}},{key:"next",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments[1];if(!(this.innerElements.length<=this.perPage)){var r=this.currentSlide;if(this.config.loop)if(this.currentSlide+e>this.innerElements.length-this.perPage){this.disableTransition();var n=this.currentSlide-this.innerElements.length,i=n+this.perPage,o=(this.config.rtl?1:-1)*i*(this.selectorWidth/this.perPage),s=this.config.draggable?this.drag.endX-this.drag.startX:0;this.sliderFrame.style[this.transformProperty]="translate3d("+(o+s)+"px, 0, 0)",this.currentSlide=n+e}else this.currentSlide=this.currentSlide+e;else this.currentSlide=Math.min(this.currentSlide+e,this.innerElements.length-this.perPage);r!==this.currentSlide&&(this.slideToCurrent(this.config.loop),this.config.onChange.call(this),t&&t.call(this))}}},{key:"disableTransition",value:function(){this.sliderFrame.style.webkitTransition="all 0ms "+this.config.easing,this.sliderFrame.style.transition="all 0ms "+this.config.easing}},{key:"enableTransition",value:function(){this.sliderFrame.style.webkitTransition="all "+this.config.duration+"ms "+this.config.easing,this.sliderFrame.style.transition="all "+this.config.duration+"ms "+this.config.easing}},{key:"goTo",value:function(e,t){if(!(this.innerElements.length<=this.perPage)){var r=this.currentSlide;this.currentSlide=this.config.loop?e%this.innerElements.length:Math.min(Math.max(e,0),this.innerElements.length-this.perPage),r!==this.currentSlide&&(this.slideToCurrent(),this.config.onChange.call(this),t&&t.call(this))}}},{key:"slideToCurrent",value:function(e){var t=this,r=this.config.loop?this.currentSlide+this.perPage:this.currentSlide,n=(this.config.rtl?1:-1)*r*(this.selectorWidth/this.perPage);e?requestAnimationFrame((function(){requestAnimationFrame((function(){t.enableTransition(),t.sliderFrame.style[t.transformProperty]="translate3d("+n+"px, 0, 0)"}))})):this.sliderFrame.style[this.transformProperty]="translate3d("+n+"px, 0, 0)"}},{key:"updateAfterDrag",value:function(){var e=(this.config.rtl?-1:1)*(this.drag.endX-this.drag.startX),t=Math.abs(e),r=this.config.multipleDrag?Math.ceil(t/(this.selectorWidth/this.perPage)):1,n=e>0&&this.currentSlide-r<0,i=e<0&&this.currentSlide+r>this.innerElements.length-this.perPage;e>0&&t>this.config.threshold&&this.innerElements.length>this.perPage?this.prev(r):e<0&&t>this.config.threshold&&this.innerElements.length>this.perPage&&this.next(r),this.slideToCurrent(n||i)}},{key:"resizeHandler",value:function(){this.resolveSlidesNumber(),this.currentSlide+this.perPage>this.innerElements.length&&(this.currentSlide=this.innerElements.length<=this.perPage?0:this.innerElements.length-this.perPage),this.selectorWidth=this.selector.offsetWidth,this.buildSliderFrame()}},{key:"clearDrag",value:function(){this.drag={startX:0,endX:0,startY:0,letItGo:null,preventClick:this.drag.preventClick}}},{key:"touchstartHandler",value:function(e){-1!==["TEXTAREA","OPTION","INPUT","SELECT"].indexOf(e.target.nodeName)||(e.stopPropagation(),this.pointerDown=!0,this.drag.startX=e.touches[0].pageX,this.drag.startY=e.touches[0].pageY)}},{key:"touchendHandler",value:function(e){e.stopPropagation(),this.pointerDown=!1,this.enableTransition(),this.drag.endX&&this.updateAfterDrag(),this.clearDrag()}},{key:"touchmoveHandler",value:function(e){if(e.stopPropagation(),null===this.drag.letItGo&&(this.drag.letItGo=Math.abs(this.drag.startY-e.touches[0].pageY)<Math.abs(this.drag.startX-e.touches[0].pageX)),this.pointerDown&&this.drag.letItGo){e.preventDefault(),this.drag.endX=e.touches[0].pageX,this.sliderFrame.style.webkitTransition="all 0ms "+this.config.easing,this.sliderFrame.style.transition="all 0ms "+this.config.easing;var t=(this.config.loop?this.currentSlide+this.perPage:this.currentSlide)*(this.selectorWidth/this.perPage),r=this.drag.endX-this.drag.startX,n=this.config.rtl?t+r:t-r;this.sliderFrame.style[this.transformProperty]="translate3d("+(this.config.rtl?1:-1)*n+"px, 0, 0)"}}},{key:"mousedownHandler",value:function(e){-1!==["TEXTAREA","OPTION","INPUT","SELECT"].indexOf(e.target.nodeName)||(e.preventDefault(),e.stopPropagation(),this.pointerDown=!0,this.drag.startX=e.pageX)}},{key:"mouseupHandler",value:function(e){e.stopPropagation(),this.pointerDown=!1,this.selector.style.cursor="-webkit-grab",this.enableTransition(),this.drag.endX&&this.updateAfterDrag(),this.clearDrag()}},{key:"mousemoveHandler",value:function(e){if(e.preventDefault(),this.pointerDown){"A"===e.target.nodeName&&(this.drag.preventClick=!0),this.drag.endX=e.pageX,this.selector.style.cursor="-webkit-grabbing",this.sliderFrame.style.webkitTransition="all 0ms "+this.config.easing,this.sliderFrame.style.transition="all 0ms "+this.config.easing;var t=(this.config.loop?this.currentSlide+this.perPage:this.currentSlide)*(this.selectorWidth/this.perPage),r=this.drag.endX-this.drag.startX,n=this.config.rtl?t+r:t-r;this.sliderFrame.style[this.transformProperty]="translate3d("+(this.config.rtl?1:-1)*n+"px, 0, 0)"}}},{key:"mouseleaveHandler",value:function(e){this.pointerDown&&(this.pointerDown=!1,this.selector.style.cursor="-webkit-grab",this.drag.endX=e.pageX,this.drag.preventClick=!1,this.enableTransition(),this.updateAfterDrag(),this.clearDrag())}},{key:"clickHandler",value:function(e){this.drag.preventClick&&e.preventDefault(),this.drag.preventClick=!1}},{key:"remove",value:function(e,t){if(e<0||e>=this.innerElements.length)throw Error("Item to remove doesn't exist 😭");var r=e<this.currentSlide,n=this.currentSlide+this.perPage-1===e;(r||n)&&this.currentSlide--,this.innerElements.splice(e,1),this.buildSliderFrame(),t&&t.call(this)}},{key:"insert",value:function(e,t,r){if(t<0||t>this.innerElements.length+1)throw Error("Unable to inset it at this index 😭");if(-1!==this.innerElements.indexOf(e))throw Error("The same item in a carousel? Really? Nope 😭");var n=t<=this.currentSlide>0&&this.innerElements.length;this.currentSlide=n?this.currentSlide+1:this.currentSlide,this.innerElements.splice(t,0,e),this.buildSliderFrame(),r&&r.call(this)}},{key:"prepend",value:function(e,t){this.insert(e,0),t&&t.call(this)}},{key:"append",value:function(e,t){this.insert(e,this.innerElements.length+1),t&&t.call(this)}},{key:"destroy",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments[1];if(this.detachEvents(),this.selector.style.cursor="auto",e){for(var r=document.createDocumentFragment(),n=0;n<this.innerElements.length;n++)r.appendChild(this.innerElements[n]);this.selector.innerHTML="",this.selector.appendChild(r),this.selector.removeAttribute("style")}t&&t.call(this)}}],[{key:"mergeSettings",value:function(e){var t={selector:".siema",duration:200,easing:"ease-out",perPage:1,startIndex:0,draggable:!0,multipleDrag:!0,threshold:20,loop:!1,rtl:!1,onInit:function(){},onChange:function(){}},r=e;for(var n in r)t[n]=r[n];return t}},{key:"webkitOrNot",value:function(){return"string"==typeof document.documentElement.style.transform?"transform":"WebkitTransform"}}]),e}();t.default=s,e.exports=t.default}]);var Qr=Vr(Jr.exports);var Zr='a[target^="stack:"]:not(.not\\:active)';function en(e){e&&r(e.focus)&&e.focus()}function tn(e){if(!e.defaultPrevented){var t,r,n,i,o,s=this,a=e.key,c=e.altKey,l=e.ctrlKey;if(!c&&!l)if("ArrowDown"===a||"ArrowRight"===a||"PageDown"===a){if(n=X(X(s)))for(r=R(n);r&&Y(r,"not:active");)r=R(r);(t=r&&$(r))&&("ArrowRight"===a&&Y(X(t),"can:toggle")||we("click",$(t)),en($(t))),o=!0}else if("ArrowUp"===a||"ArrowLeft"===a||"PageUp"===a){if(n=X(X(s)))for(i=I(n);i&&Y(i,"not:active");)i=I(i);(t=i&&$(i))&&("ArrowLeft"===a&&Y(X(t),"can:toggle")||we("click",$(t)),en($(t))),o=!0}else" "===a||"Enter"===a?(Y(X(X(s)),"can:toggle")&&(we("click",s),en(s)),o=!0):"End"===a?((n=X(s,".lot\\:stacks[tabindex]"))&&(t=[].slice.call(q(Zr,n)).pop())&&(we("click",t),en(t)),o=!0):"Home"===a&&((n=X(s,".lot\\:stacks[tabindex]"))&&(t=D(Zr,n))&&(we("click",t),en(t)),o=!0);o&&(xe(e),Se(e))}}function rn(e){if(!e.defaultPrevented){var t,r,n,i,o=this,s=e.key,a=e.altKey,c=e.ctrlKey,l=e.shiftKey;if(a&&c&&!l)t=(t=D(Zr+".is\\:current",o))&&X(X(t)),"PageDown"===s?((t=(r=t&&R(t))&&D(Zr,r))&&(we("click",t),en(t)),i=!0):"PageUp"===s&&((t=(n=t&&I(t))&&D(Zr,n))&&(we("click",t),en(t)),i=!0);else if(!a&&!c&&!l){if(o!==e.target)return;"ArrowDown"===s||"ArrowRight"===s||"Home"===s||"PageDown"===s?((t=D(Zr,o))&&(we("click",t),en(t)),i=!0):"ArrowUp"!==s&&"ArrowLeft"!==s&&"End"!==s&&"PageUp"!==s||((t=[].slice.call(q(Zr,o)).pop())&&(we("click",t),en(t)),i=!0)}i&&(xe(e),Se(e))}}var nn='a[target^="tab:"]:not(.not\\:active)';function on(e){e&&r(e.focus)&&e.focus()}function sn(e){if(!e.defaultPrevented){var t,r,n,i,o,s=this,a=e.key,c=e.altKey,l=e.ctrlKey;if(!c&&!l)if("ArrowDown"===a){if(Y(s,"can:toggle")&&!Y(s,"is:current"))t=s;else{if(n=X(s))for(r=R(n);r&&Y(r,"not:active");)r=R(r);t=r&&$(r)}t&&(we("click",t),on(t)),o=!0}else if("ArrowLeft"===a||"PageUp"===a){if(n=X(s))for(i=I(n);i&&Y(i,"not:active");)i=I(i);(t=i&&$(i))&&(we("click",t),on(t)),o=!0}else if("ArrowRight"===a||"PageDown"===a){if(n=X(s))for(r=R(n);r&&Y(r,"not:active");)r=R(r);(t=r&&$(r))&&(we("click",t),on(t)),o=!0}else if("ArrowUp"===a){if(Y(s,"can:toggle")&&Y(s,"is:current"))t=s;else{if(n=X(s))for(i=I(n);i&&Y(i,"not:active");)i=I(i);t=i&&$(i)}t&&(we("click",t),on(t)),o=!0}else" "===a||"Enter"===a?(Y(s,"can:toggle")&&(we("click",s),on(s)),o=!0):"End"===a?((n=X(s,".lot\\:tabs[tabindex]"))&&(t=[].slice.call(q(nn,n)).pop())&&(we("click",t),on(t)),o=!0):"Home"===a&&((n=X(s,".lot\\:tabs[tabindex]"))&&(t=D(nn,n))&&(we("click",t),on(t)),o=!0);o&&(xe(e),Se(e))}}function an(e){if(!e.defaultPrevented){var t,r,n,i,o=this,s=e.key,a=e.altKey,c=e.ctrlKey,l=e.shiftKey;if(a&&c&&!l)t=(t=D(nn+".is\\:current",o))&&X(t),"PageDown"===s?((t=(r=t&&R(t))&&$(r))&&(we("click",t),on(t)),i=!0):"PageUp"===s&&((t=(n=t&&I(t))&&$(n))&&(we("click",t),on(t)),i=!0);else if(!a&&!c&&!l){if(o!==e.target)return;"ArrowDown"===s||"ArrowRight"===s||"PageDown"===s||"ArrowUp"===s||"ArrowLeft"===s||"PageUp"===s?((t=D(nn+".is\\:current",o))&&(we("click",t),on(t)),i=!0):"Home"===s?((t=D(nn,o))&&(we("click",t),on(t)),i=!0):"End"===s&&((t=[].slice.call(q(nn,o)).pop())&&(we("click",t),on(t)),i=!0)}i&&(xe(e),Se(e))}}var cn=':scope>:where(a,button,input,select,textarea,[tabindex]):not(:disabled):not([tabindex="-1"]):not(.not\\:active)';function ln(e){e&&r(e.focus)&&e.focus()}function un(e){e&&r(e.select)&&e.select()}function fn(e){if(!e.defaultPrevented){var t,r,n,i,o,s=this,a=e.key,c=e.altKey,l=e.ctrlKey,u=e.shiftKey;if(!c&&!l&&!u){for(n=R(s);n&&Y(n,"not:active");)n=R(n);for(i=I(s);i&&Y(i,"not:active");)i=I(i);"ArrowLeft"===a?(o=!("selectionStart"in s&&0!==s.selectionStart))&&(ln(i),un(i)):"ArrowRight"===a?(o=!("selectionEnd"in s&&s.selectionEnd<d(s.value||"")))&&(ln(n),un(n)):"End"===a?(o=!("selectionEnd"in s&&d(s.value||"")))&&(r=X(s,".lot\\:tasks[tabindex]"))&&(t=[].slice.call(q(cn,r)).pop())&&(ln(t),un(t)):"Home"===a&&(o=!("selectionStart"in s&&d(s.value||"")))&&(r=X(s,".lot\\:tasks[tabindex]"))&&(t=D(cn,r))&&(ln(t),un(t))}o&&(xe(e),Se(e))}}function hn(e){if(!e.defaultPrevented){var t,r,n=this,i=e.key,o=e.altKey,s=e.ctrlKey,a=e.shiftKey;n===e.target&&(o||s||a||("ArrowLeft"===i||"End"===i?((t=[].slice.call(q(cn,n)).pop())&&(ln(t),un(t)),r=!0):"ArrowRight"!==i&&"Home"!==i||((t=D(cn,n))&&(ln(t),un(t)),r=!0)),r&&(xe(e),Se(e)))}}function dn(e){void 0===e&&(e={});var n=this;return n.command=function(e){if(a(e))return e===n.toString();var t=n.keys[n.toString()];return!!s(t)&&t},n.commands={},n.fire=function(e){var i,o,c=n.source;if(r(e))i=e.call(c),o=!0;else if(a(e)&&(e=n.commands[e]))i=e.call(c),o=!0;else if(t(e)){var l=e[1]||[];(e=n.commands[e[0]])&&(i=e.apply(c,l),o=!0)}return o?!s(i)||i:null},n.key=null,n.keys={},n.pull=function(e){return n.key=null,s(e)?(delete n.queue[e],n):(n.queue={},n)},n.push=function(e){return n.queue[n.key=e]=1,n},n.queue={},n.source=e,n.toString=function(){return y(n.queue).join("-")},n}var pn=tt((function(e){return e.pull()}),1e3),vn=new dn(P);vn.keys.Escape=function(){var e=S.activeElement,t=e&&X(X(e),"[tabindex]:not(.not\\:active)");return t&&t.focus(),!t},vn.keys.F3=function(){var e,t=(e="get",S.forms[e]||null),r=t&&t.query;return r&&r.focus(),!1},vn.keys.F10=function(){var e,t=D(".lot\\:bar a:any-link");return t&&(t.focus(),(e=X(t))&&Y(e,"has:menu")&&t.click()),!1},Ae("blur",P,(function(e){return vn.pull()})),Ae("keydown",P,(function(e){vn.push(e.key);var t=vn.command();if(t){var r=vn.fire(t);!1===r?xe(e):null===r&&console.error("Unknown command:",t)}pn(vn)})),Ae("keyup",P,(function(e){return vn.pull(e.key)}));var gn={commands:vn.commands,keys:vn.keys},mn=ct(gn),yn=mn.fire;mn.hooks,mn.off,mn.on,P.K=dn,P._=gn,Ae("beforeload",S,(function(){return yn("let")})),Ae("load",S,(function(){return yn("get")})),Ae("DOMContentLoaded",S,(function(){return yn("set")})),function e(t){var r=q(".lot\\:bar[tabindex]");r&&d(r)&&r.forEach((function(e){q(Le,e).forEach((function(e){Ae("keydown",e,_e)})),Ae("keydown",e,He)})),1===t&&P._.on("change",e)}(1),1===1&&(P._.dialog=Re),Pt(1),Ft(1),Pr(1),function e(t){var r=q(":where(.lot\\:files,.lot\\:folders)[tabindex]");r&&d(r)&&r.forEach((function(e){q(Ar,e).forEach((function(e){Ae("keydown",e,Lr)})),Ae("keydown",e,$r)})),1===t&&P._.on("change",e)}(1),function e(t){var r=q(".lot\\:links[tabindex]");r&&d(r)&&r.forEach((function(e){var t=q(Hr,e);t&&d(t)&&t.forEach((function(e){Ae("keydown",e,Cr)})),Ae("keydown",e,Kr)})),1===t&&P._.on("change",e)}(1),function e(t){Ee("click",S,Or);var r=q(".has\\:menu"),n=q(".lot\\:menu[tabindex]>ul>li>"+Dr);r&&d(r)&&(r.forEach((function(e){var t=D(".lot\\:menu[tabindex]",e),r=I(t);t&&r&&(Ae("click",r,Rr),Ae("keydown",r,jr))})),Ae("click",S,Or)),n&&d(n)&&n.forEach((function(e){Ae("keydown",e,Xr)}));var i=q(".lot\\:menu[tabindex]");i&&d(i)&&i.forEach((function(e){Ae("keydown",e,Fr)})),1===t&&P._.on("change",e)}(1),function e(t){var r=q(".lot\\:menus[tabindex]");r&&d(r)&&r.forEach((function(e){var t=q(Ir,e);t&&d(t)&&t.forEach((function(e){Ae("keydown",e,Ur)})),Ae("keydown",e,Nr)})),1===t&&P._.on("change",e)}(1),function e(t){var r=q(".lot\\:pages[tabindex]");r&&d(r)&&r.forEach((function(e){q(zr,e).forEach((function(e){Ae("keydown",e,Br)})),Ae("keydown",e,Gr)})),1===t&&P._.on("change",e)}(1),function(e){var t=q(".siema");t&&d(t)&&t.forEach((function(e){var t=new Qr({duration:600,loop:!0,selector:e}),r=P.setInterval((function(){return t.next()}),5e3);Ae("mousedown",e,(function(){return P.clearInterval(r)})),Ae("touchstart",e,(function(){return P.clearInterval(r)}))})),1===e&&(_.on("change.stack",(function(){return we("resize",P)})),_.on("change.tab",(function(){return we("resize",P)})))}(1),function e(t){var r=q(".lot\\:stacks[tabindex]");r&&d(r)&&r.forEach((function(e){var t,r,n=[].slice.call(H(e)),i=fe("input");function o(e){var o,s=this,a=X(X(s)),c=X(a,".lot\\:stacks");Y(a,"has:link")||(n.forEach((function(e){e!==a&&(Z(o=D('a[target^="stack:"]',e),"is:current"),Z(e,"is:current"),oe(o,"aria-expanded","false"))})),Y(a,"can:toggle")?(oe(s,"aria-expanded",L(s,"aria-expanded")?"false":"true"),ye(a,"is:current"),ye(s,"is:current")):(oe(s,"aria-expanded","true"),ae(a,"is:current"),ae(s,"is:current")),o=Y(s,"is:current"),i.value=r=o?K(a,"value"):null,ye(c,"has:current",o),P._.fire.call(a,"change.stack",[r,t]),xe(e))}i.type="hidden",i.name=t=K(e,"name"),t&&se(e,i),n.forEach((function(e){var t=D(Zr,e);Ae("click",t,o),Ae("keydown",t,tn)}));var s=n.find((function(e,t){return 0!==t&&Y(e,"is:current")}));s&&(i.value=K(s,"value")),Ae("keydown",e,rn)})),1===t&&P._.on("change",e)}(1),function e(t){var r=q(".lot\\:tabs[tabindex]");r&&d(r)&&r.forEach((function(e){var t,r,n=[].slice.call(H(e)),i=[].slice.call(q(nn,n.shift())),o=fe("input");function s(e){var s,a=this,c=n[a._tabIndex],l=X(a),u=X(l,".lot\\:tabs");Y(l,"has:link")||(i.forEach((function(e){if(e!==a){Z(X(e),"is:current"),Z(e,"is:current"),oe(e,"aria-selected","false"),oe(e,"tabindex","-1");var t=n[e._tabIndex];t&&Z(t,"is:current")}})),Y(l,"can:toggle")?(ye(l,"is:current"),ye(a,"is:current"),oe(a,"aria-selected",Y(a,"is:current")?"true":"false"),oe(a,"tabindex",Y(a,"is:current")?"0":"-1")):(ae(l,"is:current"),ae(a,"is:current"),oe(a,"aria-selected","true"),oe(a,"tabindex","0")),s=Y(a,"is:current"),c&&(o.value=r=s?K(a,"value"):null,ye(c,"is:current",s),ye(u,"has:current",s),P._.fire.call(c,"change.tab",[r,t])),xe(e))}o.type="hidden",o.name=t=K(e,"name"),t&&se(e,o),i.forEach((function(e,t){e._tabIndex=t,Ae("click",e,s),Ae("keydown",e,sn)}));var a=i.find((function(e,t){return 0!==t&&Y(X(e),"is:current")}));a&&(o.value=K(a,"value")),Ae("keydown",e,an)})),1===t&&P._.on("change",e)}(1),function e(t){var r=q(".lot\\:tasks[tabindex]");r&&d(r)&&r.forEach((function(e){var t=q(cn,e);t&&d(t)&&t.forEach((function(e){Ae("keydown",e,fn)})),Ae("keydown",e,hn)})),1===t&&P._.on("change",e)}(1)}();