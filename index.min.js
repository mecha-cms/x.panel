!function(){"use strict";function t(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function e(e,n,r){if(n&&!Array.isArray(n)&&"number"==typeof n.length){var i=n.length;return t(n,void 0!==r&&r<i?r:i)}return e(n,r)}function n(e,n){return function(t){if(Array.isArray(t))return t}(e)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,a,o,s=[],u=!0,l=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(t){l=!0,i=t}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}(e,n)||function(e,n){if(e){if("string"==typeof e)return t(e,n);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var r=function(t){return Array.isArray(t)},i=function(t){return u(t)&&0!=t%1},a=function(t){return"function"==typeof t},o=function(t,e,n){return!(!t||"object"!=typeof t)&&(n?c(e)&&c(t.constructor)&&e===t.constructor:c(e)&&t instanceof e)},s=function(t){return u(t)&&0==t%1},u=function(t){return"number"==typeof t&&!Number.isNaN(t)},l=function(t,e){return void 0===e&&(e=!0),!(!t||"object"!=typeof t)&&(!e||o(t,Object,1))},c=function(t){return function(t){return void 0!==t}(t)&&!function(t){return null===t}(t)},f=function(t){return"string"==typeof t},h={},d=function(t,e,n,r){e.dispatchEvent(function(t,e){return h[t]=new Event(t,e)}(t,n))},v=function(t,e,n){e.removeEventListener(t,n)},p=function(t){return t&&t.preventDefault()},m=function(t){return t&&t.stopPropagation()},g=function(t,e,n,r){void 0===r&&(r=!1),e.addEventListener(t,n,r)},y=function(t,e){return-1!==e.indexOf(t)};var k=function(t,e,n){void 0===e&&(e=!0),void 0===n&&(n=!0);var r={},i=t&&"?"===t[0]?t.slice(1):t;return""===i||i.split("&").forEach(function(t){var i=t.split("="),a=w(i[0]),o=c(i[1])?w(i[1]):n;o=e?F(o):o,"]"===a.slice(-1)?function(t,e,n){var r,i,a=e.split("["),o=P(a);for(r=0;r<o-1;++r)t=t[i=""===(i="]"===a[r].slice(-1)?a[r].slice(0,-1):a[r])?C(i):i]||(t[i]={});t[""===(i="]"===a[r].slice(-1)?a[r].slice(0,-1):a[r])?C(t):i]=n}(r,a,o):r[a]=o}),r},b=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var i=e.shift(),a=0,o=P(e);a<o;++a)for(var s in e[a])if(c(i[s]))if(r(i[s])&&r(e[a][s])){i[s]=[].concat(i[s]);for(var u=0,f=P(e[a][s]);u<f;++u)y(e[a][s][u],i[s])||i[s].push(e[a][s][u])}else l(i[s])&&l(e[a][s])?i[s]=b({},i[s],e[a][s]):i[s]=e[a][s];else i[s]=e[a][s];return i},w=function(t){return decodeURIComponent(t)},x=function(t){if(r(t))return t.map(function(e){return x(t)});if(l(t)){for(var e in t)t[e]=x(t[e]);return t}return!1===t?"false":null===t?"null":!0===t?"true":""+t},E=function(t){return t.replace(/[-_.](\w)/g,function(t,e){return A(e)})},S=function(t){return t.toLowerCase()},A=function(t){return t.toUpperCase()},P=function(t){return t.length},T=function(t,e){return c(e[0])&&t<e[0]?e[0]:c(e[1])&&t>e[1]?e[1]:t},L=function(t){return t.size},C=function(t){return P($(t))},$=function(t){return Object.keys(t)};function K(t,e){var n,r,i,a={},o=e?"%5D":"";for(n in t)r=O(n),i=t[n],l(i)?a=b({},a,K(i,e+r+o+"%5B")):a[e+r+o]=i;return a}var D=function(t){var e,n,r=[],i=K(t,"");for(e in i)n=!0!==(n=i[e])?"="+O(x(n)):"",r.push(e+n);return P(r)?"?"+r.join("&"):null},H=function(t){return t.size},O=function(t){return encodeURIComponent(t)},F=function(t){if(r(t))return t.map(function(t){return F(t)});if(l(t)){for(var e in t)t[e]=F(t[e]);return t}return f(t)&&function(t){return/^[+-]?(?:\d*\.)?\d+$/.test(t+"")}(t)?"0"===t[0]&&-1===t.indexOf(".")?t:function(t,e){return void 0===e&&(e=10),e?parseInt(t,e):parseFloat(t)}(t):"false"!==t&&("null"===t?null:"true"===t||t)};function j(t){t&&a(t.focus)&&t.focus()}function M(t){t&&a(t.select)&&t.select()}function R(t,e,n){return v(t,e,n),g(t,e,n)}function z(t){if(r(t)){for(var e=[],n=0,i=P(t);n<i;++n)if(null!==t[n]){if(r(t[n])){if(null===(t[n]=z(t[n]))||0===t[n].length)continue}else if(l(t[n])&&(null===(t[n]=z(t[n]))||0===C(t[n])))continue;e.push(t[n])}return 0!==P(e)&&e}for(var a in t)null!==t[a]?(r(t[a])||l(t[a]))&&(null!==(t[a]=z(t[a]))&&0!==C(t[a])||delete t[a]):delete t[a];return 0!==C(t)&&t}function N(t){return t[Symbol.iterator]()}var U=function(t,e){for(var n,r=0,i=P(t);r<i;++r)if(-1!==(n=e.call(t,t[r],r))){if(0===n)break}else t.splice(r,1);return t},X=function(t,r){for(var i=N(t),a=i.next();!a.done;){var o=e(n,a.value,2),s=o[0],u=o[1];if(-1===(u=r.call(t,u,s)))J(s,t);else if(0===u)break;a=i.next()}return t},I=function(t,e){var n;for(var r in t)if(-1!==(n=e.call(t,t[r],r))){if(0===n)break}else delete t[r];return t},W=function(t,e){for(var n=N(t),r=n.next();!r.done;){var i,a=r.value;if(-1===(a=e.call(t,a,i=a)))J(i,t);else if(0===a)break;r=n.next()}return t},q=function(t){return t.prototype},B=function(t){return Y(t,ot)||null},Y=function(t,e){return e.get(t)},V=function(t,e){return e.has(t)},G=function(t){return J(t,ot)},J=function(t,e){return e.delete(t)},Q=function(t,e){return a(t.getAnimations)?Promise.all(t.getAnimations().map(function(t){return t.finished})).then(e):e(),t},Z=function(t,e,n){return n||(t=q(t)),I(e,function(e,n){Object.defineProperty(t,n,e)}),t},tt=function(t,e,n){return t=q(t),I(e,function(e,n){t[n]=e}),t},et=function(t,e){return nt(t,e,ot)},nt=function(t,e,n){return n.set(t,e)},rt=function(t){return at(t).shift()},it=function(t){return at(t).pop()},at=function(t){var e=[];return X(t,function(t){e.push(t)}),e},ot=new WeakMap;function st(t){return Array.from(t)}var ut=document,lt=window,ct=ut.body,ft=ut.documentElement,ht=function(t,e,n){return void 0===n&&(n=!0),dt(t,"aria-"+e,n)},dt=function(t,e,n){if(void 0===n&&(n=!0),!Ot(t,e))return null;var r=t.getAttribute(e);return n?F(r):r},vt=function(t,e){return t["first"+(e?"":"Element")+"Child"]||null},pt=function(t,e){return t["last"+(e?"":"Element")+"Child"]||null},mt=function(t,e,n){var r=st(t["child"+(n?"Nodes":"ren")]);return u(e)?r[e]||null:r},gt=function(t,e){void 0===e&&(e=!0);var n=($t(t,"className")||"").trim();return e?n.split(/\s+/).filter(function(t){return""!==t}):n},yt=function(t,e,n){void 0===n&&(n=!0);var r=dt(t,"data-"+e,n),i=(r+"").trim();return n&&i&&("["===i[0]&&"]"===i.slice(-1)||"{"===i[0]&&"}"===i.slice(-1))&&null!==(i=function(t){var e=null;try{e=JSON.parse(t)}catch(t){}return e}(r))?i:r},kt=function(t,e){return(e||ut).querySelector(t)},_t=function(t,e){if(!t||!At(t))return-1;for(var n=0;t=Tt(t,e);)++n;return n},bt=function(t,e){return st((e||ut).querySelectorAll(t))},wt=function(t,e){void 0===e&&(e=!0);var n="innerHTML";if(!Mt(t,n))return!1;var r=t[n];return""!==(r=e?r.trim():r)?r:null},xt=function(t,e){return void 0===e&&(e="e:"),jt(t)?dt(t,"id"):(c(ve[e])||(ve[e]=0),e+function(t,e){return u(t)?t.toString(e):""+t}(Date.now()+(ve[e]+=1),16))},Et=function(t){return S(t&&t.nodeName||"")||null},St=function(t,e){return t["next"+(e?"":"Element")+"Sibling"]||null},At=function(t,e){return e?t.closest(e)||null:t.parentNode||null},Pt=function(t){var e="form";return Mt(t,e)&&e===Et(t[e])?t[e]:At(t,e)},Tt=function(t,e){return t["previous"+(e?"":"Element")+"Sibling"]||null},Lt=function(t){return dt(t,"role")},Ct=function(t,e,n){var r=lt.getComputedStyle(t).getPropertyValue(e);return r||""===r||0===r?r:null},$t=function(t,e){return Mt(t,e)&&t[e]||null},Kt=function(t,e){void 0===e&&(e=!0);var n="textContent";if(!Mt(t,n))return!1;var r=t[n];return""!==(r=e?r.trim():r)?r:null},Dt=function(t){return t&&t.nodeType||null},Ht=function(t,e){var n=(t.value||"").replace(/\r?\n|\r/g,"\n");return""!==(n=e?F(n):n)?n:null},Ot=function(t,e){return t.hasAttribute(e)},Ft=function(t,e){return t.classList.contains(e)},jt=function(t){return Ot(t,"id")},Mt=function(t,e){return e in t},Rt=function(t){return t.disabled},zt=function(t){return t.readOnly},Nt=function(t){return t.required},Ut=function(t,e){return Xt(t,"aria-"+e)},Xt=function(t,e){return t.removeAttribute(e),t},It=function(t,e){return t.classList.remove(e),t},Wt=function(t,e){return r(e)?(U(e,function(e){return It(t,e)}),t):l(e)?(I(function(e){return function(e,n){return e&&It(t,n)}}),t):(t.className="",t)},qt=function(t,e){return Xt(t,"data-"+e)},Bt=function(t){var e=At(t);return t.remove(),e},Yt=function(t,e){return t.style[E(e)]=null,t},Vt=function(t,e,n){return Gt(t,"aria-"+e,!0===n?"true":n)},Gt=function(t,e,n){return!0===n&&(n=e),t.setAttribute(e,x(n)),t},Jt=function(t,e){return I(e,function(e,n){return"aria"===n&&l(e)?(function(t,e){I(e,function(e,n){e||""===e||0===e?Vt(t,n,e):Ut(t,n)})}(t,e),1):"class"===n?(te(t,e),1):"data"===n&&l(e)?(ee(t,e),1):"style"===n&&l(e)?(le(t,e),1):void(e||""===e||0===e?Gt(t,n,e):Xt(t,n))}),t},Qt=function(t,e){return t.append(e),e},Zt=function(t,e){return t.classList.add(e),t},te=function(t,e){return r(e)?(U(e,function(e){return Zt(t,e)}),t):l(e)?(I(e,function(e,n){return e?Zt(t,n):It(t,n)}),t):(t.className=e,t)},ee=function(t,e){return I(e,function(e,n){e||""===e||0===e?ne(t,n,e):qt(t,n)}),t},ne=function(t,e,n){return(r(n)||l(n))&&(n=function(t){return JSON.stringify(t)}(n)),Gt(t,"data-"+e,!0===n?"true":n)},re=function(t,e,n,i){return t=f(t)?ut.createElement(t,f(i)?{is:i}:i):t,r(e)&&P(e)?(!function(t){var e="innerHTML";Mt(t,e)&&(t[e]="")}(t),U(e,function(t){return Qt(f(t)?ie(t):t)})):l(e)&&(n=e,e=!1),f(e)&&ae(t,e),l(n)?(Jt(t,n),t):t},ie=function(t){return f(t)&&(t=ut.createTextNode(t)),t},ae=function(t,e,n){if(void 0===n&&(n=!0),null===e)return t;var r="innerHTML";return Mt(t,r)&&(t[r]=n?e.trim():e),t},oe=function(t,e,n){return void 0===n&&(n="e:"),Gt(t,"id",c(e)?e:xt(t,n))},se=function(t,e){return t.after(e),e},ue=function(t,e,n){return u(n)&&(n+="px"),t.style[E(e)]=x(n),t},le=function(t,e){return I(e,function(e,n){e||""===e||0===e?ue(t,n,e):Yt(t,n)}),t},ce=function(t,e,n){if(void 0===n&&(n=!0),null===e)return t;var r="textContent";return Mt(t,r)&&(t[r]=n?e.trim():e),t},fe=function(t,e){return null===e?Xt(t,"value"):(t.value=x(e),t)},he=function(t,e,n){return t.classList.toggle(e,n),t},de=lt.history,ve={},pe=lt.location,me=':scope>:where([tabindex]):not([tabindex="-1"]):not(.not\\:active)';function ge(t){var e,n=this,r=t.key,i=t.altKey,a=t.ctrlKey,o=t.shiftKey;if(n===t.target){if(!i&&!a&&!o)"ArrowLeft"===r||"End"===r?(j([].slice.call(bt(me,n)).pop()),e=!0):"ArrowRight"!==r&&"Home"!==r||(j(kt(me,n)),e=!0);e&&(p(t),m(t))}}function ye(t){var e,n,r,i=this,a=t.key;if(i===t.target){for(e=St(i);e&&Ft(e,"not:active");)e=St(e);for(n=Tt(i);n&&Ft(n,"not:active");)n=Tt(n);"ArrowLeft"===a?(j(n),r=!0):"ArrowRight"===a?(j(e),r=!0):"End"===a?(j([].slice.call(bt(me,At(i))).pop()),r=!0):"Home"===a&&(j(kt(me,At(i))),r=!0),r&&(p(t),m(t))}}var ke=re("dialog"),_e=re("form","",{method:"dialog"}),be=re("div");function we(t){var e=this;v("cancel",e,we),v("close",e,xe),v("submit",e,Ee),e.x(F(e.returnValue)),a(e.c)&&e.c.call(e,e.open)}function xe(t){var e=this;v("cancel",e,we),v("close",e,xe),v("submit",e,Ee),e.v(F(e.returnValue)),a(e.c)&&e.c.call(e,e.open)}function Ee(t){xe.call(this,t)}function Se(t,e){var n;for(ae(_e,""),f(t)?(ae(be,t.trim()),t=be.childNodes):function(t){return o(t,Node)}(t)&&(t=[t]),t=Array.from(t);n=t.shift();)Qt(_e,n);ke.showModal(),ke.returnValue=null,a(e)&&e.call(ke,ke.open);var r=kt("[autofocus]",_e);return r&&(j(r),M(r)),new Promise(function(t,n){ke.c=e,ke.v=t,ke.x=n,R("cancel",ke,we),R("close",ke,xe),R("submit",ke,Ee)})}function Ae(){var t=this,e=At(t.form);e.returnValue=t.value,d("reset"===t.type?"cancel":"close",e),e.open&&e.close()}function Pe(t){var e,n,r=t.key;"ArrowLeft"===r||"ArrowUp"===r?((n=Tt(this))&&j(n),p(t)):"ArrowDown"!==r&&"ArrowRight"!==r||((e=St(this))&&j(e),p(t))}Qt(ct,ke),Qt(ke,_e);var Te=re("p"),Le=re("p","",{role:"group"}),Ce=re("button","OK",{class:"button",type:"submit",value:"true"});R("keydown",Ce,Pe),R("click",Ce,Ae),Qt(Le,Ce),Se.alert=function(t){return ae(Te,t),Se([Te,Le])};var $e=re("p"),Ke=re("p","",{role:"group"}),De=re("button","OK",{class:"button",type:"submit",value:"true"}),He=re("button","Cancel",{autofocus:!0,class:"button",type:"reset",value:"false"});R("click",He,Ae),R("click",De,Ae),R("keydown",He,Pe),R("keydown",De,Pe),Qt(Ke,De),Qt(Ke,He),Se.confirm=function(t){return ae($e,t),Se([$e,Ke])};var Oe=re("p"),Fe=re("input",!1,{autofocus:!0,class:"input",type:"text"}),je=re("p"),Me=re("p","",{role:"group"}),Re=re("button","OK",{class:"button",type:"submit",value:""}),ze=re("button","Cancel",{class:"button",type:"reset",value:"false"});function Ne(){Re.value=this.value}R("click",ze,Ae),R("click",Re,Ae),R("input",Fe,Ne),R("keydown",ze,Pe),R("keydown",Re,Pe),R("keyup",Fe,Ne),Qt(Me,Re),Qt(Me,ze),Qt(je,Fe),Se.prompt=function(t,e){return ae(Oe,t),Fe.value=Re.value=e,Se([Oe,je,Me])};var Ue=Date.now,Xe=new WeakMap,Ie=new WeakMap,We=function(){return ut.getSelection()},qe=function(){return ut.createRange()},Be=function(t,e){return(e||We()).rangeCount>0},Ye=function(t,e,n,i){var a,o,s,u,l,c;if(i=i||We(),!Be(t,i))return!1;if((o=i.getRangeAt(0)).deleteContents(),s=ut.createDocumentFragment(),f(e))for(a=re("div"),ae(a,e);u=vt(a,1);)c=Qt(s,u);else r(e)?U(e,function(t){return c=Qt(s,t)}):c=Qt(s,e);return l=vt(s,1),o.insertNode(s),c&&((o=o.cloneRange()).setStartAfter(c),o.setStartBefore(l),o.collapse(),nn(t,o,en(t,i))),i},Ve=function(t,e){return(e=e||We()).empty(),e},Ge=function(t,e){var n,r,i,a=null!=(n=Y(t,Xe))?n:[],o=null!=(r=Y(t,Ie))?r:P(a)-1;return(i=a[o+1])?(o++,nt(t,o,Ie),ae(t,i[0]),Qe(t,i[1],e)):Qe(t,a[o][1],e)},Je=function(t,e){return J(t,Xe),J(t,Ie),Ze(t,e)},Qe=function(t,e,n){var r=0,i=qe();i.setStart(t,0),i.collapse(!0);for(var a,o,s,u=[t];!a&&(s=u.pop());)if(3===Dt(s)){var l=r+P(s);!o&&e[0]>=r&&e[0]<=l&&(i.setStart(s,e[0]-r),o=!0),o&&e[1]>=r&&e[1]<=l&&(a=!0,i.setEnd(s,e[1]-r)),r=l}else U(mt(s,null,1),function(t){return u.push(t)});return nn(t,i,Ve(0,n))},Ze=function(t,e){var n,r,i,a,o=null!=(n=Y(t,Xe))?n:[],s=null!=(r=Y(t,Ie))?r:P(o)-1,u=null!=(i=wt(t))?i:"";return a=Be(t,e)?function(t){var e=We().getRangeAt(0),n=e.cloneRange();n.selectNodeContents(t),n.setEnd(e.startContainer,e.startOffset);var r=P(n+"");return[r,r+P(e+"")]}(t):[],o[s]&&u===o[s][0]&&a[0]===o[s][1][0]&&a[1]===o[s][1][1]||(s<P(o)-1&&o.splice(s+1),o.push([u,a,Ue()]),nt(t,o,Xe),nt(t,++s,Ie)),t},tn=function(t,e,n){n=n||We(),Ve(0,n);var r=qe();r.selectNodeContents(t),n=nn(t,r,n),1===e?n.collapseToEnd():-1===e&&n.collapseToStart()},en=function(t,e){return(e=e||We()).rangeCount&&e.removeRange(e.getRangeAt(0)),e},nn=function(t,e,n){return n=n||We(),r(e)?Qe(t,e,n):(n.addRange(e),n)},rn=function(t,e){var n,r,i,a=null!=(n=Y(t,Xe))?n:[],o=null!=(r=Y(t,Ie))?r:P(a)-1;return(i=a[o-1])?(o--,nt(t,o,Ie),ae(t,i[0]),Qe(t,i[1],e)):Qe(t,a[o][1],e)};function an(t){return Array.from(t)}var on=lt.clearTimeout,sn=lt.setTimeout,un=function(t,e){var n,r=s(e)&&e>=0;return[function(){var i=this;n&&on(n);var a=an(arguments);r||(e=a.shift()),n=sn(function(){return t.apply(i,a)},e)},function(){n=on(n)}]},ln=function(t,e){var n,r=s(e)&&e>=0;return[function(){var i=this,a=an(arguments);r||(e=a.shift()),n=sn(function(){return t.apply(i,a)},e)},function(){n&&on(n)}]},cn=function(t){var e,n,r,i,a,o,s;return!function(t){return t===lt}(t)?(i=(n=t.getBoundingClientRect()).left,a=n.top,r=n.width,e=n.height,o=n.right,s=n.bottom):(i=t.pageXOffset||ft.scrollLeft||ct.scrollLeft,a=t.pageYOffset||ft.scrollTop||ct.scrollTop,r=t.innerWidth,e=t.innerHeight),[i,a,r,e,o,s]};function fn(t,e){return(e=e||t).fire=function(t,e,n){var r=this,i=r.hooks;return c(i[t])?(U(i[t],function(t){t.apply(n||r,e)}),r):r},e.off=function(t,e){var n=this,r=n.hooks;if(!c(t))return r={},n;if(c(r[t]))if(c(e)){var i=P(r[t]);if(0===i)delete r[t];else for(var a=0;a<i;++a)if(e===r[t][a]){r[t].splice(a,1);break}}else delete r[t];return n},e.on=function(t,e){var n=this.hooks;return c(n[t])||(n[t]=[]),c(e)&&n[t].push(e),this},t.hooks={},t}var hn=function(t,e){return void 0===e&&(e=""),t.replace(dn("["+e+vn.replace(/./g,"\\$&")+"]"),"\\$&")},dn=function(t,e){return function(t){return o(t,RegExp)}(t)?t:RegExp(t,c(e)?e:"g")},vn="!$^*()+=[]{}|:<>,.?/-",pn="down",mn="move",gn="blur",yn="focus",kn="input",_n="invalid",bn="key"+pn,wn="mouse",xn=wn+pn,En=wn+mn,Sn=wn+"up",An="paste",Pn="reset",Tn="resize",Ln="scroll",Cn="submit",$n="touch",Kn=$n+"end",Dn=$n+mn,Hn=$n+"start",On="wheel",Fn="Down",jn="Arrow",Mn=jn+Fn,Rn=jn+"Left",zn=jn+"Right",Nn=jn+"Up",Un="Home",Xn="Backspace",In="Delete",Wn="Enter",qn="Escape",Bn="Page",Yn=Bn+Fn,Vn=Bn+"Up",Gn="Tab",Jn="contenteditable",Qn="disabled",Zn="false",tr="group",er="invalid",nr="opt"+tr,rr="readonly",ir="required",ar="selected",or="tabindex",sr="tabIndex",ur="text",lr="true",cr="value",fr=cr+"s",hr="visibility",dr=un(function(t,e,n,r){var i,s=f(e)?e:Kt(e)||"",u=S(s),l=t._mask,c=t.mask,h=t.self,d=t.state,v=l.options,p=h.pattern,m=d.strict,g=n.count();r?X(n,function(e){if(""!==u&&(u===S(Kt(e[2]).replace(/\u200C/g,"")).slice(0,P(u))||u===S(Lr(e[2])).slice(0,P(u)))&&!ht(e[2],Qn))return di(e[2],t),0;--g}):(X(n,function(t){""===u||y(u,S(Kt(t[2]).replace(/\u200C/g,"")+"\t"+Lr(t[2])))?t[2].hidden=!1:(t[2].hidden=!0,--g)}),v.hidden=!g,pi(t),m?g&&""!==u&&(i=Dr(t))?(Ut(c,er),Vt(i,ar,!0),i.$[0][ar]=!0,fe(h,Lr(i))):(""!==u?Vt(c,er,!0):Ut(c,er),fe(h,"")):(Ut(c,er),fe(h,s),p&&(g||""===u||dn("^"+p+"$","").test(s)||Vt(c,er,!0)))),t.fire("search",[s=""!==s?s:null]);var k=d.options;0!==g&&""!==u||!a(k)||(Vt(c,"busy",!0),k=k.call(t,s),o(k,Promise)?k.then(function(e){br(t,e),Ut(c,"busy"),t.fire("load",[s,t[fr]])[Dr(t)?"enter":"exit"]().fit()}):br(t,k))})[0],vr=e(n,ln(function(t){Ut(t.mask,er)}),2),pr=vr[0],mr=vr[1],gr=e(n,ln(function(t){Ze(t)},1),1)[0],yr=e(n,ln(function(t){var e=t._mask.input;kr(t,Kt(e,0))}),1)[0],kr=function(t,e){var n=t._mask.hint;e?ue(n,hr,"hidden"):Yt(n,hr)},_r="OptionPicker";function br(t,e){var n=o(e,Map)?e:new Map;r(e)?U(e,function(t){var e,i,a;r(t)?(t[0]=null!=(e=t[0])?e:"",t[1]=null!=(i=t[1])?i:{},nt(F(null!=(a=t[1][cr])?a:t[0]),t,n)):nt(F(t),[t,{}],n)}):l(e,0)&&I(e,function(t,i){var a,o,s;r(t)?(e[i][0]=null!=(a=t[0])?a:"",e[i][1]=null!=(o=t[1])?o:{},nt(F(null!=(s=t[1][cr])?s:i),t,n)):nt(F(i),[t,{}],n)});var i=t._options,s=t.self,u=t.state;u.n;var c=[],f=Ht(s);if(i.let(null,0,0),X(n,function(t,e){var n,a;r(t)&&t[1]&&(!$t(t[1],"active")||t[1].active)&&t[1].mark&&c.push(null!=(a=t[1][cr])?a:e);i.set(F(r(t)&&t[1]&&null!=(n=t[1][cr])?n:e),t,0)}),a(u.options)||(u.options=n),0===P(c)){if(V(F(f),n))return[f];if(f=Tr(t))return[Lr(f)]}return c}function wr(t){return t.focus(),t}function xr(t,e){if(t)return wr(t),t}function Er(t,e){var n;if(n=Dr(t,e))return xr(n)}function Sr(t){return Er(t,"Last")}function Ar(t){for(var e,n=St(t);n&&(ht(n,Qn)||n.hidden);)n=St(n);for(n?tr===Lt(n)&&(n=vt(n)):((e=At(t))&&tr===Lt(e)&&(n=St(e)),n&&tr===Lt(n)&&(n=vt(n)));n&&(ht(n,Qn)||n.hidden);)n=St(n);return n}function Pr(t){for(var e,n=Tt(t);n&&(ht(n,Qn)||n.hidden);)n=Tt(n);for(n?tr===Lt(n)&&(n=pt(n)):((e=At(t))&&tr===Lt(e)&&(n=Tt(e)),n&&tr===Lt(n)&&(n=pt(n)));n&&(ht(n,Qn)||n.hidden);)n=Tt(n);return n}function Tr(t,e){var n,i=t._options,a=t.self;return X(i,function(t,e){if(r(t)&&t[2]&&!ht(t[2],Qn)&&ht(t[2],ar))return n=t[2],0}),c(n)||!e&&Hr(a)||X(i,function(t,e){return n=t[2],0}),n}function Lr(t,e){return Ht(t,e)}function Cr(t){var e,n,r,i=new Map,a=Ht(t);return n=Hr(t)?(r=t.list)?mt(r):[]:mt(r=t),U(n,function(t,e){var n=function(t,e){void 0===e&&(e=!0);var n=t.attributes,r={};return U(n,function(t){var n=t.name,i=t.value;r[n]=e?F(i):i}),r}(t);n.active=!0,n.mark=!1,Mt(n,Qn)?(n.active=""!==n[Qn]&&!!n[Qn],delete n[Qn]):Mt(n,ar)&&(n.mark=""===n[ar]||!!n[ar],delete n[ar]),nr===Et(t)?X(Cr(t),function(e,n){e[1]["&"]=t.label,nt(F(n),e,i)}):nt(F(t[cr]),[Kt(t)||t[cr],n,null,t],i)}),0===P([])&&(e=Y(a=F(a),i))&&(e[1].mark=!0,nt(a,e,i)),i}function $r(t,e){return t.map(function(t){return Lr(t,e)})}function Kr(t){var e=t._options,n=[];return X(e,function(t,e){r(t)&&t[2]&&!ht(t[2],Qn)&&ht(t[2],ar)&&n.push(t[2])}),n}function Dr(t,e){var n,r=t._options;if(n=at(r)["find"+(e||"")](function(t){return!ht(t[2],Qn)&&!t[2].hidden}))return n[2]}function Hr(t){return"input"===Et(t)}function Or(){var t,e=B(this),n=e._mask,r=e.mask,i=e.state,a=n.options,o=i.strict,u=i.time.error;g(xn,r,ei),g(Hn,r,ei),o&&(!a.hidden&&(t=Tr(e,1))?di(t,e):(pr(s(u)&&u>0?u:0,e),a.hidden=!1,pi(e,1)))}function Fr(){var t=this,e=B(t),n=e.self,r=e.state.strict;ln(function(){r||fe(n,Kt(t))})[0](1),Ze(t),yr(1,e),gr(t)}function jr(){en()}function Mr(){wr(B(this))}function Rr(){mr();var t=this,e=B(t),n=e.mask;if(e.options.open)return v(xn,n,ei),void v(Hn,n,ei);Kt(t,0)?tn(t):e.enter().fit()}function zr(t){t&&p(t);var e=B(this),n=e.state.time.error;pr(s(n)&&n>0?n:0,e),function(t){var e=t.mask,n=t.state.time.error;s(n)&&n>0&&Vt(e,er,!0)}(e)}var Nr="";function Ur(t){var e=this,n=t.inputType,r=B(e),i=r._active,a=r._fix;if(!i||a)return p(t);"deleteContent"!==n.slice(0,13)||Kt(e,0)?"insertText"===n&&(kr(r,1),gr(e)):(kr(r,0),gr(e))}function Xr(t){var e,n=B(this),r=n.options,i=t.key;Wn===i||" "===i?n[r.open?"exit":"enter"](!(e=!0)).fit():qn===i?n.exit(e=!0):Mn!==i&&Nn!==i&&Gn!==i||n.enter(e=!0),e&&p(t)}function Ir(t){var e,n=this,r=t.key,i=t.ctrlKey,a=t.shiftKey,o=B(n),u=o._active,l=o._fix;if(u&&!l){var c=o._options,f=o.mask,h=o.self,d=o.state,v=d.strict,m=d.time,g=m.error,y=m.search;if((Xn===r||In===r||1===P(r)&&!i)&&(o.enter().fit(),Nr=0),Mn===r||Nn===r||Wn===r){var k=c.at(Ht(h));if(!(k=k?k[2]:0)||k.hidden)for(k=(k=rt(c))?k[2]:0;k&&(ht(k,Qn)||k.hidden);)k=St(k);e=!0,ht(f,"expanded")?v&&Wn===r?vi(o)&&o.exit(e):k&&wr(k):(o.enter(!1).fit(),k&&wr(k))}else Gn===r?(pr(s(g)&&g>0?g:0,o),en(),o.exit()):i?a||"z"!==S(r)?(a&&"z"===S(r)||"y"===S(r))&&(e=!0,Ge(n)):(e=!0,rn(n)):ln(function(){""!==Nr&&Nr===Kt(n)+""||(dr(y[0],o,n,c),Nr=Kt(n)+"")})[0](1);e&&p(t)}}var Wr="",qr=un(function(){return Wr=""})[0];function Br(t){var e,n,r,i,a,o=this,s=t.key,u=t.altKey,l=t.ctrlKey,c=t.shiftKey,f=B(o),h=f._mask,d=f.max,v=f.self,m=h.value;Xn===s||In===s?(e=!0,m&&(a=kt('[value="'+(Lr(o)+"").replace(/"/g,'\\"')+'"]',At(m)))?wr(a):f.exit(e)):Wn===s||qn===s||Gn===s||" "===s?d>1?qn===s?f.exit(e=!0):Gn===s?f.exit(e=!1):(e=!0,mi(o,f)):(qn!==s&&di(o,f),f.exit(e=Gn!==s)):Mn===s||Yn===s?(e=!0,(n=Yn===s&&tr===Lt(r=At(o))?Ar(r):Ar(o))?xr(n):Er(f)):Nn===s||Vn===s?(e=!0,(i=Vn===s&&tr===Lt(r=At(o))?Pr(r):Pr(o))?xr(i):Sr(f)):Un===s?(e=!0,Er(f)):"End"===s?(e=!0,Sr(f)):l||(1!==P(s)||u||(Hr(v)?kr(f,s):Wr+=s),!c&&f.exit(!(e=!1))),e&&p(t)}function Yr(t){var e=this,n=B(e),r=n._active,i=n._fix;if(r&&!i){var a,o,s,u,l=t.key,c=t.altKey,f=t.ctrlKey,h=n._mask,d=n._options,m=n.max,g=n.min,y=n.self,k=n.state,_=h.arrow,b=h.options,w=h.values,x=k.time.search;if(qr(x[1]),Mn===l||Nn===l||Wn===l||Yn===l||Vn===l||""===Wr&&" "===l){var E=a=!0;Wn!==l&&" "!==l||(o=d.at(Lr(e)))&&(E=!1,Q(b,function(){return wr(o[2])},hi(o[2]))),n.size<2&&ue(b,"max-height",0),n.enter(E).fit()}else if(Rn===l)a=!0,(u=Tt(e))&&V(u,w)&&wr(u);else if(zn===l)a=!0,(s=St(e))&&V(s,w)&&wr(s);else if(Un===l)a=!0,W(w,function(t){return o=t,0}),o&&wr(o);else if(Xn===l){a=!0,Wr="";var S=H(w);g>=S?(zr.call(y),n.fire("min.options",[S,g])):(o=d.at(Lr(e)))&&(Ut(o[2],ar),o[3][ar]=!1,(u=Tt(e))&&V(u,w)||(s=St(e))&&V(s,w)?(wr(h[cr]=u||s),v(bn,e,Yr),v(xn,e,Vr),v(xn,e.$[2],Gr),v(Hn,e,Vr),v(Hn,e.$[2],Gr),J(e,w),Bt(e)):(Xt(h[cr]=e,cr),ae(e.$[1],""),0===g&&pi(n,1)),m!==1/0&&m>S&&X(d,function(t,e){t[3][Qn]||(Ut(t[2],Qn),Gt(t[2],or,0))}))}else if(In===l){a=!0,Wr="";var A=H(w);g>=A?(zr.call(y),n.fire("min.options",[A,g])):(o=d.at(Lr(e)))&&(Ut(o[2],ar),o[3][ar]=!1,(s=St(e))&&V(s,w)||(u=Tt(e))&&V(u,w)?(wr(h[cr]=s&&s!==_?s:u),v(bn,e,Yr),v(xn,e,Vr),v(xn,e.$[2],Gr),v(Hn,e,Vr),v(Hn,e.$[2],Gr),J(e,w),Bt(e)):(Xt(h[cr]=e,cr),ae(e.$[1],""),0===g&&pi(n,1)),m!==1/0&&m>A&&X(d,function(t,e){t[3][Qn]||(Ut(t[2],Qn),Gt(t[2],or,-1))}))}else"End"===l?(a=!0,W(w,function(t){return o=t}),o&&wr(o)):qn===l?(Wr="",n.exit(a=!0)):Gn===l?(Wr="",n.exit(a=!1)):1!==P(l)||c||f||(a=!0,Wr+=l);""!==Wr&&dr(x[0],n,Wr,d,!0),a&&p(t)}}function Vr(t){p(t);var e,n=this,r=B(n),i=r._mask,a=r._options,o=i.options;a.open?wr(n):(e=a.at(Lr(n)))&&Q(o,function(){return ln(function(){return wr(e[2]),hi(e[2])})[0](1)})}function Gr(t){var e=At(this),n=B(e),r=n._options.at(Lr(e))[2];r&&mi(r,n),n.enter(!0).fit(),p(t),m(t)}function Jr(t){p(t);var e=this,n=B(e),r=n.self,i=n.state.strict;ln(function(){i||fe(r,Kt(e))})[0](1),Ze(e),yr(1,n),Ye(e,t.clipboardData.getData("text/plain")),gr(e)}var Qr=0,Zr=!1,ti=!1;function ei(t){p(t);var e=this,n=B(e),r=n._active;if(n._fix)return wr(n);if(r&&!yt(e,"size")){var i,a=n._mask,o=n._options,s=n.max,u=n.self,l=a.arrow,c=a.options,f=t.target;if(l===f&&(i=1),c!==f){for(;e!==f;){if(l===(f=At(f))){i=1;break}if(!f||c===f)return}X(o,function(t){return t[2].hidden=!1}),B(ft)!==n?(n.size<2&&ue(c,"max-height",0),n.enter(!i).fit(),i&&wr(l)):(n.exit(i?0:1===s||Hr(u)),i&&wr(l))}}}function ni(t){Hn!==t.type||ht(this,Qn)||Vt(this,ar,!0),Qr=1}function ri(t){Hn===t.type&&(Zr=t.touches[0].clientY);var e=B(this);if(e){var n=e.mask,r=e.state.n,i=t.target;n!==i&&n!==At(i,"."+r)&&e.exit()}}function ii(t){ti=Dn===t.type&&t.touches[0].clientY;var e=B(this);if(e){var n,r,i=e._mask.lot;!1!==Zr&&!1!==ti&&(1===Qr&&Zr!==ti&&++Qr,(n=[(r=i).scrollLeft,r.scrollTop])[1]-=ti-Zr,function(t,e){t.scrollLeft=e[0],t.scrollTop=e[1]}(i,n),Zr=ti)}}function ai(){var t=this,e=B(t);1===Qr?ht(t,Qn)||(e.max>1?(mi(t,e),wr(t)):(di(t,e),e.size<2?e.exit(!0):wr(t))):Ut(t,ar),Qr=0}function oi(){Qr=0,Zr=!1}function si(){W(B(this),function(t){return t.reset()})}function ui(t){W(B(this),function(e){var n,r=e.max,i=e.min,a=e.self,o=P(Kr(e));o<i?(n=!0,e.fire("min.options",[o,i])):o>r&&(n=!0,e.fire("max.options",[o,r])),n&&(zr.call(a),p(t))})}function li(){var t,e=B(ft);e&&(t||(lt.requestAnimationFrame(function(){e.fit(),t=0}),t=1))}function ci(){li()}function fi(t){var e=B(this),n=e._active,r=e._fix,i=e.max;if(!(!n||r||i>1)){var a,o,s,u=e._mask.options,l=t.deltaY,c=t.target;if(u!==c){for(;this!==c;)if(u===(c=At(c)))return;(a=Tr(e)||Dr(e))&&(p(t),l<0?(s=Pr(a))?wr(di(s,e)):wr(function(t){var e;if(e=function(t){return Dr(t,"Last")}(t))return di(e,t)}(e)):(o=Ar(a))?wr(di(o,e)):wr(vi(e)))}}}function hi(t){t.scrollIntoView({block:"nearest"})}function di(t,e){var n,r,i=e._mask,a=e.mask,o=e.self,s=i.input,u=i.value;if(t)return n=t.$[0],pi(e),n[ar]=!0,Vt(t,ar,!0),fe(o,r=Lr(t)),Hr(o)?(Ut(a,er),Vt(s,"activedescendant",xt(t)),ce(s,Kt(t.$[1])),kr(e,1)):(ae(u.$[1],wt(t.$[1])),fe(u,r)),e.fire("change",[""!==r?r:null]),t}function vi(t){var e;if(e=Dr(t))return di(e,t)}function pi(t,e){var n,r=t._mask,i=t._options,a=t.self,o=r.input,s=r.value;X(i,function(t){Ut(t[2],ar),t[3][ar]=!1}),e&&(fe(a,n=""),Hr(a)?(Ut(o,"activedescendant"),ce(o,""),kr(t,0)):(Xt(s,cr),ae(s.$[1],n),(n=s.$[2])&&Bt(n)))}function mi(t,e){var n,r,i,a,o,s=e._mask,u=e._options,l=e.max,c=e.min,f=e.self,h=e.state,d=s.value,p=s.values,m=h.n;if(t){var y,k,_=t.$[0],b=$r(Kr(e));return ht(t,ar)&&_[ar]?c>0&&(k=P(b))<=c?(zr.call(f),e.fire("min.options",[k,c])):(Ut(t,ar),_[ar]=!1):(Vt(t,ar,!0),_[ar]=!0),Hr(f)||(y=$r(Kr(e)),l!==1/0&&(k=P(y))===l?X(u,function(t,e){ht(t[2],ar)||(Xt(t[2],or),Vt(t[2],Qn,!0))}):k>l?(Ut(t,ar),_[ar]=!1,X(u,function(t,e){ht(t[2],ar)||(Xt(t[2],or),Vt(t[2],Qn,!0))}),zr.call(f),e.fire("max.options",[k,l])):X(u,function(t,e){t[3][Qn]||(Ut(t[2],Qn),Gt(t[2],or,-1))}),(r=(n=Kr(e)).shift())?(Qt(d,d.$[2]),ae(d.$[1],wt(r.$[1])),fe(d,Lr(r)),J(d,p),W(p,function(t){return v(bn,t,Yr),v(xn,t,Vr),v(xn,t.$[2],Gr),v(Hn,t,Vr),v(Hn,t.$[2],Gr),G(t),Bt(t),-1}),p.add(i=d),U(n,function(t,n){var r;(a=oe((r=d.cloneNode(!0),Xt(r,"id"))))[sr]=-1,a.$={},a.$[0]=null,a.$[1]=kt("."+m+"__v",a),a.$[2]=o=kt("."+m+"__x",a),g(bn,a,Yr),g(xn,a,Vr),g(xn,o,Gr),g(Hn,a,Vr),g(Hn,o,Gr),ae(a.$[1],wt(t.$[1])),et(a,e),p.add(se(i,a)),fe(a,Lr(t)),i=a})):pi(e,1)),e.fire("change",[y]),t}}function gi(t,e){var n=this;return t?o(n,gi)?(et(t,fn(n,gi._)),n.attach(t,b({},gi.state,function(t){return!1===t||!0===t}(e)?{strict:e}:e||{}))):new gi(t,e):n}function yi(t,e){var n=this;return o(n,yi)?(n.of=t,n[fr]=new Map,e&&br(t,e),n):new yi(t,e)}function ki(t){var e=bt("input[list]:not([type=hidden]),select");e&&P(e)&&e.forEach(function(t){var e,n=gt(t);Wt(t);var r=new gi(t,null!=(e=yt(t,"state"))?e:{});te(r.mask,n)}),1===t&&lt._.on("change",ki)}gi.from=function(t,e){return new gi(t,e)},gi.of=B,gi.state={max:null,min:null,n:"option-picker",options:null,size:null,strict:!1,time:{error:1e3,search:[10,500]},with:[]},gi.version="2.2.10",Z(gi,{name:{value:_r}},1),Z(gi,{active:{get:function(){return this._active},set:function(t){en();var e=this,n=e._mask,r=e.mask,i=e.self,a=n.input,o=n.value,s=!!t;return i[Qn]=!(e._active=s),s?(Ut(r,Qn),a?(Ut(a,Qn),Gt(a,Jn,"")):o&&Gt(o,or,0)):(Vt(r,Qn,!0),a?(Vt(a,Qn,!0),Xt(a,Jn)):o&&Xt(o,or)),e}},fix:{get:function(){return this._fix},set:function(t){en();var e=this,n=e._mask,r=e.mask,i=e.self,a=n.input,o=!!t;return e._fix=o,Hr(i)?(i.readOnly=o,o?(Xt(a,Jn),Vt(a,rr,!0),Vt(r,rr,!0),Gt(a,or,0)):(Ut(a,rr),Ut(r,rr),Xt(a,or),Gt(a,Jn,"")),e):e}},max:{get:function(){var t=this.state.max;return 1/0===t||s(t)&&t>0?t:1},set:function(t){var e=this,n=e.self;if(Hr(n))return e;var r=e.mask,i=e.state;return t=(1/0===t||s(t))&&t>0?t:0,n.multiple=t>1,i.max=t,t>1?Vt(r,"multiselectable",!0):Ut(r,"multiselectable"),e}},min:{get:function(){var t=this.state.min;return!s(t)||t<0?0:t},set:function(t){return this.state.min=s(t)&&t>0?t:0,this}},options:{get:function(){return this._options},set:function(t){en();var e=this,n=e._active,r=e._fix;if(!n||r)return e;var a,o=e.max;if((i(t)||s(t)||f(t))&&(t=[t]),P(a=br(e,t))){var u=o>1;e[cr+(u?"s":"")]=e["_"+cr+(u?"s":"")]=u?a:a[0]}var l=[];return X(e._options,function(t){return l.push(Lr(t[2],1))}),e.fire("set.options",[l])}},size:{get:function(){var t,e,n=this.self,r=this.state;return Hr(n)?null:(e=null!=(t=n.size)?t:r.size||1,!s(e)||e<1?1:e)},set:function(t){en();var e=this,n=e.self;if(Hr(n))return e;var r=e._active,i=e._mask,a=e.mask,o=e.state,u=i.options,l=!s(t)||t<1?1:t;if(n.size=o.size=l,1===l)qt(a,"size"),Yt(u,"max-height"),r&&G(ft);else{var c=Dr(e);if(c){var f,h,d=Ct(u,"border-bottom-width"),v=Ct(u,"border-top-width"),p=Ct(u,"gap"),m=null!=(f=null!=(h=Ct(c,"height"))?h:Ct(c,"min-height"))?f:Ct(c,"line-height");ne(a,"size",l),ue(u,"max-height","calc("+v+" + "+d+" + ("+m+"*"+l+") + calc("+p+"*"+l+"))"),r&&et(ft,e)}}return e}},text:{get:function(){var t=this._mask,e=t.input;return t.text?Kt(e):null},set:function(t){var e=this,n=e._active,r=e._fix;if(!n||r)return e;var i=e._mask;if(!i.text)return e;var a,o=i.input;return ce(o,a=x(t)),kr(e,a),e}},value:{get:function(){var t=Ht(this.self);return""!==t?t:null},set:function(t){var e,n=this,r=n._active,i=n.self;return r?((e=n._options.at(t))?di(e[2],n):Hr(i)&&null===t&&pi(n,1),n):n}},values:{get:function(){return $r(Kr(this))},set:function(t){var e=this;if(!e._active||e.max<2)return e;pi(e);var n,a=e._options;return(i(t)||s(t)||f(t))&&(t=[t]),r(t)&&U(t,function(t){(n=a.at(t))&&mi(n[2],e)}),e}},vital:{get:function(){return this._vital},set:function(t){en();var e=this,n=e._mask,r=e.mask,i=e.min,a=e.self,o=n.input,s=!!t;return a[ir]=s,s?(0===i&&(e.min=1),o&&Vt(o,ir,!0),Vt(r,ir,!0)):(e.min=0,o&&Ut(o,ir),Ut(r,ir)),e}}}),gi._=tt(gi,{attach:function(t,e){var n,i=this;t=t||i.self,e=e||i.state,i._options=new yi(i),i._value=null,i._values=[],i.self=t,i.state=e;var s=e,u=s.max,h=s.min,d=s.n,v=Rt(t),p=Hr(t),m=u&&u>1||!p&&t.multiple,y=zt(t),k=Nt(t),_=t.id,b=t.name,w=t.placeholder;i._active=!v,i._fix=p&&y,i._vital=k,k&&h<1&&(e.min=h=1);var x=re("span",{aria:{hidden:lr},class:d+"__arrow",tabindex:-1}),E=Pt(t),S=re("div",{aria:{disabled:!!v&&lr,expanded:Zn,haspopup:"listbox",multiselectable:!!m&&lr,readonly:!(!p||!y)&&lr,required:!!k&&lr},class:d,role:"combobox"});i.mask=S;var A=re("div",{class:d+"__flex",role:tr}),T=re("div",{class:d+"__options",role:"listbox"}),L=re("div",{class:d+"__options-lot",role:"none"}),C=re(p?"span":"data",{class:d+"__"+(p?ur:cr),tabindex:!p&&0}),$=re("span",{aria:{autocomplete:"list",disabled:!!v&&lr,multiline:Zn,placeholder:!!p&&w,readonly:!!y&&lr,required:!!k&&lr},autocapitalize:"off",contenteditable:!(v||y||!p)&&"",role:"searchbox",spellcheck:!!p&&Zn,tabindex:!(!y||!p)&&0}),K=re("span",p?w+"":"",{aria:{hidden:lr}}),D=re("span",{aria:{hidden:lr},class:d+"__x",tabindex:-1});if(Qt(S,A),Qt(S,T),Qt(T,L),Qt(A,C),Qt(A,x),p?(g(gn,$,Or),g("cut",$,Fr),g(yn,$,Rr),g(kn,$,Ur),g(bn,$,Ir),g(An,$,Jr),Qt(C,$),Qt(C,K),et($,i)):(g(bn,C,Yr),g(xn,C,Vr),g(Hn,C,Vr),et(C,i)),Zt(t,d+"__self"),se(t,S),Qt(S,t),E){var H=B(E)||new Set;H.add(i),g(Pn,E,si),g(Cn,E,ui),oe(E),et(E,H)}g(yn,t,Mr),g(_n,t,zr),g(bn,x,Xr),g(xn,S,ei),g(Hn,S,ei),g(On,S,fi),t[sr]=-1,et(x,i),et(S,i);var O={arrow:x,flex:A,hint:p?K:null,input:p?$:null,lot:L,of:t,options:T,self:S,values:new Set};O[p?ur:cr]=C,i.max=u=m?null!=u?u:1/0:1,i.min=h=p?0:null!=h?h:1,p||(C.$={},C.$[0]=null,Qt(C,C.$[1]=oe(re("span",{class:d+"__v",role:"none"}))),u>1&&(g(xn,D,Gr),g(Hn,D,Gr),Qt(C,C.$[2]=D)),O[fr].add(C)),i._mask=O;var F,j=i._active,M=e.options;return i._active=!0,a(M)?(Vt(S,"busy",!0),M=M.call(i,null),o(M,Promise)?M.then(function(t){Ut(S,"busy"),P(F=br(i,t))?i[cr+(m?"s":"")]=i["_"+cr+(m?"s":"")]=m?F:F[0]:(F=Tr(i,1))&&(F=Lr(F),i[cr+(m?"s":"")]=i["_"+cr+(m?"s":"")]=m?[F]:F),i.fire("load",[null,i[fr]])[i.options.open?"enter":"exit"]().fit()}):P(F=br(i,M))&&(i[cr+(m?"s":"")]=i["_"+cr+(m?"s":"")]=m?F:F[0])):P(F=br(i,M||Cr(t)))&&(i[cr+(m?"s":"")]=i["_"+cr+(m?"s":"")]=m?F:F[0]),i._active=j,i.size=null!=(n=e.size)?n:p?1:t.size,Vt(S,"controls",xt(oe(T))),Vt(S,"labelledby",xt(oe(C))),Vt(t,"hidden",!0),Vt($,"controls",xt(T)),oe(x),oe(S),oe(A),oe(L),oe(t),oe($),oe(K),oe(D),_&&ne(S,"id",_),b&&ne(S,"name",b),c(e)&&r(e.with)&&U(e.with,function(n,r){f(n)&&(n=gi[n]),a(n)?n.call(i,t,e):l(n)&&a(n.attach)&&n.attach.call(i,t,e)}),Je($),i},blur:function(){var t=this,e=t._mask,n=t.mask,r=e.input;return r&&en(),(r||n).blur(),t.exit()},detach:function(){var t=this,e=t._mask,n=t.mask,i=t.self,o=t.state,s=e.arrow,u=e.input,c=e.value;t.exit();var h=Pt(i);if(t._active=!1,t._options=new yi(t),t._value=null,t._values=[],h&&(v(Pn,h,si),v(Cn,h,ui)),u&&(v(gn,u,Or),v("cut",u,Fr),v(yn,u,Rr),v(kn,u,Ur),v(bn,u,Ir),v(An,u,Jr)),c){v(bn,c,Yr),v(xn,c,Vr),v(Hn,c,Vr);var d=c.$[2];d&&(v(xn,d,Gr),v(Hn,d,Gr))}return v(yn,i,Mr),v(_n,i,zr),v(bn,s,Xr),v(xn,n,ei),v(Hn,n,ei),v(On,n,fi),r(o.with)&&U(o.with,function(e,n){f(e)&&(e=gi[e]),l(e)&&a(e.detach)&&e.detach.call(t,i,o)}),i[sr]=null,Ut(i,"hidden"),It(i,o.n+"__self"),se(n,i),Bt(n),t._mask={of:i},t.mask=null,t},enter:function(t,e){var n=this,r=n._active,i=n._fix,a=n._mask,o=n.self,s=a.input,u=Hr(o);if(i&&t&&u)return wr(s),tn(s,e),n;if(!r||i)return n;var l,c=n._options,f=n.mask,h=a.lot,d=a.options,v=a.value;Vt(f,"expanded",P(mt(h))>0);var p=B(ft);return p&&n!==p&&p.exit(),et(ft,n),n.fire("enter"),t&&(u?(wr(s),tn(s,e)):(l=c.at(Ht(o)))?Q(d,function(){return wr(l[2])},hi(l[2])):(l=Dr(n))?Q(d,function(){return wr(l)},hi(l)):wr(v)),g(xn,ft,ri),g(En,ft,ii),g(Sn,ft,oi),g(Tn,lt,li,{passive:!0}),g(Ln,lt,ci,{passive:!0}),g(Kn,ft,oi),g(Dn,ft,ii,{passive:!0}),g(Hn,ft,ri),n},exit:function(t,e){var n=this,r=n._active,i=n._fix,a=n._mask,o=n.self,s=a.input,u=Hr(o);if(i&&t&&u)return wr(s),tn(s,e),n;if(!r||i)return n;var l=n._options,c=n.mask,f=a.value;return X(l,function(t){return t[2].hidden=!1}),Vt(c,"expanded",!1),G(ft),n.fire("exit"),t&&(u?(wr(s),tn(s,e)):wr(f)),v(xn,ft,ri),v(En,ft,ii),v(Sn,ft,oi),v(Tn,lt,li),v(Ln,lt,ci),v(Kn,ft,oi),v(Dn,ft,ii),v(Hn,ft,ri),n},fit:function(){var t=this,e=t._active,n=t._fix,r=t.mask;if(!e||n||!ht(r,"expanded")||yt(r,"size"))return t;var i=t._mask.options;ue(i,"max-height",0);var a=Ct(r,"border-bottom-width"),o=Ct(r,"border-top-width"),s=cn(r),u=cn(lt);return s[1]+s[3]/2>u[3]/2?le(i,{bottom:"100%","max-height":"calc("+s[1]+"px + "+a+")",top:"auto"}):le(i,{bottom:"auto","max-height":"calc("+(u[3]-s[1]-s[3])+"px + "+o+")",top:"100%"}),t.fire("fit")},focus:function(t){var e=this;if(!e._active)return e;var n=e._mask,r=n.input,i=n.value;return r?(wr(r),tn(r,t)):wr(i),e},reset:function(t,e){var n=this;if(!n._active)return n;var r=n._value,i=n._values;return n.max>1?n[fr]=i:n[cr]=r,t?n.focus(e):n}}),Z(yi,{name:{value:_r+"Options"}},1),Z(yi,{open:{get:function(){var t=this.of.mask;return ht(t,"expanded")}}}),yi._=tt(yi,{at:function(t){return Y(F(t),this[fr])},count:function(){return L(this[fr])},delete:function(t,e,n){void 0===e&&(e=1),void 0===n&&(n=1);var r=this,i=r.of,o=r.values;if(!i._active)return!1;var s,u=i._mask,l=i.self,f=i.state,h=u.lot,d=u.options;if(!c(t))return X(o,function(t,e){return r.let(e,0,0)}),pi(i,n),d.hidden=!0,e&&i.fire("let.options",[[]]),0===r.count();if(!(s=Y(t=F(t),o)))return e&&i.fire("not.option",[t]),!1;var p=At(s[2]),m=At(s[3]),g=Lr(s[2]),y=i[cr];return v(yn,s[2],jr),v(bn,s[2],Br),v(xn,s[2],ni),v(Sn,s[2],ai),v(Kn,s[2],ai),v(Hn,s[2],ni),Bt(s[2]),Bt(s[3]),s=J(t,o),p&&tr===Lt(p)&&0===P(mt(p))&&Bt(p),m&&nr===Et(m)&&0===P(mt(m))&&Bt(m),0===P(mt(h))?(pi(i,!Hr(l)),d.hidden=!0):g===y&&vi(i),a(f.options)||(f.options=o),e&&i.fire("let.option",[t]),s},get:function(t){var e,n=this.values,r=Y(F(t),n);return r&&(e=At(r[2]))&&tr===Lt(e)?[_t(r[2]),_t(e)]:r?_t(r[2]):-1},has:function(t){return V(F(t),this[fr])},let:function(t,e,n){return void 0===e&&(e=1),void 0===n&&(n=1),this.delete(t,e,n)},set:function(t,e,n){var r,o,u;void 0===n&&(n=1);var l=this,h=l.of,d=l.values;if(!h._active)return!1;if(l.has(t=F(t)))return n&&h.fire("has.option",[t]),!1;var v,p,m,y,k,_,b,w,E=h._mask,S=h.self,A=h.state,P=E.lot,T=E.options,L=A.n;(Hr(S)?!(v=S.list)||mt(v):mt(v=S),T.hidden=!1,oe(v),c(e)?(i(e)||s(e)||f(e))&&(e=[e,{}]):e=[t,{}],Mt(e[1],"&"))?(m=kt("."+L+'__options-batch[value="'+x(e[1]["&"]).replace(/"/g,'\\"')+'"]',P),y=kt(nr+'[label="'+x(e[1]["&"]).replace(/"/g,'\\"')+'"]',S)||re(nr,{label:e[1]["&"],title:null!=(b=$t(e[1],"title"))&&b}),m&&Lr(m)===e[1]["&"]||(Qt(P,m=re("data",{class:L+"__options-batch",role:tr,title:null!=(w=$t(e[1],"title"))&&w,value:e[1]["&"]})),Qt(v,y),oe(m),oe(y))):m=y=!1;var C=e[1],$=C.active,K=C.mark,D=C.value;return c($)||($=!0),D=x(D||t),p=e[2]||re("data",{aria:{disabled:!$&&lr,selected:!!K&&lr},class:L+"__option",data:{batch:null!=(r=$t(e[1],"&"))&&r},role:"option",tabindex:!!$&&-1,title:null!=(o=$t(e[1],"title"))&&o,value:D}),k=e[3]||re("option",x(e[0]),{disabled:!$&&"",selected:!!K&&"",title:null!=(u=$t(e[1],"title"))&&u,value:D}),_=e[2]?e[2].$[1]:re("span",x(e[0]),{class:L+"__v",role:"none"}),oe(p),oe(k),oe(_),p.$={},p.$[0]=k,p.$[1]=_,$&&!e[2]&&(g(yn,p,jr),g(bn,p,Br),g(xn,p,ni),g(Sn,p,ai),g(Kn,p,ai),g(Hn,p,ni)),Qt(p,_),Qt(m||P,p),Qt(y||v,k),et(p,h),e[2]=p,e[3]=k,n&&h.fire("is.option",[t]),nt(t,e,d),a(A.options)||(A.options=d),n&&h.fire("set.option",[t]),!0}}),q(yi)[Symbol.iterator]=function(){return this[fr][Symbol.iterator]()},gi.Options=yi,lt.OP=lt.OptionPicker=gi;var _i,bi,wi,xi="down",Ei="blur",Si="copy",Ai="cut",Pi="focus",Ti="input",Li="before"+Ti,Ci="invalid",$i="key"+xi,Ki="keyup",Di="mouse"+xi,Hi="paste",Oi="reset",Fi="submit",ji="touchstart",Mi="Arrow",Ri=Mi+"Left",zi=Mi+"Right",Ni="Home",Ui="Backspace",Xi="Enter",Ii="Tab",Wi="contenteditable",qi="disabled",Bi="false",Yi=Ci,Vi="pressed",Gi="readonly",Ji="required",Qi="tabindex",Zi="tabIndex",ta="true",ea="value",na=ea+"s",ra="visibility",ia=e(n,ln(function(t){Ut(t.mask,Yi)}),2),aa=ia[0],oa=ia[1],sa=function(t){var e=t.mask,n=t.state.time.error;s(n)&&n>0&&Vt(e,Yi,!0)},ua=e(n,ln(function(t){Ze(t)},1),1)[0],la=e(n,ln(function(t){var e=t._mask.input;ca(t,Kt(e,0))}),1)[0],ca=function(t,e){var n=t._mask.hint;e?ue(n,ra,"hidden"):Yt(n,ra)},fa="TagPicker";function ha(t,e){var n=o(e,Map)?e:new Map;r(e)?U(e,function(t){var e,i,a;r(t)?(t[0]=null!=(e=t[0])?e:"",t[1]=null!=(i=t[1])?i:{},nt(F(null!=(a=t[1][ea])?a:t[0]),t,n)):nt(F(t),[t,{}],n)}):l(e,0)&&I(e,function(t,i){var a,o,s;r(t)?(e[i][0]=null!=(a=t[0])?a:"",e[i][1]=null!=(o=t[1])?o:{},nt(F(null!=(s=t[1][ea])?s:i),t,n)):nt(F(i),[t,{}],n)});var i=t._tags,a=[];return i.let(null,0),X(n,function(t,e){var n,o;r(t)&&t[1]&&a.push(null!=(o=t[1][ea])?o:e);i.set(F(r(t)&&t[1]&&null!=(n=t[1][ea])?n:e),t,0)}),a}function da(t){return t.focus(),t}function va(t,e){return Ht(t,e)}function pa(t){p(t)}function ma(t){var e=this,n=t.data,r=t.inputType,i=B(e),a=i._active,o=i._fix;if(!a||o)return p(t);var s,u,l,c,h=i._tags,d=i.state.escape;u=f(n)&&1===P(n)?n:0,Xi===u&&(y("\n",d)||y(13,d))||Ii===u&&(y("\t",d)||y(9,d))||0!==u&&y(u,d)?(s=!0,nt(F(c=Kt(e)),c,h),da(i).text=""):"deleteContentBackward"!==r||Kt(e,0)||(l=it(h))&&(s=!0,J(va(l[2]),h)),s&&p(t)}function ga(){var t=B(this)._tags;_i||bi||X(t,function(t){return Ut(t[2],Vi)})}function ya(){var t=B(this),e=t.mask,n=t.state.time.error;aa(s(n)&&n>0?n:0,t),g(Di,e,Da),g(ji,e,Da)}function ka(t){p(t);var e=this,n=B(e),r=n._tags,i=n.state.join,a=[];Vt(e,Vi,!0),X(r,function(t){ht(t[2],Vi)&&a.push(va(t[2]))}),t.clipboardData.setData("text/plain",a.join(i)),Ai!==t.type&&P(a)<2&&Ut(e,Vi)}function _a(t){p(t);var e=B(this),n=e._tags;ka.call(this,t),X(n,function(t){ht(t[2],Vi)&&J(va(t[2]),n)}),da(e.fire("change",[e[ea]]))}function ba(){var t=this;Ze(t),la(1,B(t)),ua(t)}function wa(){da(B(this))}function xa(){tn(this)}function Ea(){var t=this,e=B(t),n=e.mask,r=e.state.pattern,i=Kt(t);i&&f(r)&&!dn(r).test(i)&&(oa(),sa(e)),tn(t),v(Di,n,Da),v(ji,n,Da)}function Sa(t){var e=this,n=B(e),r=n._active,i=n._fix;if(!r||i)return p(t);var a=n.state.pattern,o=t.inputType,s=Kt(e,0);"deleteContent"!==o.slice(0,13)||s?"insertText"===o&&(ca(n,1),ua(e)):(ca(n,0),ua(e)),f(a)&&!dn(a).test(s)?(oa(),sa(n)):aa(0,n)}function Aa(t){t&&p(t);ya.call(this),sa(B(this))}function Pa(t){var e=wi=this,n=t.key,r=_i=t.ctrlKey,i=bi=t.shiftKey,a=B(e),o=a._active,s=a._fix;if(!o||s)return p(t);var u,l,c,f,h,d=a._mask,v=a._tags,m=d.text;i?(u=!0,Vt(e,Vi,!0),Ri===n?(h=Tt(e))&&(ht(h,Vi)?Ut(e,Vi):Vt(h,Vi,!0),da(h)):zi===n?(f=St(e))&&f!==m&&(ht(f,Vi)?Ut(e,Vi):Vt(f,Vi,!0),da(f)):Ii===n&&en()):r?"a"===n?(u=!0,X(v,function(t){return Vt(t[2],Vi,!0),da(t[2]),tn(t[2])})):Ri===n?(u=!0,(h=Tt(e))&&da(h)):zi===n?(u=!0,(f=St(e))&&f!==m&&da(f)):Ni===n?(u=!0,(l=rt(v))&&da(l[2])):"End"===n?(u=!0,(c=it(v))&&da(c[2])):Xi===n||" "===n?(u=!0,ht(e,Vi)?Ut(e,Vi):Vt(e,Vi,!0)):Vt(e,Vi,!0):Ri===n?(u=!0,(h=Tt(e))&&da(h)):zi===n?(u=!0,da((f=St(e))&&f!==m?f:a)):Ni===n?(u=!0,(l=rt(v))&&da(l[2])):"End"===n?(u=!0,(c=it(v))&&da(c[2])):Ui===n?(u=!0,h=Tt(e),J(va(e),v),X(v,function(t){ht(t[2],Vi)&&(h=Tt(t[2]),J(va(t[2]),v))}),da(h||a),a.fire("change",[a[ea]])):"Delete"===n?(u=!0,f=St(e),J(va(e),v),X(v,function(t){ht(t[2],Vi)&&(f=St(t[2]),J(va(t[2]),v))}),da(f&&f!==m?f:a),a.fire("change",[a[ea]])):Xi===n||" "===n?(u=!0,ht(e,Vi)?Ut(e,Vi):Vt(e,Vi,!0)):"Escape"===n||Ii===n?(u=!0,en(),da(a)):1===P(n)&&(X(v,function(t){ht(t[2],Vi)&&J(va(t[2]),v)}),en(),da(a).fire("change",[a[ea]])),u&&p(t)}function Ta(t){var e=this,n=t.key,r=t.keyCode,i=_i=t.ctrlKey,o=bi=t.shiftKey,s=B(e),u=s._active,l=s._fix;if(u&&!l){var c,f,h,d,v=s._tags,m=s.self,g=s.state.escape;if(Xi===n&&(y("\n",g)||y(13,g))||Ii===n&&(y("\t",g)||y(9,g))||y(n,g)||y(r,g))return nt(F(d=Kt(e)),d,v),da(s).text="",p(t);la(1,s);var k,_,b=""===function(t,e,n){if(n=n||We(),!Be(t,n))return null;var r=n.getRangeAt(0).cloneRange();return r.collapse(!0),r.setStart(t,0),(r+"").slice(-1)}(e),w=!Kt(e,0);o?Ri===n?(b||w)&&(c=!0,en(),(_=it(v))&&da(_[2])&&Vt(_[2],Vi,!0)):Xi===n?c=!0:Ii===n&&en():i?"a"===S(n)&&w&&v.count()?(c=!0,X(v,function(t){return Vt(t[2],Vi,!0),da(t[2]),tn(t[2])})):Ri===n?(c=!0,(_=it(v))&&da(_[2])):Ni===n?(c=!0,(k=rt(v))&&da(k[2])):Xi===n?c=!0:o||"z"!==S(n)?(o&&"z"===S(n)||"y"===S(n))&&(c=!0,Ge(e)):(c=!0,rn(e)):Ni===n?(c=!0,(k=rt(v))&&da(k[2])):Xi===n?(c=!0,(f=Pt(m))&&a(f.requestSubmit)&&((h=kt("button:not([type]),button[type=submit],input[type=image],input[type=submit]",f))?f.requestSubmit(h):f.requestSubmit())):Ii===n?en():(b||w)&&(Ri===n?(c=!0,en(),(_=it(v))&&da(_[2])):Ui===n&&w&&(c=!0,(_=it(v))&&J(va(_[2]),v))),c&&p(t)}}function La(t){wi=0;var e=t.key,n=B(this)._tags,r=0;X(n,function(t){ht(t[2],Vi)&&++r}),_i=t.ctrlKey,bi=t.shiftKey,r<2&&!_i&&!bi&&Xi!==e&&" "!==e&&Ut(this,Vi)}function Ca(t){_i=t.ctrlKey,bi=t.shiftKey}function $a(t){p(t);var e=B(this),n=e._tags,r=e.state.join;U(t.clipboardData.getData("text/plain").split(r),function(t){V(t=F(t.trim()),n)||nt(t,t,n)}),X(n,function(t){return Ut(t[2],Vi)}),da(e.fire("change",[e[ea]]))}function Ka(t){p(t);var e,n=this,r=B(n),i=r._tags,a=r.self,o=r.state.join;Ze(n),la(1,r),Ye(n,e=t.clipboardData.getData("text/plain")),ua(n),e!==Kt(n)||(U((Kt(n)+"").split(o),function(t){V(t=F(t.trim()),i)?(Aa.call(a),r.fire("has.tag",[F(t)])):nt(t,t,i)}),X(i,function(t){return Ut(t[2],Vi)}),r.fire("change",[r[ea]]).text="")}function Da(t){p(t);var e=B(this),n=t.target;if(!n||"option"!==Lt(n)){for(;n&&this!==n;)if((n=At(n))&&"option"===Lt(n))return;da(e)}}function Ha(t){p(t);var e=this,n=B(e)._tags;if(da(e),tn(e),_i||X(n,function(t){return Ut(t[2],Vi)}),_i)Vt(e,Vi,!0);else if(bi&&wi){var r,i,a=_t(e),o=_t(wi),s=wi;if(Vt(e,Vi,!0),Vt(wi,Vi,!0),a>o)for(;(r=St(s))&&e!==r;)Vt(s=r,Vi,!0);else if(a<o)for(;(i=Tt(s))&&e!==i;)Vt(s=i,Vi,!0)}}function Oa(t){p(t);var e=At(this),n=B(e),r=n._active,i=n._fix;if(!r||i)return da(n);var a=n._tags;J(va(e),a),da(n)}function Fa(){W(B(this),function(t){return t.reset()})}function ja(t){W(B(this),function(e){var n,r=e._tags,i=e.max,a=e.min,o=e.self,s=r.count();s>i?(n=!0,da(e.fire("max.tags",[s,i]))):s<a&&(n=!0,da(e.fire("min.tags",[s,a]))),n&&(Aa.call(o),p(t))})}function Ma(t,e){var n=this;if(!t)return n;if(!o(n,Ma))return new Ma(t,e);et(t,fn(n,Ma._));var r=b({},Ma.state,f(e)?{join:e}:e||{});return l(e)&&e.escape&&(r.escape=e.escape),n.attach(t,r)}function Ra(t,e){var n=this;return o(n,Ra)?(n.of=t,n[na]=new Map,e&&ha(t,e),n):new Ra(t,e)}function za(t){var e=bt(".lot\\:field.type\\:query input:not([type=hidden])");e&&P(e)&&e.forEach(function(t){var e,n=gt(t);Wt(t);var r=new Ma(t,null!=(e=yt(t,"state"))?e:{});te(r.mask,n)}),1===t&&lt._.on("change",za)}Ma.from=function(t,e){return new Ma(t,e)},Ma.of=B,Ma.state={escape:[","],join:", ",max:1/0,min:0,n:"tag-picker",pattern:null,time:{error:1e3},with:[]},Ma.version="4.2.8",Z(Ma,{name:{value:fa}},1),Z(Ma,{active:{get:function(){return this._active},set:function(t){en();var e=this,n=e._mask,r=e._tags,i=e.mask,a=e.self,o=n.input,s=!!t;return a[qi]=!(e._active=s),s?(Ut(o,qi),Ut(i,qi),Gt(o,Wi,""),X(r,function(t){Gt(t[2],Wi,""),Gt(t[2],Qi,-1)})):(Xt(o,Wi),Vt(o,qi,!0),Vt(i,qi,!0),X(r,function(t){Xt(t[2],Wi),Xt(t[2],Qi)})),e}},fix:{get:function(){return this._fix},set:function(t){en();var e=this,n=e._mask,r=e._tags,i=e.mask,a=e.self,o=n.input,s=!!t;return a.readOnly=e._fix=s,s?(Xt(o,Wi),Vt(o,Gi,!0),Vt(i,Gi,!0),Gt(o,Qi,0),X(r,function(t){Xt(t[2],Wi),Xt(t[2],Qi)})):(Ut(o,Gi),Ut(i,Gi),Xt(o,Qi),Gt(o,Wi,""),X(r,function(t){Gt(t[2],Wi,""),Gt(t[2],Qi,-1)})),e}},max:{get:function(){var t=this.state.max;return 1/0===t||s(t)&&t>=0?t:1/0},set:function(t){return this.state.max=s(t)&&t>=0?t:1/0,this}},min:{get:function(){var t=this.state.min;return s(t)&&t>=0?t:0},set:function(t){return this.state.min=s(t)&&t>=0?t:0,this}},tags:{get:function(){return this._tags},set:function(t){en();var e=this,n=[];return ha(e,t),X(e._tags,function(t){return n.push(va(t[2],1))}),e.fire("set.tags",[n])}},text:{get:function(){return Kt(this._mask.input)},set:function(t){var e=this,n=e._active,r=e._fix;if(!n||r)return e;var i,a=e._mask.input;return ce(a,i=x(t)),ca(e,i),Je(a),e}},value:{get:function(){var t=Ht(this.self);return""!==t?t:null},set:function(t){var e=this;if(!e._active)return e;var n=e._tags,r=e.state.join;return e[ea]&&U(e[ea].split(r),function(t){return J(t,n)}),t&&U(t.split(r),function(t){return nt(t,t,n)}),e.fire("change",[e[ea]])}},vital:{get:function(){return this._vital},set:function(t){en();var e=this,n=e._mask,r=e.mask,i=e.min,a=e.self,o=n.input,s=!!t;return a[Ji]=e._vital=s,s?(0===i&&(e.min=1),Vt(o,Ji,!0),Vt(r,Ji,!0)):(e.min=0,Ut(o,Ji),Ut(r,Ji)),e}}}),Ma._=tt(Ma,{attach:function(t,e){var n=this;t=t||n.self,e&&f(e)&&(e={join:e}),e=b({},n.state,e||{}),n._tags=new Ra(n),n.self=t,n.state=e;var i=e,o=i.max,u=i.min,h=i.n,d=Rt(t),v=zt(t),p=Nt(t),m=t.id,y=t.name,k=t.placeholder,_=Ht(t);n._active=!d,n._fix=v,n._vital=p,p&&u<1&&(e.min=u=1);var w=Pt(t),x=re("div",{aria:{disabled:!!d&&ta,multiselectable:ta,readonly:!!v&&ta,required:!!p&&ta},class:h,role:"listbox"});n.mask=x;var E=re("span",{class:h+"__flex",role:"none"}),S=re("span",{class:h+"__text",role:"none"}),A=re("span",{aria:{disabled:!!d&&ta,multiline:Bi,placeholder:k,readonly:!!v&&ta,required:!!p&&ta},autocapitalize:"off",contenteditable:!d&&!v&&"",role:"textbox",spellcheck:Bi,tabindex:!!v&&0}),P=re("span",k+"",{aria:{hidden:ta}});if(Qt(x,E),Qt(E,S),Qt(S,A),Qt(S,P),Vt(t,"hidden",!0),Zt(t,h+"__self"),et(A,n),se(t,x),Qt(x,t),w){var T=B(w)||new Set;T.add(n),g(Oi,w,Fa),g(Fi,w,ja),oe(w),et(w,T)}g(Ei,A,ya),g(Ai,A,ba),g(Pi,t,wa),g(Pi,A,Ea),g(Ti,A,Sa),g(Li,A,ma),g(Ci,t,Aa),g($i,A,Ta),g(Ki,A,Ca),g(Di,x,Da),g(Hi,A,Ka),g(ji,x,Da),t[Zi]=-1,et(x,n),n._mask={flex:E,hint:P,input:A,of:t,self:x,text:S},n.max=o=1/0===o||s(o)&&o>=0?o:1/0,n.min=u=s(u)&&u>=0?u:0;var L,C=n._active,$=e.join;return n._active=!0,L=ha(n,_?_.split($):[]),n["_"+ea]=L.join($),n._active=C,Vt(A,"controls",xt(oe(E))),oe(x),oe(t),oe(A),oe(P),m&&ne(x,"id",m),y&&ne(x,"name",y),c(e)&&r(e.with)&&U(e.with,function(r,i){f(r)&&(r=Ma[r]),a(r)?r.call(n,t,e):l(r)&&a(r.attach)&&r.attach.call(n,t,e)}),Je(A),n},blur:function(){en();var t=this,e=t._mask,n=t._tags,r=e.input;return X(n,function(t){return t[2].blur()}),r.blur(),t},detach:function(){var t=this,e=t._mask,n=t.mask,i=t.self,o=t.state,s=e.input,u=Pt(i);return t._active=!1,t._tags=new Ra(t),t["_"+ea]=null,u&&(v(Oi,u,Fa),v(Fi,u,ja)),v(Ei,s,ya),v(Ai,s,ba),v(Pi,s,Ea),v(Pi,i,wa),v(Ti,s,Sa),v(Li,s,ma),v(Ci,i,Aa),v($i,s,Ta),v(Ki,s,Ca),v(Di,n,Da),v(Hi,s,Ka),v(ji,n,Da),r(o.with)&&U(o.with,function(e,n){f(e)&&(e=Ma[e]),l(e)&&a(e.detach)&&e.detach.call(t,i,o)}),i[Zi]=null,Ut(i,"hidden"),It(i,o.n+"__self"),se(n,i),Bt(n),t._mask={of:i},t.mask=null,t},focus:function(t){var e=this;if(!e._active)return e;var n=e._mask.input;return da(n),tn(n,t),e},reset:function(t,e){var n=this;return n._active?(n[ea]="",n[ea]=n["_"+ea],t?n.focus(e):n):n}}),Z(Ra,{name:{value:fa+"Tags"}},1),Ra._=tt(Ra,{at:function(t){return Y(F(t),this[na])},count:function(){return L(this[na])},delete:function(t,e){void 0===e&&(e=1);var n=this,r=n.of,i=n.values;if(!r._active)return!1;var a,o,s=r.min,u=r.self,l=r.state,f=l.join,h=l.n,d=[];if((a=n.count())<=s)return e&&Aa.call(u),e&&r.fire("min.tags",[a,s]),!1;if(!c(t))return X(i,function(t,e){return n.let(e,0)}),e&&r.fire("let.tags",[[]]).fire("change",[null]),0===n.count();if(!(o=Y(t=F(t),i)))return Aa.call(u),e&&r.fire("not.tag",[t]),!1;var p=o[2],m=kt("."+h+"__x",p);return v(Ei,p,ga),v(Si,p,ka),v(Ai,p,_a),v(Pi,p,xa),v(Li,p,pa),v($i,p,Pa),v(Ki,p,La),v(Di,p,Ha),v(Di,m,Oa),v(Hi,p,$a),v(ji,p,Ha),v(ji,m,Oa),Bt(m),Bt(p),o=J(t,i),X(i,function(t,e){return d.push(x(e))}),fe(u,d=d.join(f)),e&&r.fire("let.tag",[t]).fire("change",[""!==d?d:null]),o},get:function(t){var e=this.values,n=Y(F(t),e);return n?_t(n[2]):-1},has:function(t){return V(F(t),this[na])},let:function(t,e){return void 0===e&&(e=1),this.delete(t,e)},set:function(t,e,n){var o,u,l;void 0===n&&(n=1);var h=this,d=h.of,v=h.values;if(!d._active)return!1;var p,m,y,k,_,b=d._fix,w=d._mask,E=d.max,S=d.self,A=d.state,P=w.text,T=A.join,L=A.n,C=A.pattern,$=[];if((p=h.count())>=E)return n&&Aa.call(S),n&&d.fire("max.tags",[p,E]),!1;c(e)?(i(e)||s(e)||f(e))&&(e=[e,{active:!0,mark:!1}]):e=[t,{active:!0,mark:!1}],e[1].active=null==(o=e[1].active)||o,e[1].mark=null!=(u=e[1].mark)&&u;var K,D,H=e[1],O=H.mark,j=H.value;if(null===t||""===(j=x(j||t).trim())||f(C)&&!dn(C).test(j))return Aa.call(S),n&&d.fire("not.tag",[t]),!1;a(C)&&(r(m=C.call(d,j))?(t=j=m[1]&&null!=(K=m[1][ea])?K:m[0],e=m):f(m)&&(t=j=m,e[0]=m));return h.has(t=F(t))?(Aa.call(S),n&&d.fire("has.tag",[t]),!1):(y=e[2]||re("data",{aria:{pressed:!!O&&ta,selected:ta},class:L+"__tag",contenteditable:ta,inputmode:"none",role:"option",spellcheck:Bi,tabindex:-1,title:null!=(l=$t(e[1],"title"))&&l,value:j,virtualkeyboardpolicy:"manual"}),b&&(Xt(y,Wi),Xt(y,Qi)),k=e[2]?kt("."+L+"__v",e[2]):re("span",x(e[0]),{class:L+"__v",role:"none"}),L+="__x",_=e[2]?kt("."+L,e[2]):re("span",{aria:{hidden:ta},class:L,tabindex:-1}),oe(k),oe(_),Vt(_,"controls",xt(oe(y))),e[2]||(g(Ei,y,ga),g(Si,y,ka),g(Ai,y,_a),g(Pi,y,xa),g(Li,y,pa),g($i,y,Pa),g(Ki,y,La),g(Di,y,Ha),g(Di,_,Oa),g(Hi,y,$a),g(ji,y,Ha),g(ji,_,Oa)),Qt(y,k),Qt(y,_),D=y,P.before(D),et(y,d),e[2]=y,n&&d.fire("is.tag",[t]),nt(t,e,v),X(v,function(t,e){return $.push(x(e))}),fe(S,$=$.join(T)),n&&d.fire("set.tag",[t]).fire("change",[""!==$?$:null]),!0)}}),q(Ra)[Symbol.iterator]=function(){return this[na][Symbol.iterator]()},Ma.Tags=Ra,lt.TP=lt.TagPicker=Ma;var Na={beforeinput:"put.down",blur:0,click:0,copy:0,cut:0,focus:0,input:"put.up",keydown:"key.down",keyup:"key.up",mousedown:"caret.down",mouseenter:"caret.enter",mouseleave:"caret.exit",mousemove:"caret.move",mouseup:"caret.up",paste:0,scroll:0,select:0,touchend:"caret.up",touchmove:"caret.move",touchstart:"caret.down",wheel:"scroll"},Ua=new WeakMap;function Xa(t){return function(t,e){return e.get(t)}(t,Ua)||null}function Ia(t){return(t.value||"").replace(/\r/g,"")}function Wa(t){return t.disabled}function qa(t,e){t.value=e}function Ba(t,e){return(t||"")["trim"+(-1===e?"Left":1===e?"Right":"")]()}function Ya(t,e){var n,r,i=this;return t?o(i,Ya)?(n=t,r=fn(i,Ya._),function(t,e,n){n.set(t,e)}(n,r,Ua),i.attach(t,b({},Ya.state,s(e)||f(e)?{tab:e}:e||{}))):new Ya(t,e):i}Ya.esc=hn,Ya.from=function(t,e){return new Ya(t,e)},Ya.of=Xa,Ya.state={n:"text-editor",tab:"\t",with:[]},Ya.version="4.2.9",Ya.x=vn;var Va,Ga=function(t,e,n){var r=this,i=n.slice(t,e);r.after=n.slice(e),r.before=n.slice(0,t),r.end=e,r.length=P(i),r.start=t,r.value=i};function Ja(t){var e=Xa(this),n=Ia(this);t.data;var r=t.type;e._event=t,n!==Va&&(f(Va)&&e.fire("change",[t]),Va=n),e.fire(Na[r]||r,[t])}Ga.prototype.toString=function(){return this.value},Ya.S=Ga,Object.defineProperty(Ya,"name",{value:"TextEditor"});var Qa=Ya._=Ya.prototype;function Za(){var t=this,e=t.constructor._;return t._history=[],t._historyState=-1,!a(e.history)&&(e.history=function(t){var e=this._active,n=this._history;return!!e&&(c(t)?c(n[t])?n[t]:null:n)}),!a(e.loss)&&(e.loss=function(t){var e,n=this,r=n._active;n._history;var i=n._historyState;return!!r&&(!0===t?(n._history=[],n._historyState=-1,null):(e=n._history.splice(c(t)?t:i,1),n._historyState=T(i-1,[-1]),e))}),!a(e.record)&&(e.record=function(t){var e,n,r=this,i=r.$(),a=i.end,o=i.start,s=r._active,u=r._history,l=r._historyState;return s?(e=u[l]||[],(n=[r.get(),[o,a],Date.now()])[0]===e[0]&&n[1][0]===e[1][0]&&n[1][1]===e[1][1]||(++l,r._history[c(t)?t:l]=n,r._historyState=l),r):r}),!a(e.redo)&&(e.redo=function(){var t,e=this,n=e._active,r=e._history,i=e._historyState;return n&&(t=r[e._historyState=T(i+1,[0,P(r)-1])])?e.set(t[0]).select(t[1][0],t[1][1]):e}),!a(e.undo)&&(e.undo=function(){var t,e=this,n=e._active,r=e._history,i=e._historyState;return n&&(t=r[e._historyState=T(i-1,[0,P(r)-1])])?e.set(t[0]).select(t[1][0],t[1][1]):e}),t}function to(t){var e=this;return e.commands={},e.key=null,e.keys={},e.self=t||e,e.set=new Set,e}Qa.$=function(){var t=this.self;return new Ga(t.selectionStart,t.selectionEnd,Ia(t))},Qa.attach=function(t,e){var n=this;if(t=t||n.self,e&&(s(e)||f(e))&&(e={tab:e}),e=b({},n.state,e||{}),Ft(t,e.n+"__self"))return n;for(var i in n._active=!Wa(t)&&!function(t){return t.readOnly}(t),n._event=null,n._value=Ia(t),n.self=t,n.state=e,Na)g(i,t,Ja);if(Zt(t,e.n+"__self"),c(e)&&r(e.with))for(var o=0,u=P(e.with);o<u;++o){var h=e.with[o];f(h)&&(h=Ya[h]),a(h)?h.call(n,t,e):l(h)&&a(h.attach)&&h.attach.call(n,t,e)}return n},Qa.blur=function(){return this.self.blur()},Qa.detach=function(){var t=this,e=t.self,n=t.state;if(!Ft(e,n.n+"__self"))return t;for(var i in t._active=!1,Na)v(i,e,Ja);if(It(e,n.n+"__self"),r(n.with))for(var o=0,s=P(n.with);o<s;++o){var u=n.with[o];f(u)&&(u=Ya[u]),l(u)&&a(u.detach)&&u.detach.call(t,e,n)}return t},Qa.focus=function(t){var e,n,r=this,i=r._active,a=r.self;return i?(-1===t?e=n=0:1===t&&(e=P(Ia(a)),n=a.scrollHeight),c(e)&&c(n)&&(a.selectionStart=a.selectionEnd=e,a.scrollTop=n),a.focus(),r):(a.focus(),r)},Qa.get=function(){var t=this._active,e=this.self;return!!t&&(!Wa(e)&&Ia(e)||null)},Qa.insert=function(t,e,n){var r=this,i=/^[\s\S]*?$/;return r._active?(n&&r.replace(i,""),-1===e?i=/$/:1===e&&(i=/^/),r.replace(i,t,e)):r},Qa.let=function(){var t=this,e=t._active,n=t.self;return e?(qa(n,t._value),t):t},Qa.match=function(t,e){var n=this,i=n.$(),o=i.after,s=i.before,u=i.value;if(r(t)){var l=[s.match(t[0]),u.match(t[1]),o.match(t[2])];return a(e)?e.call(n,l[0]||[],l[1]||[],l[2]||[]):[!!l[0],!!l[1],!!l[2]]}var c=u.match(t);return a(e)?e.call(n,c||[]):!!c},Qa.peel=function(t,e,n){var r=this,i=r.$(),a=i.after,o=i.before,s=i.value;t=hn(t),e=hn(e);var u=dn(t+"$",""),l=dn("^"+e,"");return n?r.replace(dn("^"+t+"([\\s\\S]*?)"+e+"$",""),"$1"):u.test(o)&&l.test(a)?(o=o.replace(u,""),a=a.replace(l,""),r.set(o+s+a).select(o=P(o),o+P(s))):r.select()},Qa.pull=function(t,e){void 0===e&&(e=!0);var n=this,r=n.state,i=n.$(),a=i.before,o=i.end,u=i.length,l=i.start,f=i.value;return s(t=c(t)?t:r.tab)&&(t=" ".repeat(t)),""!==a&&"\n"!==a.slice(-1)&&t!==a.slice(-P(t))&&n.select(l-=P(a.split("\n").pop()),u?o:l),t=hn(t),u?e?n.replace(dn("^"+t,"gm"),""):n.insert(f.split("\n").map(function(e){return dn("^("+t+")*$","").test(e)?e:e.replace(dn("^"+t,""),"")}).join("\n")):n.replace(dn(t+"$",""),"",-1)},Qa.push=function(t,e){void 0===e&&(e=!1);var n=this,r=n.state,i=n.$(),a=i.before,o=i.end,u=i.length,l=i.start;return s(t=c(t)?t:r.tab)&&(t=" ".repeat(t)),""!==a&&"\n"!==a.slice(-1)&&t!==a.slice(-P(t))&&n.select(l-=P(a.split("\n").pop()),u?o:l),u?n.replace(dn("^"+(e?"":"(?!$)"),"gm"),t):n.insert(t,-1)},Qa.replace=function(t,e,n){var r=this.$(),i=r.after,a=r.before,o=r.value;return-1===n?a=a.replace(t,e):1===n?i=i.replace(t,e):o=o.replace(t,e),this.set(a+o+i).select(a=P(a),a+P(o))},Qa.select=function(){var t=this,e=t._active,n=t.self;if(!e)return n.focus(),t;for(var r=arguments.length,i=Array(r),a=0;a<r;a++)i[a]=arguments[a];var o,s,u,l,c=P(i),f=t.$(),h=f.start,d=f.end;if(o=lt.pageXOffset||ft.scrollLeft||ct.scrollLeft,s=lt.pageYOffset||ft.scrollTop||ct.scrollTop,u=n.scrollLeft,l=n.scrollTop,0===c)i[0]=h,i[1]=d;else if(1===c){if(!0===i[0])return n.focus(),n.select(),t;i[1]=i[0]}return n.focus(),n.selectionStart=i[0],n.selectionEnd=i[1],n.scrollLeft=u,n.scrollTop=l,lt.scroll(o,s),t},Qa.set=function(t){var e=this,n=e._active,r=e.self;return n?(qa(r,t),e):e},Qa.trim=function(t,e,n,r,i){void 0===i&&(i=!0),null!==t&&!1!==t&&(t=t||""),null!==e&&!1!==e&&(e=e||""),null!==n&&!1!==n&&(n=n||""),null!==r&&!1!==r&&(r=r||"");var a=this.$(),o=a.after,s=a.before,u=a.value,l=Ba(o,-1),c=Ba(s,1);return o=!1!==e?(l||!i?e:"")+Ba(o,-1):o,s=!1!==t?Ba(s,1)+(c||!i?t:""):s,!1!==r&&(u=Ba(u,1)),!1!==n&&(u=Ba(u,-1)),this.set(s+u+o).select(s=P(s),s+P(u))},Qa.wrap=function(t,e,n){var r=this,i=r.$(),a=i.after,o=i.before,s=i.value;return n?r.replace(/^[\s\S]*?$/,t+"$&"+e):r.set(o+t+s+e+a).select(o=P(o+t),o+P(s))},Object.defineProperty(Qa,"value",{get:function(){return Ia(this.self)},set:function(t){qa(this.self,t)}}),Object.defineProperty(Za,"name",{value:"TextEditor.History"});var eo=to.prototype;eo.command=function(t){var e=this;if(f(t))return t===e.toString();var n=e.keys[e.toString()];return!!c(n)&&n},eo.fire=function(t,e){var n,i,o=this,s=o.self||o;return e=e||[],a(t)||f(t)&&(t=o.commands[t])?(n=t.apply(s,e),i=!0):r(t)&&(r(t[1])&&t[1].forEach(function(t,n){return c(t)&&(e[n]=t)}),(t=o.commands[t[0]])&&(n=t.apply(s,e),i=!0)),i?!c(n)||n:null},eo.pull=function(t){var e=this;return e.key=null,c(t)?(e.set.delete(t),e):(e.set=new Set,e)},eo.push=function(t){var e=this;return e.set.add(e.key=t,1),e},eo.toArray=function(){return Array.from(this.set)},eo.toString=function(){return this.toArray().join("-")},Object.defineProperty(to,"name",{value:"Key"});var no=un(function(t,e){t.pull(),e.altKey&&t.push("Alt"),e.ctrlKey&&t.push("Control"),e.metaKey&&t.push("Meta"),e.shiftKey&&t.push("Shift")},1e3),ro=new WeakMap;function io(t){return ro.get(t)||null}function ao(t){io(this).pull()}function oo(t){ao.call(this,t)}function so(t){var e,n,r=io(this),i=t.data,a=t.inputType,o=t.key;"keydown"===t.type?(r[t.altKey?"push":"pull"]("Alt"),r[t.ctrlKey?"push":"pull"]("Control"),r[t.metaKey?"push":"pull"]("Meta"),r[t.shiftKey?"push":"pull"]("Shift"),o&&r.push(o)):"deleteContentBackward"===a?r.pull().push("Backspace"):"deleteContentForward"===a?r.pull().push("Delete"):"deleteWordBackward"===a?r.pull().push("Control").push("Backspace"):"deleteWordForward"===a?r.pull().push("Control").push("Delete"):"insertLineBreak"===a?r.pull().push("Enter"):"insertText"===a&&i&&(r.toArray().forEach(function(t){return 1===P(t)&&r.pull(t)}),r.push(i)),(e=r.command())&&(!1===(n=r.fire(e))?(p(t),m(t)):null===n&&console.warn("Unknown command:",e)),no(r,t)}function uo(t){var e=io(this),n=t.data,r=t.inputType,i=t.key;"keyup"===t.type?(e[t.altKey?"push":"pull"]("Alt"),e[t.ctrlKey?"push":"pull"]("Control"),e[t.metaKey?"push":"pull"]("Meta"),e[t.shiftKey?"push":"pull"]("Shift"),i&&e.pull(i)):"deleteContentBackward"===r?e.pull("Backspace"):"deleteContentForward"===r?e.pull("Delete"):"deleteWordBackward"===r?e.pull("Control").pull("Backspace"):"deleteWordForward"===r?e.pull("Control").pull("Delete"):"insertLineBreak"===r?e.pull("Enter"):"insertText"===r&&n&&e.pull(n)}var lo={attach:function(){var t,e,n=this,r=n.constructor._,i=new to(n);return n.commands=b(n.commands=i.commands,n.state.commands||{}),n.keys=b(n.keys=i.keys,n.state.keys||{}),!a(r.command)&&(r.command=function(t,e){return this.commands[t]=e,this}),!a(r.k)&&(r.k=function(t){var e=io(this).toArray();return!1===t?e:e.join(t||"-")}),!a(r.key)&&(r.key=function(t,e){return this.keys[t]=e,this}),n.on("blur",ao),n.on("focus",oo),n.on("key.down",so),n.on("key.up",uo),n.on("put.down",so),n.on("put.up",uo),t=n,e=i,ro.set(t,e),n},detach:function(){var t,e=this;return io(e).pull(),e.off("blur",ao),e.off("focus",oo),e.off("key.down",so),e.off("key.up",uo),e.off("put.down",so),e.off("put.up",uo),t=e,ro.delete(t),e},name:"TextEditor.Key"},co="Control-",fo="Shift-",ho="Delete",vo="Enter",po=un(function(t){return t.record()},10);function mo(t){var e=this,n=e.k(!1).pop(),r=e.k();if(po(e),!t.defaultPrevented&&!e.keys[r]){var i,a,o=e.state.tab||"\t",u=e.state.pairs||{},l=function(t){return Object.values(t)}(u);s(o)&&(o=" ".repeat(o));var c=e.$(),f=c.after,h=c.before,d=c.end,v=c.start,m=c.value,g=f.split("\n").shift(),k=h.split("\n").pop(),_=/^\s+/.exec(k),b=_&&_[0]||"";if(co+fo+vo===r)return h||f?(p(t),e.select(v-P(k)).wrap(b,"\n").insert(m).record(),!1):void 0;if(co+vo===r&&(h||f))return p(t),e.select(d+P(g)).wrap("\n"+b,"").insert(m).record(),!1;if("Alt-"!=r+"-"&&co!==r+"-"){if(" "===r)return i=u[a=h.slice(-1)],!m&&i&&a&&i===f[0]?(p(t),e.wrap(" "," ")):void 0;if("Backspace"===r||ho===r){if(i=u[a=h.slice(-1)],"\\"===a)return;return m?f&&h&&i&&i===f[0]&&!h.endsWith("\\"+a)?(p(t),e.record().peel(a,i).record()):void 0:(i=u[a=h.trim().slice(-1)])&&a&&(f.startsWith(" "+i)&&h.endsWith(a+" ")||f.startsWith("\n"+b+i)&&h.endsWith(a+"\n"+b))?(p(t),e.trim("","").record()):ho!==r&&k.endsWith(o)?(p(t),e.pull(o).record()):f&&h&&!h.endsWith("\\"+a)&&i===f[0]&&a===h.slice(-1)?(p(t),e.peel(a,i).record()):void 0}if(vo!==r&&fo+vo!==r){if("\\"!==(a=h.slice(-1))){if(i=y(f[0],l)?f[0]:u[a],!m&&f&&h&&i&&n===i)return p(t),e.select(v+1).record();for(a in u){if(i=u[a],n===a&&i)return p(t),e.wrap(a,i).record();if(n===i){if(m)return p(t),e.record().wrap(a,i).record();break}}var w,x,E,S=[];if(m){for(w in u)(x=u[w])&&S.push("(?:\\"+w+"(?:\\\\.|[^\\"+w+(x!==w?"\\"+x:"")+"])*\\"+x+")");if(S.push("\\w+"),S.push("\\s+"),S.push("[\\s\\S]"),co+"ArrowLeft"===r)return p(t),(E=dn("("+S.join("|")+")$","").exec(h))?e.insert("").select(v-P(E[0])).insert(m).record():e.select();if(co+"ArrowRight"===r)return p(t),(E=f.match(dn("^("+S.join("|")+")","")))?e.insert("").select(d+P(E[0])-P(m)).insert(m).record():e.select()}if(d+=P(g),v-=P(k),m=k+m+g,co+"ArrowUp"===r){if(p(t),!y("\n",h))return e.select();e.insert(""),e.replace(/^([^\n]*?)(\n|$)/,"$2",1),e.replace(/(^|\n)([^\n]*?)$/,"",-1);var A=e.$();return h=A.before,v=A.start,k=h.split("\n").pop(),e.select(v-=P(k)).wrap(m,"\n"),e.select(v,v+P(m)),e.record()}if(co+"ArrowDown"===r){if(p(t),!y("\n",f))return e.select();e.insert(""),e.replace(/^([^\n]*?)(\n|$)/,"",1),e.replace(/(^|\n)([^\n]*?)$/,"$1",-1);var T=e.$();return f=T.after,d=T.end,g=f.split("\n").shift(),e.select(d+=P(g)).wrap("\n",m),d+=1,e.select(d,d+P(m)),e.record()}}}else if(!m){if(f&&h&&(i=u[a=h.slice(-1)])&&i===f[0])return p(t),e.wrap("\n"+b+(a!==i?o:""),"\n"+b).record();if(b)return p(t),e.insert("\n"+b,-1).record()}}else p(t)}}function go(t){mo.call(this,t)}var yo={attach:function(){var t=this,e=t.constructor._;return t.state=b({pairs:{"`":"`","(":")","{":"}","[":"]",'"':'"',"'":"'","<":">"}},t.state),!a(e.alert)&&(e.alert=function(t,e){return lt.alert&&lt.alert(t),a(e)&&e.call(this,!0)}),!a(e.confirm)&&(e.confirm=function(t,e){return a(e)&&e.call(this,lt.confirm&&lt.confirm(t))}),!a(e.insertLine)&&(e.insertLine=function(t,e){var n=this,r=n.$(),i=r.after,a=r.before,o=r.end,s=r.start,u=i.split("\n").shift(),l=P(u),c=a.split("\n").pop(),f=P(c),h=/^\s+/.exec(c),d=h&&h[0]||"";return-1===e?n.select(s-f).insert("\n",1).push(d).insert(t,1,!1):1===e?n.select(o+l).insert("\n",-1).push(d).insert(t,1,!1):n.select(s-f,o+l).insert(t,e,!0).wrap(d,"")}),!a(e.peelLine)&&(e.peelLine=function(t,e,n,r){return void 0===r&&(r=!1),this.selectLine(r).peel(t,e,n)}),!a(e.prompt)&&(e.prompt=function(t,e,n){return a(n)&&n.call(this,!!lt.prompt&&lt.prompt(t,e))}),!a(e.selectLine)&&(e.selectLine=function(t){void 0===t&&(t=!0);var e,n=this,r=n.$(),i=r.after,a=r.before,o=r.end,s=r.start,u=i.split("\n").shift(),l=P(u),c=a.split("\n").pop(),f=P(c);if(n.select(s-f,o+l),!t){var h=n.$(),d=h.end,v=h.start,p=h.value;if(e=/^(\s+)?[\s\S]*?(\s+)?$/.exec(p))return n.select(v+P(e[1]||""),d-P(e[2]||""))}return n}),!a(e.toggle)&&(e.toggle=function(t,e,n){var r=this,i=r.$(),a=i.after,o=i.before,s=i.value,u=P(e),l=P(t);return n&&e===s.slice(-u)&&t===s.slice(0,l)||e===a.slice(0,u)&&t===o.slice(-l)?r.peel(t,e,n):r.wrap(t,e,n)}),!a(e.toggleLine)&&(e.toggleLine=function(t,e,n,r){void 0===r&&(r=!1);var i=this.selectLine(r),a=i.$();a.after,a.before;var o=a.value,s=P(e),u=P(t);if(!n&&e===o.slice(-s)&&t===o.slice(0,u)){var l=i.$(),c=l.end,f=l.start;i.select(f+u,c-s)}return i.toggle(t,e,n)}),!a(e.wrapLine)&&(e.wrapLine=function(t,e,n,r){return void 0===r&&(r=!1),this.selectLine(r).wrap(t,e,n)}),t.on("key.down",mo).on("put.down",go).record()},detach:function(){return this.off("key.down",mo).off("put.down",go)},name:"TextEditor.Source"};function ko(t){for(var e;e=Ya.instances.pop();)e.detach();var n,r,i,a=bt(".lot\\:field.type\\:source textarea");a&&P(a)&&a.forEach(function(t){var e;(n=new Ya(t,r=null!=(e=yt(t,"state"))?e:{})).command("pull",function(){return this.pull(),!1}),n.command("push",function(){return this.push(),!1}),n.key("Control-[","pull"),n.key("Control-]","push"),n.key("Escape",function(){var t=At(this.self,"[tabindex]:not(.not\\:active)");return!t||(t.focus({focusVisible:!0}),!1)}),"HTML"!==(i=r.type||t.form.elements["data[type]"]||t.form.elements["page[type]"]||t.form.elements["file[type]"]||"text/plain")&&"text/html"!==i||(n.command("blocks",function(){}),n.command("bold",function(){}),n.command("code",function(){}),n.command("image",function(){}),n.command("italic",function(){}),n.command("link",function(){}),n.command("quote",function(){}),n.command("underline",function(){}),n.key('Control-Shift-"',"quote"),n.key("Control-'","quote"),n.key("Control-b","bold"),n.key("Control-e","code"),n.key("Control-h","blocks"),n.key("Control-i","italic"),n.key("Control-l","link"),n.key("Control-o","image"),n.key("Control-u","underline")),Ya.instances.push(n)}),1===t&&lt._.on("change",ko)}Ya.instances=[],Ya.state.with.push(Za),Ya.state.with.push(lo),Ya.state.with.push(yo),lt.TextEditor=Ya;var _o=':scope>:where(.lot\\:file[tabindex],.lot\\:folder[tabindex]):not([tabindex="-1"]):not(.not\\:active)';function bo(t){var e,n,r,i=this,a=t.key;if(i===t.target){for(e=St(i);e&&Ft(e,"not:active");)e=St(e);for(n=Tt(i);n&&Ft(n,"not:active");)n=Tt(n);"ArrowDown"===a?(j(e),r=!0):"ArrowUp"===a?(j(n),r=!0):"End"===a?(j([].slice.call(bt(_o,At(i))).pop()),r=!0):"Home"===a&&(j(kt(_o,At(i))),r=!0),r&&(p(t),m(t))}}function wo(t){var e,n=this,r=t.key,i=t.altKey,a=t.ctrlKey,o=t.shiftKey;if(n===t.target){if(!i&&!a&&!o)"ArrowDown"===r||"Home"===r?(j(kt(_o,n)),e=!0):"ArrowUp"!==r&&"End"!==r||(j([].slice.call(bt(_o,n)).pop()),e=!0);e&&(p(t),m(t))}}var xo=':scope>ul>li>:where(a,button,input,select,textarea,[tabindex]):not(:disabled):not([tabindex="-1"]):not(.not\\:active)';function Eo(t){var e,n,r,i,a,o=this,s=t.key,u=t.altKey,l=t.ctrlKey,c=t.shiftKey;if((e=At(o,"[aria-orientation]"))&&(a="v"===(dt(e,"aria-orientation")||[""])[0]),!u&&!l&&!c){if(e=At(o)){for(n=St(e);n&&(Ft(n,"as:separator")||Ft(n,"not:active"));)n=St(n);for(r=Tt(e);r&&(Ft(r,"as:separator")||Ft(r,"not:active"));)r=Tt(r)}"Arrow"+(a?"Up":"Left")===s?(j(r&&vt(r)),i=!0):"Arrow"+(a?"Down":"Right")===s?(j(n&&vt(n)),i=!0):"End"===s?((e=At(o,".lot\\:links[tabindex]"))&&j([].slice.call(bt(xo,e)).pop()),i=!0):"Home"===s&&((e=At(o,".lot\\:links[tabindex]"))&&j(kt(xo,e)),i=!0)}i&&(p(t),m(t))}function So(t){var e,n,r=this,i=t.key,a=t.altKey,o=t.ctrlKey,s=t.shiftKey;r===t.target&&(n="v"===(dt(r,"aria-orientation")||[""])[0],a||o||s||("Arrow"+(n?"Down":"Right")===i||"Home"===i?(j(kt(xo,r)),e=!0):"Arrow"+(n?"Up":"Left")!==i&&"End"!==i||(j([].slice.call(bt(xo,r)).pop()),e=!0)),e&&(p(t),m(t)))}var Ao=":where(a,[tabindex]):not(.not\\:active)";function Po(t,e){bt(".lot\\:menu[tabindex].is\\:enter").forEach(function(n){t!==n&&(It(At(n),"is:active"),It(Tt(n),"is:active"),It(n,"is:enter"),e&&Gt(e,"aria-expanded","false"),lt._.fire("menu.exit",[],n))})}function To(){Po(0)}function Lo(t){p(t),m(t);var e=this,n=St(e);Po(n,e),lt.setTimeout(function(){he(n,"is:enter"),he(At(e),"is:active"),he(e,"is:active"),Gt(e,"aria-expanded",Ft(e,"is:active")?"true":"false"),lt._.fire("menu.enter",[],n)},1)}function Co(t){var e,n,r,i,a,o=this,s=t.key;if(n=At(o)){for(r=St(n);r&&(Ft(r,"as:separator")||Ft(r,"not:active"));)r=St(r);for(i=Tt(n);i&&(Ft(i,"as:separator")||Ft(i,"not:active"));)i=Tt(i)}"ArrowDown"===s?(j(r&&vt(r)),a=!0):"ArrowLeft"===s||"Escape"===s||"Tab"===s?((n=At(o,".lot\\:menu[tabindex].is\\:enter"))?(It(At(o),"is:active"),It(n,"is:enter"),It(o,"is:active"),Gt(Tt(n),"aria-expanded","false"),"Tab"!==s&&j(Tt(n))):"Escape"===s&&j(At(o,".lot\\:menu[tabindex]")),a="Tab"!==s):"ArrowRight"===s?((r=St(o))&&Ft(r,"lot:menu")&&(Gt(o,"aria-expanded","true"),Zt(At(o),"is:active"),Zt(r,"is:enter"),Zt(o,"is:active"),lt.setTimeout(function(){j(kt(Ao,r))},1)),a=!0):"ArrowUp"===s?((e=i&&vt(i))?j(e):(e=At(o,".lot\\:menu[tabindex].is\\:enter"))&&Ft(e,"level:1")&&(It(e,"is:enter"),(e=Tt(e))&&(It(e,"is:active"),It(At(e),"is:active"),Gt(e,"aria-expanded","false"),lt.setTimeout(function(){j(e)},1))),a=!0):"End"===s?((n=At(o,".lot\\:menu[tabindex]"))&&j([].slice.call(bt(Ao,n)).pop()),a=!0):"Home"===s&&((n=At(o,".lot\\:menu[tabindex]"))&&j(kt(Ao,n)),a=!0),a&&(p(t),m(t))}function $o(t){var e,n=this,r=t.key,i=t.altKey,a=t.ctrlKey,o=t.shiftKey;n===t.target&&(i||a||o||("ArrowDown"===r||"Home"===r?(j(kt(Ao,n)),e=!0):"ArrowUp"!==r&&"End"!==r||(j([].slice.call(bt(Ao,n)).pop()),e=!0)),e&&(p(t),m(t)))}function Ko(t){var e,n=this,r=t.key,i=St(n),a=At(n);i&&a&&Ft(i,"lot:menu")&&(" "===r||"Enter"===r||"Tab"===r?"Tab"===r?Ft(i,"is:enter")&&d("click",n):(d("click",n),lt.setTimeout(function(){j(kt(Ao,i))},1),e=!0):"ArrowDown"===r&&Ft(i,"level:1")&&(Gt(n,"aria-expanded","true"),Zt(At(n),"is:active"),Zt(i,"is:enter"),Zt(n,"is:active"),lt.setTimeout(function(){j(kt(Ao,i))},1),e=!0)),e&&(p(t),m(t))}var Do=':scope>ul>li>:where(a,button,input,select,textarea,[tabindex]):not(:disabled):not([tabindex="-1"]):not(.not\\:active)';function Ho(t){var e,n,r,i,a,o=this,s=t.key,u=t.altKey,l=t.ctrlKey,c=t.shiftKey;if((e=At(o,"[aria-orientation]"))&&(a="v"===(dt(e,"aria-orientation")||[""])[0]),!u&&!l&&!c){if(e=At(o)){for(n=St(e);n&&(Ft(n,"as:separator")||Ft(n,"not:active"));)n=St(n);for(r=Tt(e);r&&(Ft(r,"as:separator")||Ft(r,"not:active"));)r=Tt(r)}"Arrow"+(a?"Up":"Left")===s?(j(r&&vt(r)),i=!0):"Arrow"+(a?"Down":"Right")===s?(j(n&&vt(n)),i=!0):"End"===s?((e=At(o,".lot\\:menus[tabindex]"))&&j([].slice.call(bt(Do,e)).pop()),i=!0):"Home"===s&&((e=At(o,".lot\\:menus[tabindex]"))&&j(kt(Do,e)),i=!0)}i&&(p(t),m(t))}function Oo(t){var e,n,r=this,i=t.key,a=t.altKey,o=t.ctrlKey,s=t.shiftKey;r===t.target&&(n="v"===(dt(r,"aria-orientation")||[""])[0],a||o||s||("Arrow"+(n?"Down":"Right")===i||"Home"===i?(j(kt(Do,r)),e=!0):"Arrow"+(n?"Up":"Left")!==i&&"End"!==i||(j([].slice.call(bt(Do,r)).pop()),e=!0)),e&&(p(t),m(t)))}var Fo=':scope>.lot\\:page[tabindex]:not([tabindex="-1"]):not(.not\\:active)';function jo(t){var e,n,r,i=this,a=t.key;if(i===t.target){for(e=St(i);e&&Ft(e,"not:active");)e=St(e);for(n=Tt(i);n&&Ft(n,"not:active");)n=Tt(n);"ArrowDown"===a?(j(e),r=!0):"ArrowUp"===a?(j(n),r=!0):"End"===a?(j([].slice.call(bt(Fo,At(i))).pop()),r=!0):"Home"===a&&(j(kt(Fo,At(i))),r=!0),r&&(p(t),m(t))}}function Mo(t){var e,n=this,r=t.key,i=t.altKey,a=t.ctrlKey,o=t.shiftKey;n===t.target&&(i||a||o||("ArrowDown"===r||"Home"===r?(j(kt(Fo,n)),e=!0):"ArrowUp"!==r&&"End"!==r||(j([].slice.call(bt(Fo,n)).pop()),e=!0)),e&&(p(t),m(t)))}function Ro(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var zo,No={exports:{}};var Uo=(zo||(zo=1,"undefined"!=typeof self&&self,No.exports=function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,n){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(){function t(e){var n=this;if(r(this,t),this.config=t.mergeSettings(e),this.selector="string"==typeof this.config.selector?document.querySelector(this.config.selector):this.config.selector,null===this.selector)throw Error("Something wrong with your selector ");this.resolveSlidesNumber(),this.selectorWidth=this.selector.offsetWidth,this.innerElements=[].slice.call(this.selector.children),this.currentSlide=this.config.loop?this.config.startIndex%this.innerElements.length:Math.max(0,Math.min(this.config.startIndex,this.innerElements.length-this.perPage)),this.transformProperty=t.webkitOrNot(),["resizeHandler","touchstartHandler","touchendHandler","touchmoveHandler","mousedownHandler","mouseupHandler","mouseleaveHandler","mousemoveHandler","clickHandler"].forEach(function(t){n[t]=n[t].bind(n)}),this.init()}return a(t,[{key:"attachEvents",value:function(){window.addEventListener("resize",this.resizeHandler),this.config.draggable&&(this.pointerDown=!1,this.drag={startX:0,endX:0,startY:0,letItGo:null,preventClick:!1},this.selector.addEventListener("touchstart",this.touchstartHandler),this.selector.addEventListener("touchend",this.touchendHandler),this.selector.addEventListener("touchmove",this.touchmoveHandler),this.selector.addEventListener("mousedown",this.mousedownHandler),this.selector.addEventListener("mouseup",this.mouseupHandler),this.selector.addEventListener("mouseleave",this.mouseleaveHandler),this.selector.addEventListener("mousemove",this.mousemoveHandler),this.selector.addEventListener("click",this.clickHandler))}},{key:"detachEvents",value:function(){window.removeEventListener("resize",this.resizeHandler),this.selector.removeEventListener("touchstart",this.touchstartHandler),this.selector.removeEventListener("touchend",this.touchendHandler),this.selector.removeEventListener("touchmove",this.touchmoveHandler),this.selector.removeEventListener("mousedown",this.mousedownHandler),this.selector.removeEventListener("mouseup",this.mouseupHandler),this.selector.removeEventListener("mouseleave",this.mouseleaveHandler),this.selector.removeEventListener("mousemove",this.mousemoveHandler),this.selector.removeEventListener("click",this.clickHandler)}},{key:"init",value:function(){this.attachEvents(),this.selector.style.overflow="hidden",this.selector.style.direction=this.config.rtl?"rtl":"ltr",this.buildSliderFrame(),this.config.onInit.call(this)}},{key:"buildSliderFrame",value:function(){var t=this.selectorWidth/this.perPage,e=this.config.loop?this.innerElements.length+2*this.perPage:this.innerElements.length;this.sliderFrame=document.createElement("div"),this.sliderFrame.style.width=t*e+"px",this.enableTransition(),this.config.draggable&&(this.selector.style.cursor="-webkit-grab");var n=document.createDocumentFragment();if(this.config.loop)for(var r=this.innerElements.length-this.perPage;r<this.innerElements.length;r++){var i=this.buildSliderFrameItem(this.innerElements[r].cloneNode(!0));n.appendChild(i)}for(var a=0;a<this.innerElements.length;a++){var o=this.buildSliderFrameItem(this.innerElements[a]);n.appendChild(o)}if(this.config.loop)for(var s=0;s<this.perPage;s++){var u=this.buildSliderFrameItem(this.innerElements[s].cloneNode(!0));n.appendChild(u)}this.sliderFrame.appendChild(n),this.selector.innerHTML="",this.selector.appendChild(this.sliderFrame),this.slideToCurrent()}},{key:"buildSliderFrameItem",value:function(t){var e=document.createElement("div");return e.style.cssFloat=this.config.rtl?"right":"left",e.style.float=this.config.rtl?"right":"left",e.style.width=(this.config.loop?100/(this.innerElements.length+2*this.perPage):100/this.innerElements.length)+"%",e.appendChild(t),e}},{key:"resolveSlidesNumber",value:function(){if("number"==typeof this.config.perPage)this.perPage=this.config.perPage;else if("object"===i(this.config.perPage))for(var t in this.perPage=1,this.config.perPage)window.innerWidth>=t&&(this.perPage=this.config.perPage[t])}},{key:"prev",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments[1];if(!(this.innerElements.length<=this.perPage)){var n=this.currentSlide;if(this.config.loop)if(this.currentSlide-t<0){this.disableTransition();var r=this.currentSlide+this.innerElements.length,i=r+this.perPage,a=(this.config.rtl?1:-1)*i*(this.selectorWidth/this.perPage),o=this.config.draggable?this.drag.endX-this.drag.startX:0;this.sliderFrame.style[this.transformProperty]="translate3d("+(a+o)+"px, 0, 0)",this.currentSlide=r-t}else this.currentSlide=this.currentSlide-t;else this.currentSlide=Math.max(this.currentSlide-t,0);n!==this.currentSlide&&(this.slideToCurrent(this.config.loop),this.config.onChange.call(this),e&&e.call(this))}}},{key:"next",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments[1];if(!(this.innerElements.length<=this.perPage)){var n=this.currentSlide;if(this.config.loop)if(this.currentSlide+t>this.innerElements.length-this.perPage){this.disableTransition();var r=this.currentSlide-this.innerElements.length,i=r+this.perPage,a=(this.config.rtl?1:-1)*i*(this.selectorWidth/this.perPage),o=this.config.draggable?this.drag.endX-this.drag.startX:0;this.sliderFrame.style[this.transformProperty]="translate3d("+(a+o)+"px, 0, 0)",this.currentSlide=r+t}else this.currentSlide=this.currentSlide+t;else this.currentSlide=Math.min(this.currentSlide+t,this.innerElements.length-this.perPage);n!==this.currentSlide&&(this.slideToCurrent(this.config.loop),this.config.onChange.call(this),e&&e.call(this))}}},{key:"disableTransition",value:function(){this.sliderFrame.style.webkitTransition="all 0ms "+this.config.easing,this.sliderFrame.style.transition="all 0ms "+this.config.easing}},{key:"enableTransition",value:function(){this.sliderFrame.style.webkitTransition="all "+this.config.duration+"ms "+this.config.easing,this.sliderFrame.style.transition="all "+this.config.duration+"ms "+this.config.easing}},{key:"goTo",value:function(t,e){if(!(this.innerElements.length<=this.perPage)){var n=this.currentSlide;this.currentSlide=this.config.loop?t%this.innerElements.length:Math.min(Math.max(t,0),this.innerElements.length-this.perPage),n!==this.currentSlide&&(this.slideToCurrent(),this.config.onChange.call(this),e&&e.call(this))}}},{key:"slideToCurrent",value:function(t){var e=this,n=this.config.loop?this.currentSlide+this.perPage:this.currentSlide,r=(this.config.rtl?1:-1)*n*(this.selectorWidth/this.perPage);t?requestAnimationFrame(function(){requestAnimationFrame(function(){e.enableTransition(),e.sliderFrame.style[e.transformProperty]="translate3d("+r+"px, 0, 0)"})}):this.sliderFrame.style[this.transformProperty]="translate3d("+r+"px, 0, 0)"}},{key:"updateAfterDrag",value:function(){var t=(this.config.rtl?-1:1)*(this.drag.endX-this.drag.startX),e=Math.abs(t),n=this.config.multipleDrag?Math.ceil(e/(this.selectorWidth/this.perPage)):1,r=t>0&&this.currentSlide-n<0,i=t<0&&this.currentSlide+n>this.innerElements.length-this.perPage;t>0&&e>this.config.threshold&&this.innerElements.length>this.perPage?this.prev(n):t<0&&e>this.config.threshold&&this.innerElements.length>this.perPage&&this.next(n),this.slideToCurrent(r||i)}},{key:"resizeHandler",value:function(){this.resolveSlidesNumber(),this.currentSlide+this.perPage>this.innerElements.length&&(this.currentSlide=this.innerElements.length<=this.perPage?0:this.innerElements.length-this.perPage),this.selectorWidth=this.selector.offsetWidth,this.buildSliderFrame()}},{key:"clearDrag",value:function(){this.drag={startX:0,endX:0,startY:0,letItGo:null,preventClick:this.drag.preventClick}}},{key:"touchstartHandler",value:function(t){-1!==["TEXTAREA","OPTION","INPUT","SELECT"].indexOf(t.target.nodeName)||(t.stopPropagation(),this.pointerDown=!0,this.drag.startX=t.touches[0].pageX,this.drag.startY=t.touches[0].pageY)}},{key:"touchendHandler",value:function(t){t.stopPropagation(),this.pointerDown=!1,this.enableTransition(),this.drag.endX&&this.updateAfterDrag(),this.clearDrag()}},{key:"touchmoveHandler",value:function(t){if(t.stopPropagation(),null===this.drag.letItGo&&(this.drag.letItGo=Math.abs(this.drag.startY-t.touches[0].pageY)<Math.abs(this.drag.startX-t.touches[0].pageX)),this.pointerDown&&this.drag.letItGo){t.preventDefault(),this.drag.endX=t.touches[0].pageX,this.sliderFrame.style.webkitTransition="all 0ms "+this.config.easing,this.sliderFrame.style.transition="all 0ms "+this.config.easing;var e=(this.config.loop?this.currentSlide+this.perPage:this.currentSlide)*(this.selectorWidth/this.perPage),n=this.drag.endX-this.drag.startX,r=this.config.rtl?e+n:e-n;this.sliderFrame.style[this.transformProperty]="translate3d("+(this.config.rtl?1:-1)*r+"px, 0, 0)"}}},{key:"mousedownHandler",value:function(t){-1!==["TEXTAREA","OPTION","INPUT","SELECT"].indexOf(t.target.nodeName)||(t.preventDefault(),t.stopPropagation(),this.pointerDown=!0,this.drag.startX=t.pageX)}},{key:"mouseupHandler",value:function(t){t.stopPropagation(),this.pointerDown=!1,this.selector.style.cursor="-webkit-grab",this.enableTransition(),this.drag.endX&&this.updateAfterDrag(),this.clearDrag()}},{key:"mousemoveHandler",value:function(t){if(t.preventDefault(),this.pointerDown){"A"===t.target.nodeName&&(this.drag.preventClick=!0),this.drag.endX=t.pageX,this.selector.style.cursor="-webkit-grabbing",this.sliderFrame.style.webkitTransition="all 0ms "+this.config.easing,this.sliderFrame.style.transition="all 0ms "+this.config.easing;var e=(this.config.loop?this.currentSlide+this.perPage:this.currentSlide)*(this.selectorWidth/this.perPage),n=this.drag.endX-this.drag.startX,r=this.config.rtl?e+n:e-n;this.sliderFrame.style[this.transformProperty]="translate3d("+(this.config.rtl?1:-1)*r+"px, 0, 0)"}}},{key:"mouseleaveHandler",value:function(t){this.pointerDown&&(this.pointerDown=!1,this.selector.style.cursor="-webkit-grab",this.drag.endX=t.pageX,this.drag.preventClick=!1,this.enableTransition(),this.updateAfterDrag(),this.clearDrag())}},{key:"clickHandler",value:function(t){this.drag.preventClick&&t.preventDefault(),this.drag.preventClick=!1}},{key:"remove",value:function(t,e){if(t<0||t>=this.innerElements.length)throw Error("Item to remove doesn't exist ");var n=t<this.currentSlide,r=this.currentSlide+this.perPage-1===t;(n||r)&&this.currentSlide--,this.innerElements.splice(t,1),this.buildSliderFrame(),e&&e.call(this)}},{key:"insert",value:function(t,e,n){if(e<0||e>this.innerElements.length+1)throw Error("Unable to inset it at this index ");if(-1!==this.innerElements.indexOf(t))throw Error("The same item in a carousel? Really? Nope ");var r=e<=this.currentSlide>0&&this.innerElements.length;this.currentSlide=r?this.currentSlide+1:this.currentSlide,this.innerElements.splice(e,0,t),this.buildSliderFrame(),n&&n.call(this)}},{key:"prepend",value:function(t,e){this.insert(t,0),e&&e.call(this)}},{key:"append",value:function(t,e){this.insert(t,this.innerElements.length+1),e&&e.call(this)}},{key:"destroy",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments[1];if(this.detachEvents(),this.selector.style.cursor="auto",t){for(var n=document.createDocumentFragment(),r=0;r<this.innerElements.length;r++)n.appendChild(this.innerElements[r]);this.selector.innerHTML="",this.selector.appendChild(n),this.selector.removeAttribute("style")}e&&e.call(this)}}],[{key:"mergeSettings",value:function(t){var e={selector:".siema",duration:200,easing:"ease-out",perPage:1,startIndex:0,draggable:!0,multipleDrag:!0,threshold:20,loop:!1,rtl:!1,onInit:function(){},onChange:function(){}},n=t;for(var r in n)e[r]=n[r];return e}},{key:"webkitOrNot",value:function(){return"string"==typeof document.documentElement.style.transform?"transform":"WebkitTransform"}}]),t}();e.default=o,t.exports=e.default}])),No.exports),Xo=Ro(Uo);Xo.instances=[];function Io(){lt.clearInterval(this._[0])}function Wo(){Io.call(this)}lt.Siema=Xo;var qo='a[target^="stack:"]:not(.not\\:active)';function Bo(t){var e,n,r=this,i=At(At(r)),a=At(i,".lot\\:stacks"),o=r._[0].name;if(!Ft(i,"has:link")){r._[2].forEach(function(t){t!==i&&(It(e=kt('a[target^="stack:"]',t),"is:current"),It(t,"is:current"),Gt(e,"aria-expanded","false"))}),Ft(i,"can:toggle")?(Gt(r,"aria-expanded",dt(r,"aria-expanded")?"false":"true"),he(i,"is:current"),he(r,"is:current")):(Gt(r,"aria-expanded","true"),Zt(i,"is:current"),Zt(r,"is:current")),e=Ft(r,"is:current"),r._[0].value=n=e?yt(i,"value"):null,he(a,"has:current",e);var s=pe.pathname,u=pe.search,l=k(u),c=k(o+"="+n);l=b(l,c.query||{}),null===n&&(l=z(l)),de.replaceState({},"",s+(!1!==l?D(l):"")),lt._.fire("change.stack",[n,o],i),p(t)}}function Yo(t){var e,n,r,i,a,o=this,s=t.key,u=t.altKey,l=t.ctrlKey;if(!u&&!l)if("ArrowDown"===s||"ArrowRight"===s||"PageDown"===s){if(r=At(At(o)))for(n=St(r);n&&Ft(n,"not:active");)n=St(n);(e=n&&vt(n))&&("ArrowRight"===s&&Ft(At(e),"can:toggle")||d("click",vt(e)),j(vt(e))),a=!0}else if("ArrowUp"===s||"ArrowLeft"===s||"PageUp"===s){if(r=At(At(o)))for(i=Tt(r);i&&Ft(i,"not:active");)i=Tt(i);(e=i&&vt(i))&&("ArrowLeft"===s&&Ft(At(e),"can:toggle")||d("click",vt(e)),j(vt(e))),a=!0}else" "===s||"Enter"===s?(Ft(At(At(o)),"can:toggle")&&(d("click",o),j(o)),a=!0):"End"===s?((r=At(o,".lot\\:stacks[tabindex]"))&&(e=[].slice.call(bt(qo,r)).pop())&&(d("click",e),j(e)),a=!0):"Home"===s&&((r=At(o,".lot\\:stacks[tabindex]"))&&(e=kt(qo,r))&&(d("click",e),j(e)),a=!0);a&&(p(t),m(t))}function Vo(t){var e,n,r,i,a=this,o=t.key,s=t.altKey,u=t.ctrlKey,l=t.shiftKey;if(s&&u&&!l)e=(e=kt(qo+".is\\:current",a))&&At(At(e)),"PageDown"===o?((e=(n=e&&St(e))&&kt(qo,n))&&(d("click",e),j(e)),i=!0):"PageUp"===o&&((e=(r=e&&Tt(e))&&kt(qo,r))&&(d("click",e),j(e)),i=!0);else if(!s&&!u&&!l){if(a!==t.target)return;"ArrowDown"===o||"ArrowRight"===o||"Home"===o||"PageDown"===o?((e=kt(qo,a))&&(d("click",e),j(e)),i=!0):"ArrowUp"!==o&&"ArrowLeft"!==o&&"End"!==o&&"PageUp"!==o||((e=[].slice.call(bt(qo,a)).pop())&&(d("click",e),j(e)),i=!0)}i&&(p(t),m(t))}var Go='a[target^="tab:"]:not(.not\\:active)';function Jo(t){var e,n,r=this,i=r._[2][r._[1]],a=At(r),o=At(a,".lot\\:tabs"),s=r._[0].name;if(!Ft(a,"has:link")){if(r._[3].forEach(function(t){if(t!==r){It(At(t),"is:current"),It(t,"is:current"),Gt(t,"aria-selected","false"),Gt(t,"tabindex","-1");var e=r._[2][t._[1]];e&&It(e,"is:current")}}),Ft(a,"can:toggle")?(he(a,"is:current"),he(r,"is:current"),Gt(r,"aria-selected",Ft(r,"is:current")?"true":"false"),Gt(r,"tabindex",Ft(r,"is:current")?"0":"-1")):(Zt(a,"is:current"),Zt(r,"is:current"),Gt(r,"aria-selected","true"),Gt(r,"tabindex","0")),e=Ft(r,"is:current"),i){r._[0].value=n=e?yt(r,"value"):null,he(i,"is:current",e),he(o,"has:current",e);var u=pe.pathname,l=pe.search,c=k(l),f=k(s+"="+n);c=b(c,f.query||{}),null===n&&(c=z(c)),de.replaceState({},"",u+(!1!==c?D(c):"")),lt._.fire("change.tab",[n,s],i)}p(t)}}function Qo(t){var e,n,r,i,a,o=this,s=t.key,u=t.altKey,l=t.ctrlKey;if(!u&&!l)if("ArrowDown"===s){if(Ft(o,"can:toggle")&&!Ft(o,"is:current"))e=o;else{if(r=At(o))for(n=St(r);n&&Ft(n,"not:active");)n=St(n);e=n&&vt(n)}e&&(d("click",e),j(e)),a=!0}else if("ArrowLeft"===s||"PageUp"===s){if(r=At(o))for(i=Tt(r);i&&Ft(i,"not:active");)i=Tt(i);(e=i&&vt(i))&&(d("click",e),j(e)),a=!0}else if("ArrowRight"===s||"PageDown"===s){if(r=At(o))for(n=St(r);n&&Ft(n,"not:active");)n=St(n);(e=n&&vt(n))&&(d("click",e),j(e)),a=!0}else if("ArrowUp"===s){if(Ft(o,"can:toggle")&&Ft(o,"is:current"))e=o;else{if(r=At(o))for(i=Tt(r);i&&Ft(i,"not:active");)i=Tt(i);e=i&&vt(i)}e&&(d("click",e),j(e)),a=!0}else" "===s||"Enter"===s?(Ft(o,"can:toggle")&&(d("click",o),j(o)),a=!0):"End"===s?((r=At(o,".lot\\:tabs[tabindex]"))&&(e=[].slice.call(bt(Go,r)).pop())&&(d("click",e),j(e)),a=!0):"Home"===s&&((r=At(o,".lot\\:tabs[tabindex]"))&&(e=kt(Go,r))&&(d("click",e),j(e)),a=!0);a&&(p(t),m(t))}function Zo(t){var e,n,r,i,a=this,o=t.key,s=t.altKey,u=t.ctrlKey,l=t.shiftKey;if(s&&u&&!l)e=(e=kt(Go+".is\\:current",a))&&At(e),"PageDown"===o?((e=(n=e&&St(e))&&vt(n))&&(d("click",e),j(e)),i=!0):"PageUp"===o&&((e=(r=e&&Tt(e))&&vt(r))&&(d("click",e),j(e)),i=!0);else if(!s&&!u&&!l){if(a!==t.target)return;"ArrowDown"===o||"ArrowRight"===o||"PageDown"===o||"ArrowUp"===o||"ArrowLeft"===o||"PageUp"===o?((e=kt(Go+".is\\:current",a))&&(d("click",e),j(e)),i=!0):"Home"===o?((e=kt(Go,a))&&(d("click",e),j(e)),i=!0):"End"===o&&((e=[].slice.call(bt(Go,a)).pop())&&(d("click",e),j(e)),i=!0)}i&&(p(t),m(t))}var ts=':scope>:where(a,button,input,select,textarea,[tabindex]):not(:disabled):not([tabindex="-1"]):not(.not\\:active)';function es(t){var e,n,r,i,a,o=this,s=t.key,u=t.altKey,l=t.ctrlKey,c=t.shiftKey;if(!u&&!l&&!c){for(r=St(o);r&&Ft(r,"not:active");)r=St(r);for(i=Tt(o);i&&Ft(i,"not:active");)i=Tt(i);"ArrowLeft"===s?(a=!(Mt(o,"selectionStart")&&0!==o.selectionStart))&&(j(i),M(i)):"ArrowRight"===s?(a=!(Mt(o,"selectionEnd")&&o.selectionEnd<P(o.value||"")))&&(j(r),M(r)):"End"===s?(a=!(Mt(o,"selectionEnd")&&P(o.value||"")))&&(n=At(o,".lot\\:tasks[tabindex]"))&&(e=[].slice.call(bt(ts,n)).pop())&&(j(e),M(e)):"Home"===s&&(a=!(Mt(o,"selectionStart")&&P(o.value||"")))&&(n=At(o,".lot\\:tasks[tabindex]"))&&(e=kt(ts,n))&&(j(e),M(e))}a&&(p(t),m(t))}function ns(t){var e,n,r=this,i=t.key,a=t.altKey,o=t.ctrlKey,s=t.shiftKey;r===t.target&&(a||o||s||("ArrowLeft"===i||"End"===i?((e=[].slice.call(bt(ts,r)).pop())&&(j(e),M(e)),n=!0):"ArrowRight"!==i&&"Home"!==i||((e=kt(ts,r))&&(j(e),M(e)),n=!0)),n&&(p(t),m(t)))}to.instances=[];var rs=un(function(t){return t.pull()},1e3),is=e(n,rs,1)[0],as=new to(lt);to.instances.push(as),as.keys.Escape=function(){var t=ut.activeElement,e=t&&At(At(t),"[tabindex]:not(.not\\:active)");return e&&e.focus({focusVisible:!0}),!e},as.keys.F3=function(){var t,e=(t="get",ut.forms[t]||null),n=e&&e.query;return n&&n.focus(),!1},as.keys.F10=function(){var t,e=kt(".lot\\:bar a:any-link");return e&&(e.focus(),(t=At(e))&&Ft(t,"has:menu")&&e.click()),!1},g("blur",lt,function(t){this._event=t,as.pull()}),g("keydown",lt,function(t){this._event=t,as.push(t.key);var e=as.command();if(e){var n=as.fire(e);!1===n?(p(t),m(t)):null===n&&console.error("Unknown command:",e)}is(as)}),g("keyup",lt,function(t){this._event=t,as.pull(t.key)});var os={commands:as.commands,keys:as.keys};fn(os),lt.Key=to,lt._=os,g("beforeload",ut,function(){return os.fire("let")}),g("load",ut,function(){return os.fire("get")}),g("DOMContentLoaded",ut,function(){return os.fire("set")}),function t(e){var n=bt(".lot\\:bar[tabindex]");n&&P(n)&&n.forEach(function(t){bt(me,t).forEach(function(t){R("keydown",t,ye)}),R("keydown",t,ge)}),1===e&&lt._.on("change",t)}(1),lt._.dialog=Se,ki(1),za(1),ko(1),function t(e){var n=bt(":where(.lot\\:files,.lot\\:folders)[tabindex]");n&&P(n)&&n.forEach(function(t){bt(_o,t).forEach(function(t){R("keydown",t,bo)}),R("keydown",t,wo)}),1===e&&lt._.on("change",t)}(1),function t(e){var n=bt(".lot\\:links[tabindex]");n&&P(n)&&n.forEach(function(t){var e=bt(xo,t);e&&P(e)&&e.forEach(function(t){R("keydown",t,Eo)}),R("keydown",t,So)}),1===e&&lt._.on("change",t)}(1),function t(e){var n=bt(".has\\:menu"),r=bt(".lot\\:menu[tabindex]>ul>li>"+Ao);n&&P(n)&&(n.forEach(function(t){var e=kt(".lot\\:menu[tabindex]",t),n=Tt(e);e&&n&&(R("click",n,Lo),R("keydown",n,Ko))}),R("click",ut,To)),r&&P(r)&&r.forEach(function(t){R("keydown",t,Co)});var i=bt(".lot\\:menu[tabindex]");i&&P(i)&&i.forEach(function(t){R("keydown",t,$o)}),1===e&&lt._.on("change",t)}(1),function t(e){var n=bt(".lot\\:menus[tabindex]");n&&P(n)&&n.forEach(function(t){var e=bt(Do,t);e&&P(e)&&e.forEach(function(t){R("keydown",t,Ho)}),R("keydown",t,Oo)}),1===e&&lt._.on("change",t)}(1),function t(e){var n=bt(".lot\\:pages[tabindex]");n&&P(n)&&n.forEach(function(t){bt(Fo,t).forEach(function(t){R("keydown",t,jo)}),R("keydown",t,Mo)}),1===e&&lt._.on("change",t)}(1),function(){for(var t;t=Xo.instances.pop();)t.destroy();var e=bt(".siema");e&&P(e)&&e.forEach(function(t){var e=new Xo({duration:600,loop:!0,selector:t});t._=t._||{},t._[0]=lt.setInterval(function(){return e.next()},5e3),R("mousedown",t,Io),R("touchstart",t,Wo),Xo.instances.push(e)}),_.on("change.stack",function(){return d("resize",lt)}),_.on("change.tab",function(){return d("resize",lt)})}(),function t(e){var n=bt(".lot\\:stacks[tabindex]");n&&P(n)&&n.forEach(function(t){var e,n,r,i=[].slice.call(mt(t)).filter(function(t){return Ft(t,"lot:stack")}),a=re("input");a.type="hidden",a.name=n=yt(t,"name"),n&&(bt('input[name="'+n+'"]',t).forEach(function(t){return Bt(t)}),Qt(t,a)),i.forEach(function(t,e){(r=kt(qo,t))&&(r._=r._||{},r._[0]=a,r._[1]=e,r._[2]=i,R("click",r,Bo),R("keydown",r,Yo))}),(e=i.find(function(t,e){return 0!==e&&Ft(t,"is:current")}))&&(a.value=yt(e,"value")),R("keydown",t,Vo)}),1===e&&lt._.on("change",t)}(1),function t(e){var n=bt(".lot\\:tabs[tabindex]");n&&P(n)&&n.forEach(function(t){var e,n,r=[].slice.call(mt(t)),i=[].slice.call(bt(Go,r.shift())),a=re("input");a.type="hidden",a.name=n=yt(t,"name"),n&&(bt('input[name="'+n+'"]',t).forEach(function(t){return Bt(t)}),Qt(t,a)),i.forEach(function(t,e){t._=t._||{},t._[0]=a,t._[1]=e,t._[2]=r,t._[3]=i,R("click",t,Jo),R("keydown",t,Qo)}),(e=i.find(function(t,e){return 0!==e&&Ft(At(t),"is:current")}))&&(a.value=yt(e,"value")),R("keydown",t,Zo)}),1===e&&lt._.on("change",t)}(1),function t(e){var n=bt(".lot\\:tasks[tabindex]");n&&P(n)&&n.forEach(function(t){var e=bt(ts,t);e&&P(e)&&e.forEach(function(t){R("keydown",t,es)}),R("keydown",t,ns)}),1===e&&lt._.on("change",t)}(1)}();