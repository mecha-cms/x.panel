!function(){"use strict";var e=function(e,t){return-1!==t.indexOf(e)},t=function(e){return Array.isArray(e)},r=function(e){return"function"==typeof e},n=function(e,t){return e&&s(t)&&e instanceof t},i=function(e){return"number"==typeof e},o=function(e,t){return void 0===t&&(t=!0),"object"==typeof e&&(!t||n(e,Object))},s=function(e){return function(e){return void 0!==e}(e)&&!function(e){return null===e}(e)},a=function(e){return"string"==typeof e},c=function(e,t){var r=t.indexOf(e);return-1!==r?r:null},l=function(e){return e.replace(/[-_.](\w)/g,(function(e,t){return f(t)}))},u=function(e){return e.toLowerCase()},f=function(e){return e.toUpperCase()},h=function(e){return e.length},d=function(e,t){return s(t[0])&&e<t[0]?t[0]:s(t[1])&&e>t[1]?t[1]:e},p=function(e,t){return void 0===t&&(t=10),t?parseInt(e,t):parseFloat(e)},v=function(e){return h(g(e))},g=function(e){return Object.keys(e)},m=function e(r){if(t(r))return r.map((function(t){return e(t)}));if(function(e){return/^-?(?:\d*.)?\d+$/.test(e+"")}(r))return p(r);if(o(r)){for(var n in r)r[n]=e(r[n]);return r}return"false"!==r&&("null"===r?null:"true"===r||r)},y=function(e){return e.replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;")},b=function r(){for(var n=arguments.length,i=Array(n),a=0;a<n;a++)i[a]=arguments[a];for(var c=i.shift(),l=0,u=h(i);l<u;++l)for(var f in i[l])if(s(c[f]))if(t(c[f])&&t(i[l][f])){c[f]=[].concat(c[f]);for(var d=0,p=h(i[l][f]);d<p;++d)e(i[l][f][d],c[f])||c[f].push(i[l][f][d])}else o(c[f])&&o(i[l][f])?c[f]=r({},c[f],i[l][f]):c[f]=i[l][f];else c[f]=i[l][f];return c},k=function e(r){if(t(r))return r.map((function(t){return e(r)}));if(o(r)){for(var n in r)r[n]=e(r[n]);return r}return!1===r?"false":null===r?"null":!0===r?"true":""+r},w=document,E=window,x=w.body,S=w.documentElement,P=function(e,t,r){if(void 0===r&&(r=!0),!W(e,t))return null;var n=e.getAttribute(t);return r?m(n):n},T=function(e){return e.firstElementChild||null},A=function(e,t){var r=e.children;return i(t)?r[t]||null:r||[]},$=function(e,t){void 0===t&&(t=!0);var r=(F(e,"className")||"").trim();return t?r.split(/\s+/).filter((function(e){return""!==e})):r},L=function(e,t,r){void 0===r&&(r=!0);var n=P(e,"data-"+t,r),i=(n+"").trim();return r&&i&&("["===i[0]&&"]"===i.slice(-1)||"{"===i[0]&&"}"===i.slice(-1))&&null!==(i=function(e){var t=null;try{t=JSON.parse(e)}catch(e){}return t}(n))?i:n},H=function(e,t){return(t||w).querySelector(e)},C=function(e,t){return(t||w).querySelectorAll(e)},K=function(e,t){void 0===t&&(t=!0);var r="innerHTML";if(!N(e,r))return!1;var n=e[r];return""!==(n=t?n.trim():n)?n:null},D=function(e){return u(e&&e.nodeName||"")||null},q=function(e,t){return e["next"+(t?"":"Element")+"Sibling"]||null},O=function(e,t){return t?e.closest(t)||null:e.parentNode||null},M=function(e,t){return e["previous"+(t?"":"Element")+"Sibling"]||null},X=function(e,t,r){void 0===r&&(r=!0);var n=E.getComputedStyle(e).getPropertyValue(t);return r&&(n=m(n)),n||""===n||0===n?n:null},F=function(e,t){return N(e,t)&&e[t]||null},R=function(e,t){void 0===t&&(t=!0);var r="textContent";if(!N(e,r))return!1;var n=e[r];return""!==(n=t?n.trim():n)?n:null},W=function(e,t){return e.hasAttribute(t)},I=function(e,t){return e.classList.contains(t)},U=function(e,t){return null!==O(e,t)},N=function(e,t){return t in e},z=function(e){return e===E},Y=function(e,t){return e.removeAttribute(t),e},B=function(e,t){return e.classList.remove(t),e},G=function(e,r){if(t(r))return r.forEach((function(t){return e.classList.remove(t)})),e;if(o(r)){for(var n in r)r[n]&&e.classList.remove(n);return e}return e.className="",e},V=function(e,t){return Y(e,"data-"+t)},J=function(e){var t=O(e);return e.remove(),t},Q=function(e,t){return e.style[l(t)]=null,e},Z=function(e,t,r){return!0===r&&(r=t),e.setAttribute(t,k(r)),e},ee=function(e,t){return e.append(t),t},te=function(e,t){return e.classList.add(t),e},re=function(e,r){if(t(r))return r.forEach((function(t){return e.classList.add(t)})),e;if(o(r))for(var n in r)r[n]?e.classList.add(n):e.classList.remove(n);return e.className=r,e},ne=function(e,r,n){return(t(n)||o(n))&&(n=function(e){return JSON.stringify(e)}(n)),Z(e,"data-"+r,n)},ie=function(e,t,r){return e=a(e)?w.createElement(e):e,o(t)&&(r=t,t=!1),a(t)&&oe(e,t),o(r)&&function(e,t){var r;for(var n in t)(r=t[n])||""===r||0===r?Z(e,n,r):Y(e,n)}(e,r),e},oe=function(e,t,r){if(void 0===r&&(r=!0),null===t)return e;var n="innerHTML";return N(e,n)&&(e[n]=r?t.trim():t),e},se=function(e,t){return O(e).insertBefore(t,q(e,!0)),t},ae=function(e,t){return O(e).insertBefore(t,e),t},ce=function(e,t,r){return i(r)&&(r+="px"),e.style[l(t)]=k(r),e},le=function(e,t){var r;for(var n in t)(r=t[n])||""===r||0===r?ce(e,n,r):Q(e,n);return e},ue=function(e,t,r){if(void 0===r&&(r=!0),null===t)return e;var n="textContent";return N(e,n)&&(e[n]=r?t.trim():t),e},fe=function(e,t,r){return e.classList.toggle(t,r),e},he=E.location,de={},pe=function(e,t,r,n){t.dispatchEvent(function(e,t,r){return r&&s(de[e])?de[e]:de[e]=new Event(e,t)}(e,r,n))},ve=function(e,t,r){t.removeEventListener(e,r)},ge=function(e){return e&&e.preventDefault()},me=function(e){return e&&e.stopPropagation()},ye=function(e,t,r){e.forEach((function(e){return ve(e,t,r)}))},be=function(e,t,r,n){void 0===n&&(n=!1),t.addEventListener(e,r,n)},ke=function(e,t,r,n){void 0===n&&(n=!1),e.forEach((function(e){return be(e,t,r,n)}))},we=":scope>[tabindex]:not(.not\\:active)";function Ee(e){e&&r(e.focus)&&e.focus()}function xe(e){if(!e.defaultPrevented){var t,r=this,n=e.key,i=e.altKey,o=e.ctrlKey,s=e.shiftKey;if(r===e.target){if(!i&&!o&&!s)"ArrowLeft"===n||"End"===n?(Ee([].slice.call(C(we,r)).pop()),t=!0):"ArrowRight"!==n&&"Home"!==n||(Ee(H(we,r)),t=!0);t&&(ge(e),me(e))}}}function Se(e){if(!e.defaultPrevented){var t,r,n,i=this,o=e.key;if(i===e.target){for(t=q(i);t&&I(t,"not:active");)t=q(t);for(r=M(i);r&&I(r,"not:active");)r=M(r);"ArrowLeft"===o?(Ee(r),n=!0):"ArrowRight"===o?(Ee(t),n=!0):"End"===o?(Ee([].slice.call(C(we,O(i))).pop()),n=!0):"Home"===o&&(Ee(H(we,O(i))),n=!0),n&&(ge(e),me(e))}}}var Pe=ie("dialog"),Te=ie("form","",{method:"dialog"}),Ae=ie("div");function $e(e){var t=this;ve("cancel",t,$e),ve("close",t,Le),ve("submit",t,He),t.x(m(t.returnValue)),r(t.c)&&t.c.call(t,t.open)}function Le(e){var t=this;ve("cancel",t,$e),ve("close",t,Le),ve("submit",t,He),t.v(m(t.returnValue)),r(t.c)&&t.c.call(t,t.open)}function He(e){Le.call(this,e)}function Ce(e,t){var i;for(oe(Te,""),a(e)?(oe(Ae,e.trim()),e=Ae.childNodes):function(e){return n(e,Node)}(e)&&(e=[e]),e=Array.from(e);i=e.shift();)ee(Te,i);Pe.showModal(),Pe.returnValue=null,r(t)&&t.call(Pe,Pe.open);var o=H("[autofocus]",Te);return o&&(r(o.focus)&&o.focus(),r(o.select)&&o.select()),new Promise((function(e,r){Pe.c=t,Pe.v=e,Pe.x=r,be("cancel",Pe,$e),be("close",Pe,Le),be("submit",Pe,He)}))}function _e(){var e=this,t=O(e.form);t.returnValue=e.value,pe("reset"===e.type?"cancel":"close",t),t.open&&t.close()}function Ke(e){var t,r,n=e.key;"ArrowLeft"===n||"ArrowUp"===n?((r=M(this))&&r.focus(),ge(e)):"ArrowDown"!==n&&"ArrowRight"!==n||((t=q(this))&&t.focus(),ge(e))}ee(x,Pe),ee(Pe,Te);var De=ie("p"),qe=ie("p","",{role:"group"}),Oe=ie("button","OK",{type:"submit",value:"true"});be("keydown",Oe,Ke),be("click",Oe,_e),ee(qe,Oe),Ce.alert=function(e){return oe(De,e),Ce([De,qe])};var Me=ie("p"),Xe=ie("p","",{role:"group"}),Fe=ie("button","OK",{type:"submit",value:"true"}),Re=ie("button","Cancel",{type:"reset",value:"false"});be("click",Re,_e),be("click",Fe,_e),be("keydown",Re,Ke),be("keydown",Fe,Ke),ee(Xe,Fe),ee(Xe,Re),Ce.confirm=function(e){return oe(Me,e),Ce([Me,Xe])};var je=ie("p"),We=ie("input",!1,{autofocus:!0,type:"text"}),Ie=ie("p"),Ue=ie("p","",{role:"group"}),Ne=ie("button","OK",{type:"submit",value:""}),ze=ie("button","Cancel",{type:"reset",value:"false"});function Ye(){Ne.value=this.value}be("click",ze,_e),be("click",Ne,_e),be("input",We,Ye),be("keydown",ze,Ke),be("keydown",Ne,Ke),be("keyup",We,Ye),ee(Ue,Ne),ee(Ue,ze),ee(Ie,We),Ce.prompt=function(e,t){return oe(je,e),We.value=Ne.value=t,Ce([je,Ie,Ue])};var Be=function(e,t){var r;return function(){var n=arguments,i=this;r&&clearTimeout(r),r=setTimeout((function(){return e.apply(i,n)}),t)}},Ge=function(e,t){return function(){var r=arguments,n=this;setTimeout((function(){return e.apply(n,r)}),t)}},Ve=function(e){return z(e)?[e.innerWidth,e.innerHeight]:[e.offsetWidth,e.offsetHeight]},Je=function(e,t){return e.scrollLeft=t[0],e.scrollTop=t[1],e};function Qe(e){var t={};return e.hooks=t,e.fire=function(r,n){return s(t[r])?(t[r].forEach((function(t){return t.apply(e,n)})),e):e},e.off=function(r,n){if(!s(r))return t={},e;if(s(t[r]))if(s(n)){for(var i=0,o=t[r].length;i<o;++i)if(n===t[r][i]){t[r].splice(i,1);break}0===j&&delete t[r]}else delete t[r];return e},e.on=function(r,n){return s(t[r])||(t[r]=[]),s(n)&&t[r].push(n),e},e}var Ze="ArrowDown",et="ArrowUp",tt="Enter",rt="Escape",nt="‌";function it(e){var t=w.createRange();t.selectNodeContents(e);var r=E.getSelection();r.removeAllRanges(),r.addRange(t)}function ot(r,i){void 0===i&&(i={});var o=this;if(!r)return o;if(r.OP)return r.OP;if(!n(o,ot))return new ot(r,i);var s=Qe(o),a=s.fire;function c(){return[m(l()),o.options]}function l(){if(xe){for(var e=[],t=0,n=h(Pe);t<n;++t)d(Pe[t])&&e.push(f(Pe[t]));return e}var i=r.value;return""!==i?i:null}function f(e){var t=e.value||R(e);return""!==t?t:null}function d(e){return W(e,"selected")}function g(e){Y(e,"selected"),e.selected=!1}function y(e){B(e,U+"selected")}function T(e){Z(e,"selected",!0),e.selected=!0}function L(e){te(e,U+"selected")}function H(e){e=e||nt,Ce.title=e.replace(/<.*?>/g,""),oe(Ce,e)}function C(e){if(xe)for(var n,i=function(e){return t(e)?e:[e]}(n),o=0,s=h(Pe);o<s;++o)n=f(Pe[o]),i.includes(m(n))?T(Pe[o]):g(Pe[o]);else r.value=e}s.hooks,o.state=i=b({},ot.state,i),o.options={},o.source=r,ot.instances[r.id||r.name||v(ot.instances)]=o,r.OP=o;var _=i.class,q=_+"__",M=_+"--",F=q+"input",j=q+"option",U=j+"--",G=q+"options",Q=q+"value",re=q+"values",ae=ie(r,{class:q+"source",tabindex:-1}),he="input"===D(ae)?ie("span","",{class:F}):null,de=he?r.placeholder:"",pe=ie("span",de),me=ie("span","",{contenteditable:"",tabindex:0}),we=function(){return ae.disabled},Ee=A(ae),xe=ae.multiple,Se=0,Pe=ae.options,Te=i.parent||w,Ae="input"===D(ae)?0:ae.size,$e=ae.title,Le=l(),He=ie("div",{class:_,tabindex:!he&&!we()&&0,title:$e}),Ce=ie("div",nt,{class:re}),_e=ae.list,Ke=0,De=0,qe=ie("div",{class:G,tabindex:-1}),Oe=[],Me=!1,Xe=!1;function Fe(){B(He,M+"focus"),a("blur",c())}function Re(){te(He,M+"focus"),a("focus",c())}function je(){te(He,M+"open"),a("enter",c())}function We(){xe||Ae||(B(He,M+"open"),a("exit",c()))}function Ie(){Ke=p(X(He,"border-bottom-width")),De=p(X(He,"border-top-width")),Et(He)}function Ue(e){fe(He,M+"open",e);var t=ze();return a(t?"enter":"exit",c()),t}function Ne(e,t,r,n){return ie("span",e,{class:Q+" "+n,"data-index":t,"data-value":r}).outerHTML}function ze(){return I(He,M+"open")}function Ye(){(he?me:He).focus()}function st(e){if(Pe&&!we()){var t,r,n,o=[],s=this,l=s.$,u=Le;if(Se=s.i,Le=s.v,e&&e.isTrusted&&Ye(),ge(e),xe&&(Me||Xe)){!function(e){return I(e,U+"selected")}(s)?(T(l),L(s)):(g(l),y(s));for(var f,p=0,v=h(Pe);p<v;++p)d(Pe[p])&&(t=R(f=Oe[p]),r=f.i,n=f.v,o.push(Ne(t,r,n,$(f,!1))));return H(o.join("<span>"+i.join+"</span>")),void a("change",c())}t=R(s),r=s.i,n=s.v,t&&he&&(oe(pe,nt),ue(me,t)),H(Ne(t,r,n,$(s,!1))),he&&(it(me),C(t)),Oe.forEach((function(e){Le===e.v?(T(e.$),L(e)):(g(e.$),y(e))})),Le!==u&&a("change",c())}}function at(e){Fe()}function ct(e){if(!we()){if(Se=ae.selectedIndex,Ae)return je();he?me.focus():Ue()&&Ie()}}function lt(e){Se=ae.selectedIndex,Re()}function ut(e){if(Pe){Me=e.ctrlKey,Xe=e.shiftKey;var t=e.key,r=Se,n=Oe[r],i=function(e){return I(e,U+"disabled")},o=function(e){return st.call(e)},s=ze();if(Ze===t){for(;(n=Oe[++r])&&(i(n)||n.hidden););n&&(o(n),Ue(s)),ge(e)}else if(et===t){for(;(n=Oe[--r])&&(i(n)||n.hidden););n&&(o(n),Ue(s)),ge(e)}else if("End"===t){for(r=h(Pe);(n=Oe[--r])&&(i(n)||n.hidden););n&&(o(n),Ue(s)),ge(e)}else if(tt===t)n&&o(n),Ue(),ge(e);else if(rt===t)!Ae&&We();else if("Home"===t){for(r=-1;(n=Oe[++r])&&(i(n)||n.hidden););n&&(o(n),Ue(s)),ge(e)}else"Tab"===t&&(!he&&n&&o(n),!Ae&&We());ze()&&!Me&&!Xe&&Ie()}}function ft(){Me=Xe=!1}function ht(){var e=R(me);null!==e&&C(k(e)),Fe()}function dt(){if(Pe){var e,t,r=R(this);Se=-1,it(this);for(var n=0,i=h(Pe);n<i;++n)e=Pe[n],t=Oe[n],r===R(e)?(Se=n,T(e),L(t)):(g(e),y(t));Re(),Ue()&&Ie()}}xe&&!Ae&&(ae.size=Ae=i.size),he&&_e&&(Ee=A(_e),Pe=_e.options,Ae=null,Le&&(oe(pe,nt),ue(me,Le))),he&&(ee(he,me),ee(he,pe)),ee(He,he||Ce),se(ae,He);var pt=Be((function(t,r,n){var i,o,s=R(t);if(null===s){oe(pe,de),qe.hidden=!1;for(var a=0,c=h(Oe);a<c;++a)oe(o=Oe[a],R(o)),o.hidden=!1}else if(oe(pe,nt),n!==(s=u(s))&&Ze!==r&&"ArrowLeft"!==r&&"ArrowRight"!==r&&et!==r&&tt!==r){for(var l,f=0,d=h(Oe);f<d;++f)g((o=Oe[f]).$),y(o),(l=R(o))&&u(l).includes(s)?(!i&&(i=o),oe(o,l.replace(RegExp(s.replace(/[!$^*()+=[]{}|:<>,.?\/-]/g,"\\$&"),"gi"),(function(e){return"<mark>"+e+"</mark>"}))),o.hidden=!1):(oe(o,l),o.hidden=!0);i?(Se=i.i,T(i.$),L(i),qe.hidden=!1):qe.hidden=!0,n=s}else{for(var p,v=0,m=0,b=h(Oe);m<b;++m)o=Oe[m],p=K(o),e("</mark>",p)&&++v;if(v<=1)for(var k,w=0,E=h(Oe);w<E;++w)o=Oe[w],k=R(o),oe(o,k),o.hidden=!1}tt!==r&&rt!==r&&"Tab"!==r&&(je(),Ie())}),1);function vt(e){var t=this,r=e.key;ut(e),pt(t,r,R(t))}function gt(){ft()}var mt=Ge((function(e,t){var r=R(e);oe(t,null!==r?nt:de),ue(e,r),it(e)}),1);function yt(){mt(me,pe)}function bt(e){var t=e.target;if(t!==He)for(;(t=O(t))&&He!==t;);He!==t&&We()}function kt(){ze()&&Et(He,1)}function wt(r,n){if("optgroup"!==D(r)){var i=P(r,"value",!1),s=i,a=R(r),c=r.title,l=ie("a",a,{class:j,title:c||a});i=i||a,l.i=Se,l.$=r,l.v=i,function(e,t){var r;for(var n in t)(r=t[n])||""===r||0===r?ne(e,n,r):V(e,n)}(l,{index:Se,value:s}),o.options[i]=a,r.disabled?te(l,U+"disabled"):be("click",l,st),ee(n,l),Oe.push(l),""===s&&(i=null),t(Le)&&e(i,Le)||i===Le?(te(l,U+"selected"),H(Ne(a,Se,s,$(l,!1))),T(r)):g(r),++Se}else{var u=ie("span",{class:j+"-group"+(r.disabled?" "+U+"disabled":"")}),f=A(r);u.title=r.label;for(var d=0,p=h(f);d<p;++d)wt(f[d],u);ee(n,u)}}function Et(e,t){if(!Ae){var r=function(e){var t,r,n,i,o,s,a;return z(e)?(i=e.pageXOffset||S.scrollLeft||x.scrollLeft,o=e.pageYOffset||S.scrollTop||x.scrollTop,n=e.innerWidth,t=e.innerHeight):(i=(r=e.getBoundingClientRect()).left,o=r.top,n=r.width,t=r.height,s=r.right,a=r.bottom),[i,o,n,t,s,a]}(e),n=r[0],i=r[1],o=r[2],s=r[3],l=Ve(E)[1],u=l-i-s;le(qe,{bottom:"",left:n,"max-height":u,top:i+s-De,width:o}),u<(l-s)/2?(le(qe,{top:"",bottom:l-i-Ke,"max-height":(u=i)+De}),B(e,M+"down"),te(e,M+"up")):(B(e,M+"up"),te(e,M+"down"))}if(!t){var f=Oe.find((function(e){return I(e,U+"selected")}));if(f){var h=Ve(f)[1],d=Ve(qe)[1],p=[(y=f).offsetLeft,y.offsetTop],v=p[0],g=p[1],m=function(e){return[e.scrollLeft,e.scrollTop]}(qe)[1];g<m?Je(qe,[v,g]):g+h-d>m&&Je(qe,[v,g+h-d])}}var y;a("fit",c())}ke(["resize","scroll"],E,kt),be("click",Te,bt),be("focus",ae,Ye),be("click",He,ct),he?(be("blur",me,ht),be("focus",me,dt),be("keydown",me,vt),be("keyup",me,gt),be("paste",me,yt)):(be("blur",He,at),be("focus",He,lt),be("keydown",He,ut),be("keyup",He,ft));var xt=h(Ee);if(xt){ee(He,qe);for(var St=0;St<xt;++St)wt(Ee[St],qe);if(Ae){var Pt=Oe[0],Tt=Ve(Pt)[1]*Ae;ce(qe,"max-height",Tt)}}return Ae&&(te(He,M+"down"),te(He,M+"open")),o.get=function(e){void 0===e&&(e=!0);var t=l();return e?m(t):t},o.pop=function(){return r.OP?(delete r.OP,ye(["resize","scroll"],E,kt),ve("click",Te,bt),ve("focus",ae,Ye),B(ae,q+"source"),ve("click",He,ct),he?(ve("blur",me,ht),ve("focus",me,dt),ve("keydown",me,vt),ve("keyup",me,gt),ve("paste",me,yt)):(ve("blur",He,at),ve("focus",He,lt),ve("keydown",He,ut),ve("keyup",He,ft)),function(e){var t="textContent";N(e,t)&&(e[t]="")}(He),J(He),a("pop",c())):o},o.set=function(e){return Pe?(C(k(e)),Oe.forEach((function(e,t){var r=Pe[t];fe(e,U+"selected",r&&d(r))})),a("change",c()),o):o},o.self=He,o}function st(e){for(var t in ot.instances)ot.instances[t].pop(),delete ot.instances[t];var r=C("input[list],select");r&&h(r)&&r.forEach((function(e){var t,r=$(e),n=new ot(e,null!=(t=L(e,"state"))?t:{});re(n.self,r)})),1===e&&E._.on("change",st)}ot.instances={},ot.state={class:"option-picker",join:", ",parent:null,size:5},ot.version="1.3.10",E.OP=ot;var at=function(e,t){return void 0===t&&(t=""),e.replace(ct("["+t+lt.replace(/./g,"\\$&")+"]"),"\\$&")},ct=function(e,t){return function(e){return n(e,RegExp)}(e)?e:(e=e.replace(/\//g,"\\/"),RegExp(e,s(t)?t:"g"))},lt="!$^*()+=[]{}|:<>,.?/-",ut="ArrowLeft",ft="Home",ht="Backspace",dt="Tab";function pt(r,o){void 0===o&&(o={});var s=this;if(!r)return s;if(r.TP)return r.TP;if(!n(s,pt))return new pt(r,o);var l=function(){return r.disabled},f=function(){return r.readOnly},d=P(r,"placeholder"),p=P(r,"tabindex"),m=Qe(s);m.hooks;var y=m.fire;s.state=o=b({},pt.state,a(o)?{join:o}:o||{}),s.source=r,pt.instances[r.id||r.name||v(pt.instances)]=s,r.TP=s;var k,x,S,$=o.class,L=$+"__",H=$+"--",C=function(e){var t="form";return N(e,t)&&t===D(e.form)?e.form:O(e,t)}(r),_=ie("div",{class:$,tabindex:!l()&&-1}),K=ie("span",{class:L+"tag "+L+"input"}),X=ie("input",{class:L+"copy",tabindex:-1,type:"text"}),F=ie("span",{contenteditable:!l()&&"true",spellcheck:"false",style:"white-space:pre;"}),j=ie("span"),W=ie("span",{class:L+"tags"}),z=0,Y={};function V(e,t){var r=c(e,s.tags);return t&&y("get.tag",[e,r]),i(r)?e:null}function Q(){Y={};var e,t=A(W),r=h(t)-1;for(e=0;e<r;++e)I(t[e],L+"tag--selected")&&(Y[e]=t[e])}function Z(e,t){i(t)?(t=t<0?0:t,s.tags.splice(t,0,e)):s.tags.push(e),r.value=s.tags.join(o.join)}function ne(e,t){var r=ie("span",{class:L+"tag",tabindex:!l()&&!f()&&0,title:e}),n=ie("a",{class:L+"tag-x",href:"",tabindex:-1,target:"_top"});be("click",n,_e),ee(r,n),be("click",r,Ce),ke(["blur","focus"],r,Ae),U(W)&&(i(t)&&s.tags[t]?ae(A(W,t),r):ae(K,r))}function oe(t){if(t=t?t.split(o.join):[],U(_))for(var n,i,a;n=M(K);)le(a=n.title),e(a,t)||(i=c(a,s.tags),y("change",[a,i]),y("let.tag",[a,i]));s.tags=[],r.value="";for(var l,u=0,f=o.max;u<f&&t[u];++u)""!==(l=Se(t[u]))&&(ne(l),Z(l),y("change",[l,u]),y("set.tag",[l,u]))}function ce(e){var t=c(e,s.tags);i(t)&&t>=0&&(s.tags.splice(t,1),r.value=s.tags.join(o.join))}function le(e){var t,r=c(e,s.tags);if(i(r)&&r>=0&&(t=A(W,r))){ve("click",t,Ce),ye(["blur","focus"],t,Ae);var n=T(t);n&&(ve("click",n,_e),J(n)),J(t)}}function fe(e){J(X),e&&de("",1)}function he(e){ee(_,X),X.value=s.tags.join(o.join),e&&(X.focus(),X.select())}function de(e,t){if(ue(F,e),ue(j,e?"":d),t){F.focus();var r=w.createRange(),n=E.getSelection();r.selectNodeContents(F),r.collapse(!1),n.removeAllRanges(),n.addRange(r)}}function pe(e){xe(e,(function(){B(this,L+"tag--selected")}))}function we(e){xe(e,(function(){te(this,L+"tag--selected")}))}function Ee(){if(!l()&&!f()){var e=Pe(R(F)).trim(),t=o.pattern;if(t&&e&&!ct(t,"").test(e))return y("not.tag",[e,-1]),void de(e,1);if(de(""),e=Se(e))if(V(e))y("has.tag",[e,c(e,s.tags)]);else{ne(e),Z(e);var r=h(s.tags);y("change",[e,r]),y("set.tag",[e,r])}}}function xe(e,t){var r,n=A(W),i=h(n)-1;for(r=0;r<i;++r)e!==n[r]&&t.call(n[r],r)}function Se(e){return Pe(s.f(e)).trim()}function Pe(e){return e=e||"",o.escape.forEach((function(t){e=e.split(t).join("")})),e}function Te(e){"blur"===e.type?(pe(),G(_,[H+"focus",H+"focus-self"])):re(_,[H+"focus",H+"focus-self"])}function Ae(e){if(!f()){Y={};var t=this,r=e.type,n=t.title,i=s.tags,o=c(n,i),a=L+"tag--";"blur"===r?(!k&&!x||x&&S)&&(pe(t),B(t,a+"selected"),G(_,[H+"focus",H+"focus-tag"])):(te(t,a+"selected"),re(_,[H+"focus",H+"focus-tag"]),z=o,Y[o]=t),y(r+".tag",[n,o])}}function $e(e){var t=s.tags,r=e.type,n=L+"text--";B(_,H+"focus-tag"),"blur"===r?(B(K,n+"focus"),G(_,[H+"focus",H+"focus-input"]),Ee()):(te(K,n+"focus"),re(_,[H+"focus",H+"focus-input"]),pe(K)),y(r,[t,h(t)])}function Le(e){"blur"===e.type?B(_,H+"focus"):te(_,H+"focus")}function He(e){e&&_===e.target&&F.focus();var t=s.tags;y("click",[t,h(t)])}function Ce(){var e=this.title,t=s.tags;y("click.tag",[e,c(e,t)])}function _e(e){if(!l()&&!f()){var t=O(this).title,r=c(t,s.tags);le(t),ce(t),de("",1),y("change",[t,r]),y("click.tag",[t,r]),y("let.tag",[t,r])}ge(e)}function Ke(e){var t=e.type;"copy"===t?Ge((function(){return fe(1)}))():"cut"===t?(!f()&&oe(""),Ge((function(){return fe(1)}))()):"paste"===t&&Ge((function(){!f()&&oe(X.value),fe(1)}))(),Ge((function(){var e=s.tags;y(t,[e,h(e)])}),1)()}function De(){pe(),B(_,H+"focus-self")}function qe(){F.focus()}function Oe(e){if(!l()&&!f()){s.tags;var t,r,n,i,o,a,c=e.key,u=k=e.ctrlKey,d=x=e.shiftKey,p=L+"tag--";if(S=dt===c,!u){if(!d&&(ht===c||"Delete"===c)){Q(),a=Y;var v=ht===c;for(r in a)le(o=(t=a[r]).title),ce(o);return z=+(g(a)[0]||0),(t=A(W,v?z-1:z))?K===t?de("",1):t.focus():de("",1),void ge(e)}if(ft===c)return void((t=A(W,0))&&(t.focus(),ge(e)));if("End"===c&&(t=A(W,h(s.tags)-1)))return t.focus(),void ge(e);if(ut===c){if(t=A(W,z-1)){var m=I(t,p+"selected");return t.focus(),ge(e),d?(n=q(t),void(m&&B(n,p+"selected"))):void pe(t)}if(!d)return void pe(A(W,0))}if("ArrowRight"===c&&(t=A(W,z+1))){var y=I(t,p+"selected");return K!==t||d?t.focus():de("",1),ge(e),d?(i=M(t),void(y&&B(i,p+"selected"))):void pe(t)}}"a"===c&&(he(1),we(),Q(),ge(e))}}function Me(t){me(t),f()&&dt!==t.key&&ge(t);var r,n=o.escape,i=M(K),a=h(s.tags),c=o.max,l=R(F)||"",u=t.key,p=k=t.ctrlKey,v="Enter"===u;x=t.shiftKey;var g=S=dt===u;if(v&&(u="\n"),g&&(u="\t"),Ge((function(){l=R(F)||"",ue(j,l?"":d),e(function(e){var t,r=E.getSelection();if(r.rangeCount>0)return(t=r.getRangeAt(0).cloneRange()).collapse(!0),t.setStart(e,0),(t+"").slice(-1)}(F),n)&&(a<c?Ee():(de(""),y("max.tags",[c])),ge(t))}))(),""===l&&ft===u&&(r=A(W,0)))return r.focus(),void ge(t);if(""===l&&"End"===u&&(r=A(W,h(s.tags)-1)))return r.focus(),void ge(t);if(p&&""===l&&"a"===u)return he(1),we(),Q(),void ge(t);if(e(u,n))return a<c?Ee():(de(""),y("max.tags",[c])),void ge(t);if(!g){if(!p&&v)return Re()&&C&&C.dispatchEvent(new Event("submit",{cancelable:!0})),void ge(t);if(i&&""===l&&!f()){if(ht===u)return le(r=s.tags[a-1]),ce(r),y("change",[r,a-1]),y("let.tag",[r,a-1]),void ge(t);if(ut===u)return void i.focus()}}}function Xe(){k=x=!1}function Fe(){Ge((function(){l()||f()||R(F).split(o.join).forEach((function(t){e(t,s.tags)||(ne(t),Z(t))})),de("")}))()}function Re(e){if(!l()){var t=o.min;return Ee(),t>0&&h(s.tags)<t?(de("",1),y("min.tags",[t]),void ge(e)):1}}return de(""),ee(_,W),ee(K,F),ee(K,j),ee(W,K),te(r,L+"source"),se(r,_),ie(r,{tabindex:-1}),be("blur",_,De),be("click",_,He),be("focus",r,qe),be("keydown",_,Oe),be("keydown",F,Me),be("keyup",_,Xe),be("paste",F,Fe),ke(["blur","focus"],_,Le),ke(["blur","focus"],X,Te),ke(["blur","focus"],F,$e),ke(["copy","cut","paste"],X,Ke),C&&be("submit",C,Re),s.blur=function(){return!l()&&F.blur(),s},s.click=function(){return _.click(),He(),s},s.f=function(e){return u(e||"").replace(/[^ a-z\d-]/g,"").trim()},s.focus=function(){return l()||de(R(F),1),s},s.get=function(e){return l()?null:V(e,1)},s.input=F,s.let=function(e){if(!l()&&!f()){var r=o.min;if(e)if(t(e))e.forEach((function(e){if(r>0&&h(s.tags)<r)return y("min.tags",[r]),s;le(e),ce(e)}));else{if(r>0&&h(s.tags)<r)return y("min.tags",[r]),s;le(e),ce(e)}else oe("")}return s},s.pop=function(){if(!r.TP)return s;delete r.TP;var e=s.tags;return B(r,L+"source"),ve("blur",_,De),ve("click",_,He),ve("focus",r,qe),ve("keydown",_,Oe),ve("keydown",F,Me),ve("keyup",_,Xe),ve("paste",F,Fe),ye(["blur","focus"],_,Le),ye(["blur","focus"],X,Te),ye(["blur","focus"],F,$e),ye(["copy","cut","paste"],X,Ke),C&&ve("submit",C,Re),e.forEach(le),ie(r,{tabindex:p}),J(_),y("pop",[e])},s.self=_,s.set=function(e,r){if(!e)return s;if(!l()&&!f())if(t(e))oe(e.join(o.join));else{var n=s.tags,i=o.max;V(e)?y("has.tag",[e,c(e,n)]):h(n)<i?(ne(e,r),Z(e,r)):y("max.tags",[i])}return s},s.source=s.output=r,s.state=o,s.tags=[],oe(r.value),s}function vt(e){for(var t in pt.instances)pt.instances[t].pop(),delete pt.instances[t];var r=C(".lot\\:field.type\\:query input");r&&h(r)&&r.forEach((function(e){var t,r=$(e),n=new pt(e,null!=(t=L(e,"state"))?t:{});re(n.self,r)})),1===e&&E._.on("change",vt)}pt.instances={},pt.state={class:"tag-picker",escape:[","],join:", ",max:9999,min:0,pattern:null},pt.version="3.4.16",E.TP=pt;function gt(e,t){return(e||"")["trim"+(-1===t?"Left":1===t?"Right":"")]()}function mt(e,i){void 0===i&&(i={});var o=this;if(!e)return o;if(e.TE)return e.TE;if(!n(o,mt))return new mt(e,i);o.state=i=b({},mt.state,a(i)?{tab:i}:i||{}),o.self=o.source=e,mt.instances[e.id||e.name||v(mt.instances)]=o,e.TE=o;var c=/^([\s\S]*?)$/,l=function(){return e.disabled},u=function(){return e.readOnly},f=function(){return e.value.replace(/\r/g,"")};return o.value=f(),o.get=function(){return!l()&&gt(f())||null},o.let=function(){return e.value=o.value,o},o.set=function(t){return l()||u()||(e.value=t),o},o.$=function(){return new mt.S(e.selectionStart,e.selectionEnd,f())},o.focus=function(t){var r,n;return-1===t?r=n=0:1===t&&(r=h(f()),n=e.scrollHeight),s(r)&&s(n)&&(e.selectionStart=e.selectionEnd=r,e.scrollTop=n),e.focus(),o},o.blur=function(){return e.blur(),o},o.select=function(){if(l()||u())return e.focus(),o;for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];var i,s,a,c,f=h(r),d=o.$(),p=d.start,v=d.end;if(i=E.pageXOffset||S.scrollLeft||x.scrollLeft,s=E.pageYOffset||S.scrollTop||x.scrollTop,a=e.scrollLeft,c=e.scrollTop,0===f)r[0]=p,r[1]=v;else if(1===f){if(!0===r[0])return e.focus(),e.select(),o;r[1]=r[0]}return e.focus(),e.selectionStart=r[0],e.selectionEnd=r[1],e.scrollLeft=a,e.scrollTop=c,E.scroll(i,s),o},o.match=function(e,n){var i=o.$(),s=i.after,a=i.before,c=i.value;if(t(e)){var l=[a.match(e[0]),c.match(e[1]),s.match(e[2])];return r(n)?n.call(o,l[0]||[],l[1]||[],l[2]||[]):[!!l[0],!!l[1],!!l[2]]}var u=c.match(e);return r(n)?n.call(o,u||[]):!!u},o.replace=function(e,t,r){var n=o.$(),i=n.after,s=n.before,a=n.value;return-1===r?s=s.replace(e,t):1===r?i=i.replace(e,t):a=a.replace(e,t),o.set(s+a+i).select(s=h(s),s+h(a))},o.insert=function(e,t,r){var n=c;return r&&o.replace(n,""),-1===t?n=/$/:1===t&&(n=/^/),o.replace(n,e,t)},o.wrap=function(e,t,r){var n=o.$(),i=n.after,s=n.before,a=n.value;return r?o.replace(c,e+"$1"+t):o.set(s+e+a+t+i).select(s=h(s+e),s+h(a))},o.peel=function(e,t,r){var n=o.$(),i=n.after,s=n.before,a=n.value;e=at(e),t=at(t);var c=ct(e+"$",""),l=ct("^"+t,"");return r?o.replace(ct("^"+e+"([\\s\\S]*?)"+t+"$",""),"$1"):c.test(s)&&l.test(i)?(s=s.replace(c,""),i=i.replace(l,""),o.set(s+a+i).select(s=h(s),s+h(a))):o.select()},o.pull=function(e,t){void 0===t&&(t=!0);var r=o.$(),n=r.length,a=r.value;return e=at(s(e)?e:i.tab),n?t?o.replace(ct("^"+e,"gm"),""):o.insert(a.split("\n").map((function(t){return ct("^("+e+")*$","").test(t)?t:t.replace(ct("^"+e,""),"")})).join("\n")):o.replace(ct(e+"$",""),"",-1)},o.push=function(e,t){void 0===t&&(t=!1);var r=o.$().length;return e=s(e)?e:i.tab,r?o.replace(ct("^"+(t?"":"(?!$)"),"gm"),e):o.insert(e,-1)},o.trim=function(e,t,r,n,i){void 0===i&&(i=!0),null!==e&&!1!==e&&(e=e||""),null!==t&&!1!==t&&(t=t||""),null!==r&&!1!==r&&(r=r||""),null!==n&&!1!==n&&(n=n||"");var s=o.$(),a=s.before,c=s.value,l=s.after,u=gt(a,1),f=gt(l,-1);return a=!1!==e?gt(a,1)+(u||!i?e:""):a,l=!1!==t?(f||!i?t:"")+gt(l,-1):l,!1!==r&&(c=gt(c,-1)),!1!==n&&(c=gt(c,1)),o.set(a+c+l).select(a=h(a),a+h(c))},o.pop=function(){return e.TE?(delete e.TE,o):o},o.state=i,o}mt.esc=at,mt.instances={},mt.state={tab:"\t"},mt.S=function(e,t,r){var n=this,i=r.slice(e,t);n.after=r.slice(t),n.before=r.slice(0,e),n.end=t,n.length=h(i),n.start=e,n.value=i,n.toString=function(){return i}},mt.version="3.3.13",mt.x=lt;var yt={_history:[],_historyState:-1,history:function(e){var t=this;return s(e)?s(t._history[e])?t._history[e]:null:t._history},loss:function(e){var t,r=this;return!0===e?(r._history=[],r._historyState=-1,[]):(t=r._history.splice(s(e)?e:r._historyState,1),r._historyState=d(r._historyState-1,[-1]),t)},record:function(e){var t=this,r=t.$(),n=r.end,i=r.start,o=t._history[t._historyState]||[],a=[t.self.value,i,n];return a[0]===o[0]&&a[1]===o[1]&&a[2]===o[2]||(++t._historyState,t._history[s(e)?e:t._historyState]=a),t},redo:function(){var e,t=this;return t._historyState=d(t._historyState+1,[0,h(t._history)-1]),e=t._history[t._historyState],t.set(e[0]).select(e[1],e[2])},undo:function(){var e,t=this;return t._historyState=d(t._historyState-1,[0,h(t._history)-1]),e=t._history[t._historyState],t.set(e[0]).select(e[1],e[2])}};function bt(e,t){return new Promise((function(r,n){var i=E[e].apply(E,t);return i?r(i):n(i)}))}var kt={source:{pairs:{"`":"`","(":")","{":"}","[":"]",'"':'"',"'":"'","<":">"},type:null}};["alert","confirm","prompt"].forEach((function(e){kt.source[e]=function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return bt(e,r)}}));var wt={toggle:function(e,r,n,i){void 0===i&&(i=!1),r||""===r||(r=e);var o=this,s=o.$(),c=s.after,l=s.before,u=s.value,f=h(r),d=h(e);return n&&r===u.slice(-f)&&e===u.slice(0,d)||r===c.slice(0,f)&&e===l.slice(-d)?o.peel(e,r,n):(!1!==i&&(a(i)?i=[i,i]:t(i)||(i=["",""]),isSet(i[1])||(i[1]=i[0]),o.trim(i[0],i[1])),o.wrap(e,r,n))}};function Et(t,r){var n,i,o=r.state.source.tab||r.state.tab||"\t",s=r.state.source.pairs||{},a=function(e){return Object.values(e)}(s),c=t.key,l=t.queue,u=t+"";if(l.Alt||l.Control)return!0;if(" "===u){var f=r.$(),h=f.after,d=f.before,p=f.value;return n=s[i=d.slice(-1)],!(!p&&n&&i&&n===h[0])||(r.wrap(" "," "),!1)}if("Enter"===u){var v=r.$(),g=v.after,m=v.before,y=v.value,b=m.split("\n").pop().match(/^(\s+)/),k=b&&b[1]||"";if(!y){if(g&&m&&(n=s[i=m.slice(-1)])&&n===g[0])return r.wrap("\n"+k+(i!==n?o:""),"\n"+k).record(),!1;if(k)return r.insert("\n"+k,-1).record(),!1}return!0}if("Backspace"===u){var w=r.$(),E=w.after,x=w.before,S=w.value;E.split("\n")[0];var P=x.split("\n").pop(),T=P.match(/^(\s+)/),A=T&&T[1]||"";return n=s[i=x.slice(-1)],"\\"===i?!0:S?!(E&&x&&n&&n===E[0]&&!x.endsWith("\\"+i))||(r.record().peel(i,n).record(),!1):(n=s[i=x.trim().slice(-1)])&&i&&(E.startsWith(" "+n)&&x.endsWith(i+" ")||E.startsWith("\n"+A+n)&&x.endsWith(i+"\n"+A))?(r.trim("","").record(),!1):P.endsWith(o)?(r.pull(o).record(),!1):!(E&&x&&!x.endsWith("\\"+i)&&n===E[0]&&i===x.slice(-1))||(r.peel(i,n).record(),!1)}var $=r.$(),L=$.after,H=$.before,C=$.start,_=$.value;if("\\"===(i=H.slice(-1)))return!0;if(n=e(L[0],a)?L[0]:s[i],!_&&L&&H&&n&&c===n)return r.select(C+1).record(),!1;for(i in s){if(n=s[i],c===i&&n)return r.wrap(i,n).record(),!1;if(c===n){if(_)return r.record().wrap(i,n).record(),!1;break}}return!0}function xt(e,t){var r=t.state.source.tab||t.state.tab||"\t";e.key,e.queue;var n=e+"";return"Control-]"===n?(t.push(r).record(),!1):"Control-["!==n||(t.pull(r).record(),!1)}function St(e,t){e.key;var r=e.queue;if(r.Control&&r.Enter){var n=t.$(),i=n.after,o=n.before,s=n.end,a=n.start,c=n.value,l=i.split("\n").shift(),u=o.split("\n").pop(),f=u.match(/^(\s+)/),d=f&&f[1]||"";if(o||i)return r.Shift?(t.select(a-h(u)).wrap(d,"\n").insert(c).record(),!1):(t.select(s+h(l)).wrap("\n"+d,"").insert(c).record(),!1)}return!0}function Pt(e,t){var r=e+"";return"Control-y"===r?(t.redo(),!1):"Control-z"!==r||(t.undo(),!1)}function Tt(t,r){t.key;var n=t+"";if(!t.queue.Control)return!0;var i,o,s,a=r.$(),c=a.after,l=a.before,u=a.end,f=a.start,d=a.value,p=r.state.source.pairs||{},v=[];if(d){for(i in p)(o=p[i])&&v.push("(?:\\"+i+"(?:\\\\.|[^\\"+i+(o!==i?"\\"+o:"")+"])*\\"+o+")");if(v.push("\\w+"),v.push("\\s+"),v.push("[\\s\\S]"),"Control-ArrowLeft"===n)return(s=l.match(ct("("+v.join("|")+")$","")))?(r.insert("").select(f-h(s[0])).insert(d),r.record(),!1):(r.select(),!1);if("Control-ArrowRight"===n)return(s=c.match(ct("^("+v.join("|")+")","")))?(r.insert("").select(u+h(s[0])-h(d)).insert(d),r.record(),!1):(r.select(),!1)}var g=c.split("\n").shift(),m=l.split("\n").pop(),y=m.match(/^(\s+)/);if(y&&y[1],u+=h(g),f-=h(m),d=m+d+g,"Control-ArrowUp"===n){if(!e("\n",l))return r.select(),!1;r.insert(""),r.replace(/^([^\n]*?)(\n|$)/,"$2",1),r.replace(/(^|\n)([^\n]*?)$/,"",-1);var b=r.$();return l=b.before,f=b.start,m=l.split("\n").pop(),r.select(f-=h(m)).wrap(d,"\n"),r.select(f,f+h(d)),r.record(),!1}if("Control-ArrowDown"===n){if(!e("\n",c))return r.select(),!1;r.insert(""),r.replace(/^([^\n]*?)(\n|$)/,"",1),r.replace(/(^|\n)([^\n]*?)$/,"$1",-1);var k=r.$();return c=k.after,u=k.end,g=c.split("\n").shift(),r.select(u+=h(g)).wrap("\n",d),u+=1,r.select(u,u+h(d)),r.record(),!1}return!0}var At=Be((function(e){return e.record()}),100);var $t=kt,Lt="[\\w:.-]+",Ht=function(e){return"<("+e+")(\\s(?:'(?:\\\\.|[^'])*'|\"(?:\\\\.|[^\"])*\"|[^/>'\"])*)?>"},Ct=function(e){return"</("+e+")>"},_t="(?:\x3c!--([\\s\\S](?!--\x3e)*)--\x3e|<!((?:'(?:\\\\.|[^'])*'|\"(?:\\\\.|[^\"])*\"|[^>'\"])*)>|"+Ct(Lt)+"|<\\?((?:'(?:\\\\.|[^'])*'|\"(?:\\\\.|[^\"])*\"|[^>'\"])*)\\?>|"+Ht(Lt)+"|"+function(e){return"<("+e+")(\\s(?:'(?:\\\\.|[^'])*'|\"(?:\\\\.|[^\"])*\"|[^/>'\"])*)?/?>"}(Lt)+")",Kt={};function Dt(e){if(!e)return"";e=g(e).sort().reduce((function(t,r){return t[r]=e[r],t}),{});var t,r,n="";for(t in e)!1!==(r=e[t])&&null!==r&&(n+=" "+t,!0!==r&&(n+='="'+y(k(r))+'"'));return n}function qt(e){return!1!==e&&(a(e)?e=[e,e]:t(e)||(e=["",""]),s(e[1])||(e[1]=e[0])),e}function Ot(e,t){var r=t.state,n=r.sourceXML.tab||r.tab||"\t",i=e.key,o=e.queue,s=e+"";if(o.Alt||o.Control)return!0;if(["-",">","/","?"," "].includes(i)){var a=t.$(),c=a.after,l=a.before,u=a.value,f=a.start;if("-"===i&&!u&&"<!-"===l.slice(-3))return t.wrap("- "," --"+(">"===c[0]?"":">")).record(),!1;if(">"===i||"/"===i){var d=ct(Ht(Lt)+"$","").exec(l+">");if(!u&&d)return"/"===i?">"===c[0]?(t.trim("",!1).insert(" /",-1).select(t.$().start+1).record(),!1):(t.trim("",!1).insert(" />",-1).record(),!1):(c.startsWith("></"+d[1]+">")?t.select(f+1).record():c.startsWith("</"+d[1]+">")?t.insert(">",-1).record():t.wrap(">","</"+d[1]+(">"===c[0]?"":">")).record(),!1)}if("?"===i&&!u&&"<"===l.slice(-1))return t.wrap("?","?"+(">"===c[0]?"":">")).record(),!1;if(" "===s&&!u&&("--\x3e"===c.slice(0,3)&&"\x3c!--"===l.slice(-4)||"?>"===c.slice(0,2)&&"<?"===l.slice(0,2)&&/<\?\S*$/.test(l)))return t.wrap(" "," ").record(),!1}if("ArrowLeft"===s){var p=t.$(),v=p.before,g=p.start;if(!p.value){var m=ct(_t+"$","").exec(v);if(m)return t.select(g-h(m[0]),g),!1}}if("ArrowRight"===s){var y=t.$(),b=y.after,k=y.start;if(!y.value){var w=ct("^"+_t,"").exec(b);if(w)return t.select(k,k+h(w[0])),!1}}if("Enter"===s){var E=t.$(),x=E.after,S=E.before,P=E.value,T=S.split("\n").pop().match(/^(\s+)/),A=T&&T[1]||"",$=S.match(ct(Ht(Lt)+"$",""));if(!P){if(/^[ \t]*-->/.test(x)&&/<!--[ \t]*$/.test(S)||/^[ \t]*\?>/.test(x)&&/<\?\S*[ \t]*$/.test(S))return t.trim().wrap("\n"+A,"\n"+A).record(),!1;if($)return x.startsWith("</"+$[1]+">")?t.record().trim().wrap("\n"+A+n,"\n"+A).record():t.record().wrap("\n"+A+n,"\n"+A+"</"+$[1]+">").record(),!1}}if("Backspace"===s){var L=t.$(),H=L.after,C=L.before;if(!L.value){if("\x3c!--"===C.slice(-4))return t.replace(/<!--$/,"",-1),"--\x3e"===H.slice(0,3)&&t.replace(/^-->/,"",1),t.record(),!1;if(/^\s+-->/.test(H)&&/<!--\s+$/.test(C))return t.trim(" "===C.slice(-1)?"":" "," "===H[0]?"":" ").record(),!1;if(/<\?\S*$/.test(C))return t.replace(/<\?\S*$/,"",-1),"?>"===H.slice(0,2)&&t.replace(/^\?>/,"",1),t.record(),!1;if(/^\s+\?>/.test(H)&&/<\?\S*\s+$/.test(C))return t.trim(" "===C.slice(-1)?"":" "," "===H[0]?"":" ").record(),!1;var _=ct(_t+"$",""),K=_.exec(C);if(K){if(" />"===C.slice(-3))return t.replace(/ \/>$/,"/>",-1).record(),!1;if("/>"===C.slice(-2))return t.replace(/\/>$/,">",-1).record(),!1;t.replace(_,"",-1);var D=K[0].slice(1).split(/\s+|>/)[0];return K[0]&&"/"!==K[0][1]&&H.startsWith("</"+D+">")&&t.replace(ct("^</"+D+">",""),"",1),t.record(),!1}if(ct(Ht(Lt)+"\\n(?:"+at(n)+")?$","").test(C)&&ct("^\\s*"+Ct(Lt),"").test(H))return t.trim().record(),!1}}if("Delete"===s){var q=t.$(),O=q.after;if(!q.value){if("--\x3e"===O.slice(0,3))return t.replace(/^-->/,"",1).record(),!1;if("?>"===O.slice(0,2))return t.replace(/^\?>/,"",1).record(),!1;var M=ct("^"+_t,"");if(M.exec(O))return t.replace(M,"",1).record(),!1}}return!0}Kt.insert=function(e,t,r,n){void 0===t&&(t=""),void 0===r&&(r={}),void 0===n&&(n=!1);return!1!==(n=qt(n))&&this.trim(n[0],""),this.insert("<"+e+Dt(r)+(!1!==t?">"+t+"</"+e+">":" />")+(!1!==n?n[1]:""),-1,!0)},Kt.toggle=function(e,t,r,n){void 0===t&&(t=""),void 0===r&&(r={}),void 0===n&&(n=!1);var i=this,o=i.$(),s=o.after,a=o.before,c=o.value,l=Ht(e),u=Ct(e),f=ct(l+"$",""),h=ct("^"+u,""),d=f.test(a),p=h.test(s);return p&&d?i.replace(h,"",1).replace(f,"",-1):(f=ct("^"+l,""),h=ct(u+"$",""),d=f.test(c),(p=h.test(c))&&d&&i.insert(c=c.replace(h,"").replace(f,"")),!c&&t&&i.insert(t),!1!==(n=qt(n))&&i.trim(n[0],n[1]),i.wrap("<"+e+Dt(r)+">","</"+e+">"))},Kt.wrap=function(e,t,r,n){void 0===t&&(t=""),void 0===r&&(r={}),void 0===n&&(n=!1);var i=this,o=i.$();return o.after,o.before,!o.value&&t&&i.insert(t),!1!==(n=qt(n))&&i.trim(n[0],n[1]),i.wrap("<"+e+Dt(r)+">","</"+e+">")};var Mt={source:{type:"XML"},sourceXML:{}},Xt=he.protocol,Ft=Kt.toggle,Rt="[\\w:.-]+",jt=function(e){return"<("+e+")(\\s(?:'(?:\\\\.|[^'])*'|\"(?:\\\\.|[^\"])*\"|[^/>'\"])*)?>"},Wt=function(e){return"</("+e+")>"};function It(e){return!1!==e&&(a(e)?e=[e,e]:t(e)||(e=["",""]),s(e[1])||(e[1]=e[0])),e}var Ut={};Ut.blocks=function(){var e=this;return e.record(),function(e){var t=/<(?:h([1-6])|p)(\s[^>]*)?>$/,r=/^<\/(?:h[1-6]|p)>/;e.match([t,/.*/,r],(function(n,i,o){var s=this,a=+(n[1]||0),c=n[2]||"",l=e.state.sourceHTML.elements||{},u=n[0]?l[n[0].slice(1,-1).split(/\s/)[0]]:["","",{}];!c&&u[2]&&(c=Dt(u[2])),s.replace(t,"",-1),s.replace(/\n+/g," "),s.replace(r,"",1);var f=u[3]||l.h1[3];!1!==(f=It(f))&&s.trim(f[0],f[1]),a?++a>6?(s.wrap("<"+l.p[0]+(c||Dt(l.p[2]))+">","</"+l.p[0]+">"),i[0]&&i[0]!==l.h6[1]||s.insert(l.p[1])):(s.wrap("<"+l["h"+a][0]+(c||Dt(l["h"+a][2]))+">","</"+l["h"+a][0]+">"),i[0]&&i[0]!==l.p[1]||s.insert(l["h"+a][1])):(s.wrap("<"+l.h1[0]+(c||Dt(l.h1[2]))+">","</"+l.h1[0]+">"),i[0]&&i[0]!==l.p[1]||s.insert(l.h1[1]))}))}(e),e.record(),!1},Ut.bold=function(){var e=this.state.sourceHTML.elements||{};return this.record(),Ft.apply(this,e.b),!1},Ut.code=function(){var e=this;return e.record(),function(e){var t=/<(?:pre|code)(?:\s[^>]*)?>(?:\s*<code(?:\s[^>]*)?>)?$/,r=/^(?:<\/code>\s*)?<\/(?:pre|code)>/;e.match([t,/.*/,r],(function(n,i,o){var s,a=this,c=e.state.sourceHTML.elements;a.replace(t,"",-1),a.replace(r,"",1),o[0]?/^(?:<\/code>\s*)?<\/pre>/.test(o[0])?(!1!==(s=It(s=c[""][3]))&&a.trim(s[0],s[1]),a.insert(function(e){return e.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")}(i[0]))):o[0].slice(0,7)==="</"+c.code[0]+">"&&(!1!==(s=It(s=c.pre[3]))&&a.trim(s[0],s[1]),a.wrap("<"+c.pre[0]+Dt(c.pre[2])+"><"+c.code[0]+Dt(c.code[2])+">","</"+c.code[0]+"></"+c.pre[0]+">")):(!1!==(s=It(s=c.code[3]))&&a.trim(s[0],s[1]),a.wrap("<"+c.code[0]+Dt(c.code[2])+">","</"+c.code[0]+">").insert(function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}(i[0]||c.code[1])))}))}(e),e.record(),!1},Ut.image=function(e,t){void 0===e&&(e="URL:");var n=this,i=n.$(),o=i.after,s=i.before,a=i.value,c=n.state,l=c.sourceHTML.elements||{},u=c.sourceHTML.tab||c.source.tab||c.tab||"\t",f=s.split("\n").pop().match(/^(\s+)/),h=f&&f[1]||"",d=c.source.prompt;return r(d)&&d(e,a&&/^https?:\/\/\S+$/.test(a)?a:t||Xt+"//").then((function(e){if(e){var t=l.img;a&&(t[2].alt=a,n.record());var r=t[3]||!1;!1!==(r=It(r))&&n.trim(r[0],""),t[2].src=e,o&&"\n"!==o[0]||s&&"\n"!==s.slice(-1)?n.insert("<"+t[0]+Dt(t[2])+">"+(!1!==r?r[1]:""),-1,!0):(!1!==(r=It(r=l.figure[3]||!1))&&n.trim(r[0],r[1]),n.insert(""),n.wrap(h+"<"+l.figure[0]+Dt(l.figure[2])+">\n"+h+u,h+"\n</"+l.figure[0]+">"),n.insert("<"+t[0]+Dt(t[2])+">\n"+h+u,-1),n.wrap("<"+l.figcaption[0]+Dt(l.figcaption[2])+">","</"+l.figcaption[0]+">").insert(l.figcaption[1]))}else n.focus()})),n.record(),!1},Ut.italic=function(){var e=this.state.sourceHTML.elements||{};return this.record(),Ft.apply(this,e.i),!1},Ut.link=function(e,t){void 0===e&&(e="URL:");var n=this,i=n.$().value,o=n.state,s=o.sourceHTML.elements||{},a=o.source.prompt;return r(a)&&a(e,i&&/^https?:\/\/\S+$/.test(i)?i:t||Xt+"//").then((function(e){if(e){var t=s.a;i&&n.record(),t[2].href=e;var r={};/[.\/?&#]/.test(e[0])||/^(data|javascript|mailto):/.test(e)||-1===e.indexOf("://")||(r.rel="nofollow",r.target="_blank");var o=It(t[3]||!1);!1!==o||i||(o=[" "," "]),Ft.call(n,t[0],t[1],b(r,t[2]),o)}else n.focus()})),n.record(),!1},Ut.quote=function(){var e=this;return e.record(),function(e){var t=/<(blockquote|q)(?:\s[^>]*)?>\s*$/,r=/^\s*<\/(blockquote|q)>/;e.match([t,/.*/,r],(function(n,i,o){var s,a=this,c=e.state,l=c.sourceHTML.tab||c.source.tab||c.tab||"\t",u=e.state.sourceHTML.elements||{};a.replace(t,"",-1),a.replace(r,"",1),o[0]?u.blockquote[0]===o[1]?!1!==(s=It(u[""][3]))&&a.trim(s[0],s[1]):u.q[0]===o[1]&&(!1!==(s=It(u.blockquote[3]))&&a.trim(s[0],s[1]),a.wrap("<"+u.blockquote[0]+Dt(u.blockquote[2])+">\n","\n</"+u.blockquote[0]+">").insert(i[0]||u.blockquote[1]),a.replace(ct("(^|\\n)"),"$1"+l)):(!1!==(s=It(u.q[3]))&&a.trim(s[0],s[1]),a.wrap("<"+u.q[0]+Dt(u.q[2])+">","</"+u.q[0]+">").insert(i[0]||u.q[1]),a.replace(ct("(^|\\n)"+l),"$1"))}))}(e),e.record(),!1},Ut.underline=function(){var e=this.state.sourceHTML.elements||{};return this.record(),Ft.apply(this,e.u),!1};var Nt={source:{type:"HTML"},sourceHTML:{elements:{"":["","text goes here…",{},""],a:["a","link text goes here…",{}],area:["area",!1,{}],b:["strong","text goes here…",{}],base:["base",!1,{href:""},"\n"],blockquote:["blockquote","",{},"\n"],br:["br",!1,{},["","\n"]],button:["button","text goes here…",{name:"",type:"submit"}," "],caption:["caption","caption goes here…",{},"\n"],code:["code","code goes here…",{}," "],col:["col",!1,{},"\n"],em:["em","text goes here…",{}],figcaption:["figcaption","caption goes here…",{},"\n"],figure:["figure","",{},"\n"],h1:["h1","title goes here…",{},"\n"],h2:["h2","title goes here…",{},"\n"],h3:["h3","title goes here…",{},"\n"],h4:["h4","title goes here…",{},"\n"],h5:["h5","title goes here…",{},"\n"],h6:["h6","title goes here…",{},"\n"],hr:["hr",!1,{},"\n"],i:["em","text goes here…",{}],img:["img",!1,{alt:"",src:""}," "],input:["input",!1,{name:"",type:"text"}," "],li:["li","list item goes here…",{},"\n"],link:["link",!1,{href:""},"\n"],meta:["meta",!1,{},"\n"],ol:["ol","",{},"\n"],option:["option","option goes here…",{},"\n"],p:["p","paragraph goes here…",{},"\n"],param:["param",!1,{name:""},"\n"],pre:["pre","text goes here…",{},"\n"],q:["q","quote goes here…",{}," "],script:["script","",{},"\n"],select:["select","",{name:""}," "],source:["source",!1,{src:""},"\n"],strong:["strong","text goes here…",{}],style:["style","",{},"\n"],td:["td","data goes here…",{},"\n"],textarea:["textarea","text goes here…",{name:""}," "],th:["th","title goes here…",{},"\n"],tr:["tr","",{},"\n"],track:["track",!1,{},"\n"],u:["u","text goes here…",{}],ul:["ul","",{},"\n"],wbr:["wbr",!1,{},["","\n"]]}}};Object.assign(mt.prototype,yt,wt),mt.state=b({},mt.state,$t,Mt,Nt),delete mt.state.source.type;var zt=Be((function(e){return e.pull()}),1e3);function Yt(e){this.K.pull()}function Bt(e){this.K.pull()}function Gt(e){var t,r,n=this.TE,i=this.K,o=e.key,s=n.state.source.type;if(me(e),i.push(o),t=i.command())!1===(r=i.fire(t))?ge(e):null===r&&console.error("Unknown command:",t);else{if("HTML"===s)return void(function(e,t){var r=t.state,n=r.sourceHTML.tab||r.source.tab||r.tab||"\t",i=r.sourceHTML.elements||{},o=e.key,s=e.queue;if(s.Control){var a=t.$(),c=a.after,l=a.before,u=a.end,f=a.start;a.value;var d=c.split("\n").shift(),p=l.split("\n").pop(),v=p.match(/^(\s+)/),g=v&&v[1]||"";if("Enter"===o){var m=d.match(ct(Wt(Rt)+"\\s*$","")),y=i[m&&m[1]||"p"]||i.p;return y[3]=["\n"+g,"\n"+g],t.select(s.Shift?f-h(p):u+h(d)),Ft.apply(t,y),t.record(),!1}}if(s.Alt||s.Control)return!0;if(">"===o){var b,k=t.$(),w=k.after,E=k.before,x=k.end,S=(E.split("\n").pop()+">").match(ct(jt(Rt)+"$","")),P=i[b=S&&S[1]||""];return!b||(P?!1!==P[1]?(">"===w[0]?t.select(x+1):t.insert(">",-1),t.insert("</"+b+">",1).insert(P[1])):">"===w[0]?t.insert(" /",-1).select(x+3):t.insert(" />",-1):(">"===w[0]?t.select(x+1):t.insert(">",-1),t.insert("</"+b+">",1)),t.record(),!1)}if("Enter"===o){var T,A,$=t.$(),L=$.after,H=$.before,C=$.value,_=L.split("\n").shift(),K=H.split("\n").pop(),D=K.match(/^(\s+)/),q=D&&D[1]||"",O=["li","option","p","td","th"],M=["script","style"];if(T=K.match(ct(jt(Rt)+"$",""))){var X=i[T[1]];if(X&&!1===X[1])return t.insert("\n"+q,-1).record(),!1}if(L&&H){for(var F=0,R=h(O);F<R;++F)if(ct("^"+Wt(A=O[F]),"").test(_)&&(T=K.match(ct("^\\s*"+jt(A),""))))return T[0]===K?(i[A]&&C&&i[A][1]===C?t.insert("").wrap("\n"+q+n,"\n"+q):Ft.call(t,A),t.record(),!1):(t.insert("</"+A+">\n"+q+"<"+A+(T[2]||"")+">",-1).insert(i[A]&&i[A][1]||"").record(),!1);for(var j=0,W=h(M);j<W;++j)if(ct("^"+Wt(A=M[j]),"").test(_)&&ct(jt(A)+"$","").test(K))return t.wrap("\n"+q,"\n"+q).insert(i[A]&&i[A][1]||"").record(),!1;for(var I=1;I<7;++I)if(_.startsWith("</"+i["h"+I][0]+">")&&K.match(ct("^\\s*"+jt(i["h"+I][0]),"")))return i["h"+I]&&C&&i["h"+I][1]===C?t.insert("").wrap("\n"+q+n,"\n"+q):t.insert("</"+i["h"+I][0]+">\n"+q+"<"+i.p[0]+">",-1).replace(ct("^"+Wt(i["h"+I][0])),"</"+i.p[0]+">",1).insert(i.p[1]),t.record(),!1}}return!0}(i,n)&&Ot(i,n)&&Et(i,n)&&xt(i,n)&&St(i,n)&&Pt(i,n)&&Tt(i,n)||ge(e));if("XML"===s)return void(Ot(i,n)&&Et(i,n)&&xt(i,n)&&St(i,n)&&Pt(i,n)&&Tt(i,n)||ge(e));Et(i,n)&&xt(i,n)&&St(i,n)&&Pt(i,n)&&Tt(i,n)||ge(e)}zt(i)}function Vt(e){var t=this.TE,r=this.K,n=e.key;!function(e,t){At(t)}(0,t),r.pull(n)}function Jt(t){var r=this.TE;!function(t,r){t.key,t.queue.Control||E.setTimeout((function(){var t=r.$(),n=t.after,i=t.before,o=t.value;if(!o)for(var s,a,c=_t.split("([\\w:.-]+)").join("((?:[\\w:.-]|\ufeff)+)"),l=ct(c),u=i+o+"\ufeff"+n;s=l.exec(u);)if(e("\ufeff",s[0])){r.select(a=s.index,a+h(s[0])-1);break}}),1)}(this.K,r)}function Qt(e){ve("blur",e,Yt),ve("input",e,Bt),ve("keydown",e,Gt),ve("keyup",e,Vt),ve("mousedown",e,Jt),ve("touchstart",e,Jt)}function Zt(e){var t;for(var r in mt.instances)(t=mt.instances[r]).loss().pop(),delete t.self.K,delete mt.instances[r],Qt(t.self);var n,i,o,s,a=C(".lot\\:field.type\\:source textarea");a&&h(a)&&a.forEach((function(e){var t;n=new mt(e,null!=(t=L(e,"state"))?t:{}),o=n.state,s=o.source.type,(i=new E.K(n)).keys.Escape=function(){var e=O(this.source,"[tabindex]:not(.not\\:active)");return!e||(e.focus(),!1)},"HTML"===s&&(i.commands=Ut,i.keys["Control-b"]="bold",i.keys["Control-e"]="code",i.keys["Control-h"]="blocks",i.keys["Control-i"]="italic",i.keys["Control-k"]="link",i.keys["Control-o"]="image",i.keys["Control-q"]="quote",i.keys["Control-u"]="underline"),o.commands=i.commands,o.keys=i.keys,e.K=i,function(e){be("blur",e,Yt),be("input",e,Bt),be("keydown",e,Gt),be("keyup",e,Vt),be("mousedown",e,Jt),be("touchstart",e,Jt),e.TE.record()}(e)})),1===e&&(E._.on("change",Zt),["alert","confirm","prompt"].forEach((function(e){E._.dialog[e]&&(mt.state.source[e]=E._.dialog[e])})))}E.TE=mt;var er=":scope>.lot\\:file[tabindex]:not(.not\\:active),:scope>.lot\\:folder[tabindex]:not(.not\\:active)";function tr(e){e&&r(e.focus)&&e.focus()}function rr(e){if(!e.defaultPrevented){var t,r,n,i=this,o=e.key;if(i===e.target){for(t=q(i);t&&I(t,"not:active");)t=q(t);for(r=M(i);r&&I(r,"not:active");)r=M(r);"ArrowDown"===o?(tr(t),n=!0):"ArrowUp"===o?(tr(r),n=!0):"End"===o?(tr([].slice.call(C(er,O(i))).pop()),n=!0):"Home"===o&&(tr(H(er,O(i))),n=!0),n&&(ge(e),me(e))}}}function nr(e){if(!e.defaultPrevented){var t,r=this,n=e.key,i=e.altKey,o=e.ctrlKey,s=e.shiftKey;if(r===e.target){if(!i&&!o&&!s)"ArrowDown"===n||"Home"===n?(tr(H(er,r)),t=!0):"ArrowUp"!==n&&"End"!==n||(tr([].slice.call(C(er,r)).pop()),t=!0);t&&(ge(e),me(e))}}}var ir=":scope>ul>li>a[href]:not(.not\\:active)";function or(e){e&&r(e.focus)&&e.focus()}function sr(e){if(!e.defaultPrevented){var t,r,n,i,o=this,s=e.key,a=e.altKey,c=e.ctrlKey,l=e.shiftKey;if(!a&&!c&&!l){if(t=O(o)){for(r=q(t);r&&(I(r,"as:separator")||I(r,"not:active"));)r=q(r);for(n=M(t);n&&(I(n,"as:separator")||I(n,"not:active"));)n=M(n)}"ArrowLeft"===s?(or(n&&T(n)),i=!0):"ArrowRight"===s?(or(r&&T(r)),i=!0):"End"===s?((t=O(o,".lot\\:links[tabindex]"))&&or([].slice.call(C(ir,t)).pop()),i=!0):"Home"===s&&((t=O(o,".lot\\:links[tabindex]"))&&or(H(ir,t)),i=!0)}i&&(ge(e),me(e))}}function ar(e){if(!e.defaultPrevented){var t,r=this,n=e.key,i=e.altKey,o=e.ctrlKey,s=e.shiftKey;r===e.target&&(i||o||s||("ArrowRight"===n||"Home"===n?(or(H(ir,r)),t=!0):"ArrowLeft"!==n&&"End"!==n||(or([].slice.call(C(ir,r)).pop()),t=!0)),t&&(ge(e),me(e)))}}var cr="a[href]:not(.not\\:active)";function lr(e){e&&r(e.focus)&&e.focus()}function ur(e,t){C(".lot\\:menu[tabindex].is\\:enter").forEach((function(r){e!==r&&(B(O(r),"is:active"),B(M(r),"is:active"),B(r,"is:enter"),t&&Z(t,"aria-expanded","false"))}))}function fr(){ur(0)}function hr(e){if(!e.defaultPrevented){var t=this,r=q(t);ur(r,t),E.setTimeout((function(){fe(r,"is:enter"),fe(O(t),"is:active"),fe(t,"is:active"),Z(t,"aria-expanded",I(t,"is:active")?"true":"false")}),1),ge(e),me(e)}}function dr(e){if(!e.defaultPrevented){var t,r,n,i,o,s=this,a=e.key;if(r=O(s)){for(n=q(r);n&&(I(n,"as:separator")||I(n,"not:active"));)n=q(n);for(i=M(r);i&&(I(i,"as:separator")||I(i,"not:active"));)i=M(i)}"ArrowDown"===a?(lr(n&&T(n)),o=!0):"ArrowLeft"===a||"Escape"===a||"Tab"===a?((r=O(s,".lot\\:menu[tabindex].is\\:enter"))?(B(O(s),"is:active"),B(r,"is:enter"),B(s,"is:active"),"Tab"!==a&&lr(M(r))):"Escape"===a&&lr(O(s,".lot\\:menu[tabindex]")),o="Tab"!==a):"ArrowRight"===a?((n=q(s))&&I(n,"lot:menu")&&(te(O(s),"is:active"),te(n,"is:enter"),te(s,"is:active"),E.setTimeout((function(){lr(H(cr,n))}),1)),o=!0):"ArrowUp"===a?((t=i&&T(i))?lr(t):(t=O(s,".lot\\:menu[tabindex].is\\:enter"))&&(t=M(t))&&(pe("click",t),lr(t)),o=!0):"End"===a?((r=O(s,".lot\\:menu[tabindex]"))&&lr([].slice.call(C(cr,r)).pop()),o=!0):"Home"===a&&((r=O(s,".lot\\:menu[tabindex]"))&&lr(H(cr,r)),o=!0),o&&(ge(e),me(e))}}function pr(e){if(!e.defaultPrevented){var t,r=this,n=e.key,i=e.altKey,o=e.ctrlKey,s=e.shiftKey;r===e.target&&(i||o||s||("ArrowDown"===n||"Home"===n?(lr(H(cr,r)),t=!0):"ArrowUp"!==n&&"End"!==n||(lr([].slice.call(C(cr,r)).pop()),t=!0)),t&&(ge(e),me(e)))}}function vr(e){if(!e.defaultPrevented){var t,r=this,n=e.key,i=q(r),o=O(r);i&&o&&I(i,"lot:menu")&&(" "===n||"Enter"===n||"Tab"===n?"Tab"===n?I(i,"is:enter")&&pe("click",r):(pe("click",r),t=!0):"ArrowDown"===n&&(I(i,"is:enter")||pe("click",r),E.setTimeout((function(){lr(H(cr,i))}),1),t=!0)),t&&(ge(e),me(e))}}var gr=":scope>.lot\\:page[tabindex]:not(.not\\:active)";function mr(e){e&&r(e.focus)&&e.focus()}function yr(e){if(!e.defaultPrevented){var t,r,n,i=this,o=e.key;if(i===e.target){for(t=q(i);t&&I(t,"not:active");)t=q(t);for(r=M(i);r&&I(r,"not:active");)r=M(r);"ArrowDown"===o?(mr(t),n=!0):"ArrowUp"===o?(mr(r),n=!0):"End"===o?(mr([].slice.call(C(gr,O(i))).pop()),n=!0):"Home"===o&&(mr(H(gr,O(i))),n=!0),n&&(ge(e),me(e))}}}function br(e){if(!e.defaultPrevented){var t,r=this,n=e.key,i=e.altKey,o=e.ctrlKey,s=e.shiftKey;r===e.target&&(i||o||s||("ArrowDown"===n||"Home"===n?(mr(H(gr,r)),t=!0):"ArrowUp"!==n&&"End"!==n||(mr([].slice.call(C(gr,r)).pop()),t=!0)),t&&(ge(e),me(e)))}}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function kr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var wr={exports:{}};"undefined"!=typeof self&&self,wr.exports=function(e){function t(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,r){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function(){function e(t){var r=this;if(n(this,e),this.config=e.mergeSettings(t),this.selector="string"==typeof this.config.selector?document.querySelector(this.config.selector):this.config.selector,null===this.selector)throw Error("Something wrong with your selector 😭");this.resolveSlidesNumber(),this.selectorWidth=this.selector.offsetWidth,this.innerElements=[].slice.call(this.selector.children),this.currentSlide=this.config.loop?this.config.startIndex%this.innerElements.length:Math.max(0,Math.min(this.config.startIndex,this.innerElements.length-this.perPage)),this.transformProperty=e.webkitOrNot(),["resizeHandler","touchstartHandler","touchendHandler","touchmoveHandler","mousedownHandler","mouseupHandler","mouseleaveHandler","mousemoveHandler","clickHandler"].forEach((function(e){r[e]=r[e].bind(r)})),this.init()}return o(e,[{key:"attachEvents",value:function(){window.addEventListener("resize",this.resizeHandler),this.config.draggable&&(this.pointerDown=!1,this.drag={startX:0,endX:0,startY:0,letItGo:null,preventClick:!1},this.selector.addEventListener("touchstart",this.touchstartHandler),this.selector.addEventListener("touchend",this.touchendHandler),this.selector.addEventListener("touchmove",this.touchmoveHandler),this.selector.addEventListener("mousedown",this.mousedownHandler),this.selector.addEventListener("mouseup",this.mouseupHandler),this.selector.addEventListener("mouseleave",this.mouseleaveHandler),this.selector.addEventListener("mousemove",this.mousemoveHandler),this.selector.addEventListener("click",this.clickHandler))}},{key:"detachEvents",value:function(){window.removeEventListener("resize",this.resizeHandler),this.selector.removeEventListener("touchstart",this.touchstartHandler),this.selector.removeEventListener("touchend",this.touchendHandler),this.selector.removeEventListener("touchmove",this.touchmoveHandler),this.selector.removeEventListener("mousedown",this.mousedownHandler),this.selector.removeEventListener("mouseup",this.mouseupHandler),this.selector.removeEventListener("mouseleave",this.mouseleaveHandler),this.selector.removeEventListener("mousemove",this.mousemoveHandler),this.selector.removeEventListener("click",this.clickHandler)}},{key:"init",value:function(){this.attachEvents(),this.selector.style.overflow="hidden",this.selector.style.direction=this.config.rtl?"rtl":"ltr",this.buildSliderFrame(),this.config.onInit.call(this)}},{key:"buildSliderFrame",value:function(){var e=this.selectorWidth/this.perPage,t=this.config.loop?this.innerElements.length+2*this.perPage:this.innerElements.length;this.sliderFrame=document.createElement("div"),this.sliderFrame.style.width=e*t+"px",this.enableTransition(),this.config.draggable&&(this.selector.style.cursor="-webkit-grab");var r=document.createDocumentFragment();if(this.config.loop)for(var n=this.innerElements.length-this.perPage;n<this.innerElements.length;n++){var i=this.buildSliderFrameItem(this.innerElements[n].cloneNode(!0));r.appendChild(i)}for(var o=0;o<this.innerElements.length;o++){var s=this.buildSliderFrameItem(this.innerElements[o]);r.appendChild(s)}if(this.config.loop)for(var a=0;a<this.perPage;a++){var c=this.buildSliderFrameItem(this.innerElements[a].cloneNode(!0));r.appendChild(c)}this.sliderFrame.appendChild(r),this.selector.innerHTML="",this.selector.appendChild(this.sliderFrame),this.slideToCurrent()}},{key:"buildSliderFrameItem",value:function(e){var t=document.createElement("div");return t.style.cssFloat=this.config.rtl?"right":"left",t.style.float=this.config.rtl?"right":"left",t.style.width=(this.config.loop?100/(this.innerElements.length+2*this.perPage):100/this.innerElements.length)+"%",t.appendChild(e),t}},{key:"resolveSlidesNumber",value:function(){if("number"==typeof this.config.perPage)this.perPage=this.config.perPage;else if("object"===i(this.config.perPage))for(var e in this.perPage=1,this.config.perPage)window.innerWidth>=e&&(this.perPage=this.config.perPage[e])}},{key:"prev",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments[1];if(!(this.innerElements.length<=this.perPage)){var r=this.currentSlide;if(this.config.loop)if(this.currentSlide-e<0){this.disableTransition();var n=this.currentSlide+this.innerElements.length,i=n+this.perPage,o=(this.config.rtl?1:-1)*i*(this.selectorWidth/this.perPage),s=this.config.draggable?this.drag.endX-this.drag.startX:0;this.sliderFrame.style[this.transformProperty]="translate3d("+(o+s)+"px, 0, 0)",this.currentSlide=n-e}else this.currentSlide=this.currentSlide-e;else this.currentSlide=Math.max(this.currentSlide-e,0);r!==this.currentSlide&&(this.slideToCurrent(this.config.loop),this.config.onChange.call(this),t&&t.call(this))}}},{key:"next",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments[1];if(!(this.innerElements.length<=this.perPage)){var r=this.currentSlide;if(this.config.loop)if(this.currentSlide+e>this.innerElements.length-this.perPage){this.disableTransition();var n=this.currentSlide-this.innerElements.length,i=n+this.perPage,o=(this.config.rtl?1:-1)*i*(this.selectorWidth/this.perPage),s=this.config.draggable?this.drag.endX-this.drag.startX:0;this.sliderFrame.style[this.transformProperty]="translate3d("+(o+s)+"px, 0, 0)",this.currentSlide=n+e}else this.currentSlide=this.currentSlide+e;else this.currentSlide=Math.min(this.currentSlide+e,this.innerElements.length-this.perPage);r!==this.currentSlide&&(this.slideToCurrent(this.config.loop),this.config.onChange.call(this),t&&t.call(this))}}},{key:"disableTransition",value:function(){this.sliderFrame.style.webkitTransition="all 0ms "+this.config.easing,this.sliderFrame.style.transition="all 0ms "+this.config.easing}},{key:"enableTransition",value:function(){this.sliderFrame.style.webkitTransition="all "+this.config.duration+"ms "+this.config.easing,this.sliderFrame.style.transition="all "+this.config.duration+"ms "+this.config.easing}},{key:"goTo",value:function(e,t){if(!(this.innerElements.length<=this.perPage)){var r=this.currentSlide;this.currentSlide=this.config.loop?e%this.innerElements.length:Math.min(Math.max(e,0),this.innerElements.length-this.perPage),r!==this.currentSlide&&(this.slideToCurrent(),this.config.onChange.call(this),t&&t.call(this))}}},{key:"slideToCurrent",value:function(e){var t=this,r=this.config.loop?this.currentSlide+this.perPage:this.currentSlide,n=(this.config.rtl?1:-1)*r*(this.selectorWidth/this.perPage);e?requestAnimationFrame((function(){requestAnimationFrame((function(){t.enableTransition(),t.sliderFrame.style[t.transformProperty]="translate3d("+n+"px, 0, 0)"}))})):this.sliderFrame.style[this.transformProperty]="translate3d("+n+"px, 0, 0)"}},{key:"updateAfterDrag",value:function(){var e=(this.config.rtl?-1:1)*(this.drag.endX-this.drag.startX),t=Math.abs(e),r=this.config.multipleDrag?Math.ceil(t/(this.selectorWidth/this.perPage)):1,n=e>0&&this.currentSlide-r<0,i=e<0&&this.currentSlide+r>this.innerElements.length-this.perPage;e>0&&t>this.config.threshold&&this.innerElements.length>this.perPage?this.prev(r):e<0&&t>this.config.threshold&&this.innerElements.length>this.perPage&&this.next(r),this.slideToCurrent(n||i)}},{key:"resizeHandler",value:function(){this.resolveSlidesNumber(),this.currentSlide+this.perPage>this.innerElements.length&&(this.currentSlide=this.innerElements.length<=this.perPage?0:this.innerElements.length-this.perPage),this.selectorWidth=this.selector.offsetWidth,this.buildSliderFrame()}},{key:"clearDrag",value:function(){this.drag={startX:0,endX:0,startY:0,letItGo:null,preventClick:this.drag.preventClick}}},{key:"touchstartHandler",value:function(e){-1!==["TEXTAREA","OPTION","INPUT","SELECT"].indexOf(e.target.nodeName)||(e.stopPropagation(),this.pointerDown=!0,this.drag.startX=e.touches[0].pageX,this.drag.startY=e.touches[0].pageY)}},{key:"touchendHandler",value:function(e){e.stopPropagation(),this.pointerDown=!1,this.enableTransition(),this.drag.endX&&this.updateAfterDrag(),this.clearDrag()}},{key:"touchmoveHandler",value:function(e){if(e.stopPropagation(),null===this.drag.letItGo&&(this.drag.letItGo=Math.abs(this.drag.startY-e.touches[0].pageY)<Math.abs(this.drag.startX-e.touches[0].pageX)),this.pointerDown&&this.drag.letItGo){e.preventDefault(),this.drag.endX=e.touches[0].pageX,this.sliderFrame.style.webkitTransition="all 0ms "+this.config.easing,this.sliderFrame.style.transition="all 0ms "+this.config.easing;var t=(this.config.loop?this.currentSlide+this.perPage:this.currentSlide)*(this.selectorWidth/this.perPage),r=this.drag.endX-this.drag.startX,n=this.config.rtl?t+r:t-r;this.sliderFrame.style[this.transformProperty]="translate3d("+(this.config.rtl?1:-1)*n+"px, 0, 0)"}}},{key:"mousedownHandler",value:function(e){-1!==["TEXTAREA","OPTION","INPUT","SELECT"].indexOf(e.target.nodeName)||(e.preventDefault(),e.stopPropagation(),this.pointerDown=!0,this.drag.startX=e.pageX)}},{key:"mouseupHandler",value:function(e){e.stopPropagation(),this.pointerDown=!1,this.selector.style.cursor="-webkit-grab",this.enableTransition(),this.drag.endX&&this.updateAfterDrag(),this.clearDrag()}},{key:"mousemoveHandler",value:function(e){if(e.preventDefault(),this.pointerDown){"A"===e.target.nodeName&&(this.drag.preventClick=!0),this.drag.endX=e.pageX,this.selector.style.cursor="-webkit-grabbing",this.sliderFrame.style.webkitTransition="all 0ms "+this.config.easing,this.sliderFrame.style.transition="all 0ms "+this.config.easing;var t=(this.config.loop?this.currentSlide+this.perPage:this.currentSlide)*(this.selectorWidth/this.perPage),r=this.drag.endX-this.drag.startX,n=this.config.rtl?t+r:t-r;this.sliderFrame.style[this.transformProperty]="translate3d("+(this.config.rtl?1:-1)*n+"px, 0, 0)"}}},{key:"mouseleaveHandler",value:function(e){this.pointerDown&&(this.pointerDown=!1,this.selector.style.cursor="-webkit-grab",this.drag.endX=e.pageX,this.drag.preventClick=!1,this.enableTransition(),this.updateAfterDrag(),this.clearDrag())}},{key:"clickHandler",value:function(e){this.drag.preventClick&&e.preventDefault(),this.drag.preventClick=!1}},{key:"remove",value:function(e,t){if(e<0||e>=this.innerElements.length)throw Error("Item to remove doesn't exist 😭");var r=e<this.currentSlide,n=this.currentSlide+this.perPage-1===e;(r||n)&&this.currentSlide--,this.innerElements.splice(e,1),this.buildSliderFrame(),t&&t.call(this)}},{key:"insert",value:function(e,t,r){if(t<0||t>this.innerElements.length+1)throw Error("Unable to inset it at this index 😭");if(-1!==this.innerElements.indexOf(e))throw Error("The same item in a carousel? Really? Nope 😭");var n=t<=this.currentSlide>0&&this.innerElements.length;this.currentSlide=n?this.currentSlide+1:this.currentSlide,this.innerElements.splice(t,0,e),this.buildSliderFrame(),r&&r.call(this)}},{key:"prepend",value:function(e,t){this.insert(e,0),t&&t.call(this)}},{key:"append",value:function(e,t){this.insert(e,this.innerElements.length+1),t&&t.call(this)}},{key:"destroy",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments[1];if(this.detachEvents(),this.selector.style.cursor="auto",e){for(var r=document.createDocumentFragment(),n=0;n<this.innerElements.length;n++)r.appendChild(this.innerElements[n]);this.selector.innerHTML="",this.selector.appendChild(r),this.selector.removeAttribute("style")}t&&t.call(this)}}],[{key:"mergeSettings",value:function(e){var t={selector:".siema",duration:200,easing:"ease-out",perPage:1,startIndex:0,draggable:!0,multipleDrag:!0,threshold:20,loop:!1,rtl:!1,onInit:function(){},onChange:function(){}},r=e;for(var n in r)t[n]=r[n];return t}},{key:"webkitOrNot",value:function(){return"string"==typeof document.documentElement.style.transform?"transform":"WebkitTransform"}}]),e}();t.default=s,e.exports=t.default}]);var Er=kr(wr.exports);var xr='a[target^="stack:"]:not(.not\\:active)';function Sr(e){e&&r(e.focus)&&e.focus()}function Pr(e){if(!e.defaultPrevented){var t,r,n,i,o,s=this,a=e.key,c=e.altKey,l=e.ctrlKey;if(!c&&!l)if("ArrowDown"===a||"ArrowRight"===a||"PageDown"===a){if(n=O(O(s)))for(r=q(n);r&&I(r,"not:active");)r=q(r);(t=r&&T(r))&&("ArrowRight"===a&&I(O(t),"can:toggle")||pe("click",T(t)),Sr(T(t))),o=!0}else if("ArrowUp"===a||"ArrowLeft"===a||"PageUp"===a){if(n=O(O(s)))for(i=M(n);i&&I(i,"not:active");)i=M(i);(t=i&&T(i))&&("ArrowLeft"===a&&I(O(t),"can:toggle")||pe("click",T(t)),Sr(T(t))),o=!0}else" "===a||"Enter"===a?(I(O(O(s)),"can:toggle")&&(pe("click",s),Sr(s)),o=!0):"End"===a?((n=O(s,".lot\\:stacks[tabindex]"))&&(t=[].slice.call(C(xr,n)).pop())&&(pe("click",t),Sr(t)),o=!0):"Home"===a&&((n=O(s,".lot\\:stacks[tabindex]"))&&(t=H(xr,n))&&(pe("click",t),Sr(t)),o=!0);o&&(ge(e),me(e))}}function Tr(e){if(!e.defaultPrevented){var t,r,n,i,o=this,s=e.key,a=e.altKey,c=e.ctrlKey,l=e.shiftKey;if(a&&c&&!l)t=(t=H(xr+".is\\:current",o))&&O(O(t)),"PageDown"===s?((t=(r=t&&q(t))&&H(xr,r))&&(pe("click",t),Sr(t)),i=!0):"PageUp"===s&&((t=(n=t&&M(t))&&H(xr,n))&&(pe("click",t),Sr(t)),i=!0);else if(!a&&!c&&!l){if(o!==e.target)return;"ArrowDown"===s||"ArrowRight"===s||"Home"===s||"PageDown"===s?((t=H(xr,o))&&(pe("click",t),Sr(t)),i=!0):"ArrowUp"!==s&&"ArrowLeft"!==s&&"End"!==s&&"PageUp"!==s||((t=[].slice.call(C(xr,o)).pop())&&(pe("click",t),Sr(t)),i=!0)}i&&(ge(e),me(e))}}var Ar='a[target^="tab:"]:not(.not\\:active)';function $r(e){e&&r(e.focus)&&e.focus()}function Lr(e){if(!e.defaultPrevented){var t,r,n,i,o,s=this,a=e.key,c=e.altKey,l=e.ctrlKey;if(!c&&!l)if("ArrowDown"===a){if(I(s,"can:toggle")&&!I(s,"is:current"))t=s;else{if(n=O(s))for(r=q(n);r&&I(r,"not:active");)r=q(r);t=r&&T(r)}t&&(pe("click",t),$r(t)),o=!0}else if("ArrowLeft"===a||"PageUp"===a){if(n=O(s))for(i=M(n);i&&I(i,"not:active");)i=M(i);(t=i&&T(i))&&(pe("click",t),$r(t)),o=!0}else if("ArrowRight"===a||"PageDown"===a){if(n=O(s))for(r=q(n);r&&I(r,"not:active");)r=q(r);(t=r&&T(r))&&(pe("click",t),$r(t)),o=!0}else if("ArrowUp"===a){if(I(s,"can:toggle")&&I(s,"is:current"))t=s;else{if(n=O(s))for(i=M(n);i&&I(i,"not:active");)i=M(i);t=i&&T(i)}t&&(pe("click",t),$r(t)),o=!0}else" "===a||"Enter"===a?(I(s,"can:toggle")&&(pe("click",s),$r(s)),o=!0):"End"===a?((n=O(s,".lot\\:tabs[tabindex]"))&&(t=[].slice.call(C(Ar,n)).pop())&&(pe("click",t),$r(t)),o=!0):"Home"===a&&((n=O(s,".lot\\:tabs[tabindex]"))&&(t=H(Ar,n))&&(pe("click",t),$r(t)),o=!0);o&&(ge(e),me(e))}}function Hr(e){if(!e.defaultPrevented){var t,r,n,i,o=this,s=e.key,a=e.altKey,c=e.ctrlKey,l=e.shiftKey;if(a&&c&&!l)t=(t=H(Ar+".is\\:current",o))&&O(t),"PageDown"===s?((t=(r=t&&q(t))&&T(r))&&(pe("click",t),$r(t)),i=!0):"PageUp"===s&&((t=(n=t&&M(t))&&T(n))&&(pe("click",t),$r(t)),i=!0);else if(!a&&!c&&!l){if(o!==e.target)return;"ArrowDown"===s||"ArrowRight"===s||"Home"===s||"PageDown"===s?((t=H(Ar,o))&&(pe("click",t),$r(t)),i=!0):"ArrowUp"!==s&&"ArrowLeft"!==s&&"End"!==s&&"PageUp"!==s||((t=[].slice.call(C(Ar,o)).pop())&&(pe("click",t),$r(t)),i=!0)}i&&(ge(e),me(e))}}var Cr='a[href]:not([tabindex="-1"]):not(.not\\:active),button:not(:disabled):not([tabindex="-1"]):not(.not\\:active),input:not(:disabled):not([tabindex="-1"]):not(.not\\:active),select:not(:disabled):not([tabindex="-1"]):not(.not\\:active),[tabindex]:not([tabindex="-1"]):not(.not\\:active)';function _r(e){e&&r(e.focus)&&e.focus()}function Kr(e){e&&r(e.select)&&e.select()}function Dr(e){if(!e.defaultPrevented){var t,r,n,i,o,s=this,a=e.key,c=e.altKey,l=e.ctrlKey,u=e.shiftKey;if(!c&&!l&&!u){for(n=q(s);n&&I(n,"not:active");)n=q(n);for(i=M(s);i&&I(i,"not:active");)i=M(i);"ArrowLeft"===a?(o=!("selectionStart"in s&&0!==s.selectionStart))&&(_r(i),Kr(i)):"ArrowRight"===a?(o=!("selectionEnd"in s&&s.selectionEnd<h(s.value||"")))&&(_r(n),Kr(n)):"End"===a?(o=!("selectionEnd"in s&&h(s.value||"")))&&(r=O(s,".lot\\:tasks[tabindex]"))&&(t=[].slice.call(C(Cr,r)).pop())&&(_r(t),Kr(t)):"Home"===a&&(o=!("selectionStart"in s&&h(s.value||"")))&&(r=O(s,".lot\\:tasks[tabindex]"))&&(t=H(Cr,r))&&(_r(t),Kr(t))}o&&(ge(e),me(e))}}function qr(e){if(!e.defaultPrevented){var t,r,n=this,i=e.key,o=e.altKey,s=e.ctrlKey,a=e.shiftKey;n===e.target&&(o||s||a||("ArrowLeft"===i||"End"===i?((t=[].slice.call(C(Cr,n)).pop())&&(_r(t),Kr(t)),r=!0):"ArrowRight"!==i&&"Home"!==i||((t=H(Cr,n))&&(_r(t),Kr(t)),r=!0)),r&&(ge(e),me(e)))}}function Or(e){void 0===e&&(e={});var n=this;return n.command=function(e){if(a(e))return e===n.toString();var t=n.keys[n.toString()];return!!s(t)&&t},n.commands={},n.fire=function(e){var i,o,c=n.source;if(r(e))i=e.call(c),o=!0;else if(a(e)&&(e=n.commands[e]))i=e.call(c),o=!0;else if(t(e)){var l=e[1]||[];(e=n.commands[e[0]])&&(i=e.apply(c,l),o=!0)}return o?!s(i)||i:null},n.key=null,n.keys={},n.pull=function(e){return n.key=null,s(e)?(delete n.queue[e],n):(n.queue={},n)},n.push=function(e){return n.queue[n.key=e]=1,n},n.queue={},n.source=e,n.toString=function(){return g(n.queue).join("-")},n}var Mr=Be((function(e){return e.pull()}),1e3),Xr=new Or(E);Xr.keys.Escape=function(){var e=w.activeElement,t=e&&O(O(e),"[tabindex]:not(.not\\:active)");return console.log([e,t]),t&&t.focus(),!1},Xr.keys.F3=function(){var e,t=(e="get",w.forms[e]||null),r=t&&t.query;return r&&r.focus(),!1},Xr.keys.F10=function(){var e,t=H(".lot\\:bar a:any-link");return t&&(t.focus(),(e=O(t))&&I(e,"has:menu")&&t.click()),!1},be("blur",E,(function(e){return Xr.pull()})),be("keydown",E,(function(e){Xr.push(e.key);var t=Xr.command();if(t){var r=Xr.fire(t);!1===r?ge(e):null===r&&console.error("Unknown command:",t)}Mr(Xr)})),be("keyup",E,(function(e){return Xr.pull(e.key)}));var Fr={commands:Xr.commands,keys:Xr.keys},Rr=Qe(Fr),jr=Rr.fire;Rr.hooks,Rr.off,Rr.on,E.K=Or,E._=Fr,be("beforeload",w,(function(){return jr("let")})),be("load",w,(function(){return jr("get")})),be("DOMContentLoaded",w,(function(){return jr("set")})),function e(t){var r=C(".lot\\:bar[tabindex]");r&&h(r)&&r.forEach((function(e){C(we,e).forEach((function(e){be("keydown",e,Se)})),be("keydown",e,xe)})),1===t&&E._.on("change",e)}(1),1===1&&(E._.dialog=Ce),st(1),vt(1),Zt(1),function e(t){var r=C(".lot\\:files[tabindex],.lot\\:folders[tabindex]");r&&h(r)&&r.forEach((function(e){C(er,e).forEach((function(e){be("keydown",e,rr)})),be("keydown",e,nr)})),1===t&&E._.on("change",e)}(1),function e(t){var r=C(".lot\\:links[tabindex]");r&&h(r)&&r.forEach((function(e){var t=C(ir,e);t&&h(t)&&t.forEach((function(e){be("keydown",e,sr)})),be("keydown",e,ar)})),1===t&&E._.on("change",e)}(1),function e(t){ve("click",w,fr);var r=C(".has\\:menu"),n=C(".lot\\:menu[tabindex] "+cr);r&&h(r)&&(r.forEach((function(e){var t=H(".lot\\:menu[tabindex]",e),r=M(t);t&&r&&(be("click",r,hr),be("keydown",r,vr))})),be("click",w,fr)),n&&h(n)&&n.forEach((function(e){be("keydown",e,dr)}));var i=C(".lot\\:menu[tabindex]");i&&h(i)&&i.forEach((function(e){be("keydown",e,pr)})),1===t&&E._.on("change",e)}(1),function e(t){var r=C(".lot\\:pages[tabindex]");r&&h(r)&&r.forEach((function(e){C(gr,e).forEach((function(e){be("keydown",e,yr)})),be("keydown",e,br)})),1===t&&E._.on("change",e)}(1),function(e){var t=C(".siema");t&&h(t)&&t.forEach((function(e){var t=new Er({duration:500,loop:!0,selector:e}),r=E.setInterval((function(){return t.next()}),5e3);be("click",e,(function(){return E.clearInterval(r)}))})),1===e&&(_.on("change.stack",(function(){return pe("resize",E)})),_.on("change.tab",(function(){return pe("resize",E)})))}(1),function e(t){var r=C(".lot\\:stacks[tabindex]");r&&h(r)&&r.forEach((function(e){var t,r,n=[].slice.call(A(e)),i=ie("input");function o(e){var o,s=this,a=O(O(s)),c=O(a,".lot\\:stacks");I(a,"has:link")||(n.forEach((function(e){e!==a&&(B(e,"is:current"),B(H('a[target^="stack:"]',e),"is:current"))})),I(a,"can:toggle")?(fe(s,"is:current"),fe(a,"is:current")):(te(s,"is:current"),te(a,"is:current")),o=I(s,"is:current"),i.value=r=o?L(a,"value"):null,fe(c,"has:current",o),E._.fire.call(a,"change.stack",[r,t]),ge(e))}i.type="hidden",i.name=t=L(e,"name"),t&&ee(e,i),n.forEach((function(e){var t=H(xr,e);be("click",t,o),be("keydown",t,Pr)}));var s=n.find((function(e,t){return 0!==t&&I(e,"is:current")}));s&&(i.value=L(s,"value")),be("keydown",e,Tr)})),1===t&&E._.on("change",e)}(1),function e(t){var r=C(".lot\\:tabs[tabindex]");r&&h(r)&&r.forEach((function(e){var t,r,n=[].slice.call(A(e)),i=[].slice.call(C(Ar,n.shift())),o=ie("input");function s(e){var s,a=this,c=n[a._tabIndex],l=O(a),u=O(l,".lot\\:tabs");I(l,"has:link")||(i.forEach((function(e){if(e!==a){B(O(e),"is:current"),B(e,"is:current"),Z(e,"aria-selected","false"),Z(e,"tabindex","-1");var t=n[e._tabIndex];t&&B(t,"is:current")}})),I(l,"can:toggle")?(fe(l,"is:current"),fe(a,"is:current"),Z(a,"aria-selected",I(a,"is:current")?"true":"false"),Z(a,"tabindex",I(a,"is:current")?"0":"-1")):(te(l,"is:current"),te(a,"is:current"),Z(a,"aria-selected","true"),Z(a,"tabindex","0")),s=I(a,"is:current"),c&&(o.value=r=s?L(a,"value"):null,fe(c,"is:current",s),fe(u,"has:current",s),E._.fire.call(c,"change.tab",[r,t])),ge(e))}o.type="hidden",o.name=t=L(e,"name"),t&&ee(e,o),i.forEach((function(e,t){e._tabIndex=t,be("click",e,s),be("keydown",e,Lr)}));var a=i.find((function(e,t){return 0!==t&&I(O(e),"is:current")}));a&&(o.value=L(a,"value")),be("keydown",e,Hr)})),1===t&&E._.on("change",e)}(1),function e(t){var r=C(".lot\\:tasks[tabindex]");r&&h(r)&&r.forEach((function(e){var t=C(Cr,e);t&&h(t)&&t.forEach((function(e){be("keydown",e,Dr)})),be("keydown",e,qr)})),1===t&&E._.on("change",e)}(1)}();